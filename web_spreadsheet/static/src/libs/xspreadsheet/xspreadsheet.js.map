{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/hot-formula-parser/dist/formula-parser.js","webpack:///./src/component/element.js","webpack:///./src/core/alphabet.js","webpack:///./src/core/cell_range.js","webpack:///./src/core/selector.js","webpack:///./src/core/scroll.js","webpack:///./src/core/history.js","webpack:///./src/core/clipboard.js","webpack:///./src/core/auto_filter.js","webpack:///./src/core/merge.js","webpack:///./src/core/helper.js","webpack:///./src/core/row.js","webpack:///./src/core/col.js","webpack:///./src/locale/locale.js","webpack:///./src/locale/en.js","webpack:///./src/core/validator.js","webpack:///./src/core/validation.js","webpack:///./src/core/data_proxy.js","webpack:///./src/component/event.js","webpack:///./src/config.js","webpack:///./src/component/resizer.js","webpack:///./src/component/scrollbar.js","webpack:///./src/component/selector.js","webpack:///./src/component/suggest.js","webpack:///./src/component/icon.js","webpack:///./src/component/calendar.js","webpack:///./src/component/datepicker.js","webpack:///./src/core/caret.js","webpack:///./src/component/formula.js","webpack:///./src/component/editor.js","webpack:///./src/component/button.js","webpack:///./src/canvas/draw.js","webpack:///./src/core/font.js","webpack:///./src/core/cell.js","webpack:///./src/core/format.js","webpack:///./src/component/table.js","webpack:///./src/component/print.js","webpack:///./src/component/contextmenu.js","webpack:///./src/component/toolbar/item.js","webpack:///./src/component/tooltip.js","webpack:///./src/component/toolbar/dropdown_item.js","webpack:///./src/component/dropdown.js","webpack:///./src/component/dropdown_align.js","webpack:///./src/component/toolbar/align.js","webpack:///./src/component/toolbar/valign.js","webpack:///./src/component/toolbar/toggle_item.js","webpack:///./src/component/toolbar/autofilter.js","webpack:///./src/component/toolbar/bold.js","webpack:///./src/component/toolbar/italic.js","webpack:///./src/component/toolbar/strike.js","webpack:///./src/component/toolbar/underline.js","webpack:///./src/component/color_palette.js","webpack:///./src/component/dropdown_color.js","webpack:///./src/component/dropdown_linetype.js","webpack:///./src/component/border_palette.js","webpack:///./src/component/dropdown_border.js","webpack:///./src/component/toolbar/border.js","webpack:///./src/component/toolbar/icon_item.js","webpack:///./src/component/toolbar/clearformat.js","webpack:///./src/component/toolbar/paintformat.js","webpack:///./src/component/toolbar/text_color.js","webpack:///./src/component/toolbar/fill_color.js","webpack:///./src/component/dropdown_fontsize.js","webpack:///./src/component/toolbar/font_size.js","webpack:///./src/component/dropdown_font.js","webpack:///./src/component/toolbar/font.js","webpack:///./src/component/dropdown_format.js","webpack:///./src/component/toolbar/format.js","webpack:///./src/component/dropdown_formula.js","webpack:///./src/component/toolbar/formula.js","webpack:///./src/component/toolbar/freeze.js","webpack:///./src/component/toolbar/merge.js","webpack:///./src/component/toolbar/redo.js","webpack:///./src/component/toolbar/undo.js","webpack:///./src/component/toolbar/print.js","webpack:///./src/component/toolbar/textwrap.js","webpack:///./src/component/toolbar/more.js","webpack:///./src/component/toolbar/index.js","webpack:///./src/component/modal.js","webpack:///./src/component/form_input.js","webpack:///./src/component/form_select.js","webpack:///./src/component/form_field.js","webpack:///./src/component/modal_validation.js","webpack:///./src/component/sort_filter.js","webpack:///./src/component/message.js","webpack:///./src/component/sheet.js","webpack:///./src/component/bottombar.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","factory","self","configurable","nil","Error","div0","ref","num","na","error","data","flattenShallow","array","reduce","a","b","aIsArray","Array","isArray","bIsArray","concat","push","isFlat","length","flatten","result","argsToArray","apply","arguments","args","arrayEach","numbers","possibleNumbers","this","filter","el","cleanFloat","number","Math","round","parseBool","bool","up","toUpperCase","Date","isNaN","parseNumber","string","undefined","parseFloat","parseNumberArray","arr","len","parsed","parseMatrix","matrix","pnarr","d1900","UTC","parseDate","date","parseInt","getTime","parseDateArray","anyIsError","arrayValuesToNumbers","rest","idx","slice","initial","iteratee","index","transpose","map","col","row","_errors","type","replace","errors","isValidStrict","valid","ERROR","ERROR_DIV_ZERO","ERROR_NAME","ERROR_NOT_AVAILABLE","ERROR_NULL","ERROR_NUM","ERROR_REF","ERROR_VALUE","toNumber","indexOf","invertNumber","utils","statistical","information","evalExpression","ABS","abs","ACOS","acos","ACOSH","log","sqrt","ACOT","atan","ACOTH","AGGREGATE","function_num","options","ref1","ref2","AVERAGE","COUNT","COUNTA","MAX","MIN","PRODUCT","STDEV","S","P","SUM","VAR","MEDIAN","MODE","SNGL","LARGE","SMALL","PERCENTILE","INC","QUARTILE","EXC","ARABIC","text","test","M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I","ASIN","asin","ASINH","ATAN","ATAN2","number_x","number_y","atan2","ATANH","BASE","radix","min_length","toString","max","join","CEILING","significance","precision","floor","ROUND","ceil","MATH","PRECISE","COMBIN","number_chosen","FACT","COMBINA","COS","cos","COSH","exp","COT","tan","COTH","e2","CSC","sin","CSCH","DECIMAL","DEGREES","PI","EVEN","EXP","MEMOIZED_FACT","FACTDOUBLE","FLOOR","GCD","range","r0","x","ri","y","INT","ISO","LCM","j","pop","splice","LN","LN10","LN2","LOG10E","LOG2E","LOG","base","LOG10","MOD","dividend","divisor","modulus","MROUND","multiple","MULTINOMIAL","sum","ODD","temp","E","POWER","power","pow","QUOTIENT","numerator","denominator","RADIANS","RAND","random","RANDBETWEEN","bottom","top","ROMAN","digits","String","split","roman","ROUNDDOWN","ROUNDUP","SEC","SECH","SERIESSUM","coefficients","SIGN","SIN","SINH","SQRT","SQRTPI","SQRT1_2","SQRT2","SUBTOTAL","function_code","ADD","num1","num2","MINUS","DIVIDE","MULTIPLY","factor1","factor2","GTE","LT","LTE","EQ","value1","value2","NE","POW","exponent","SUMIF","criteria","isWildcard","tokenizedCriteria","parse","tokens","createToken","TOKEN_TYPE_LITERAL","compute","SUMIFS","shift","criterias","n_range_elements","criteriaLength","isMeetCondition","computedResult","SUMPRODUCT","product","k","_i","_ij","arrays","SUMSQ","ISNUMBER","SUMX2MY2","array_x","array_y","SUMX2PY2","SUMXMY2","TAN","TANH","TRUNC","mathTrig","jStat","misc","AVEDEV","subtract","mean","count","AVERAGEA","AVERAGEIF","average_range","average_count","AVERAGEIFS","average","BETA","DIST","alpha","beta","cumulative","A","B","cdf","pdf","INV","probability","inv","BINOM","successes","trials","binomial","RANGE","successes2","CHISQ","chisquare","RT","TEST","observed","expected","tmp","dof","xsqr","Pi","ChiSq","COLUMN","COLUMNS","cols","CONFIDENCE","NORM","sd","normalci","T","tci","CORREL","array1","array2","corrcoeff","COUNTBLANK","COUNTIN","element","blanks","COUNTIF","matches","COUNTIFS","results","COUNTUNIQUE","UNIQUE","COVARIANCE","mean1","mean2","covariance","DEVSQ","EXPON","lambda","exponential","F","d1","d2","centralF","sumOfSquares","values","x1","x2","FISHER","FISHERINV","e2y","FORECAST","data_y","data_x","xmean","ymean","den","FREQUENCY","bins","GAMMA","gammafn","gamma","GAMMALN","gammaln","GAUSS","z","normal","GEOMEAN","geomean","GROWTH","known_y","known_x","new_x","use_const","avg_x","avg_y","avg_xy","avg_xx","new_y","HARMEAN","HYPGEOM","N","INTERCEPT","KURT","sigma","stdev","sort","LINEST","LOGEST","LOGNORM","lognormal","MAXA","median","min","MINA","MULT","currentItem","maxItems","NEGBINOM","negbin","PEARSON","den1","den2","fl","PERCENTRANK","uniques","match","PERMUT","PERMUTATIONA","PHI","POISSON","poisson","PROB","lower","upper","sorted","quart","RANK","AVG","order","ROW","ROWS","rows","RSQ","SKEW","m2","m3","SLOPE","STANDARDIZE","v","STDEVA","VARA","STDEVPA","VARPA","STEYX","lft","TRANSPOSE","df","studentt","mean_x","mean_y","s_x","s_y","TREND","new_data_x","linest","forEach","TRIMMEAN","percent","trim","WEIBULL","Z","ASC","BAHTTEXT","CHAR","fromCharCode","CLEAN","CODE","charCodeAt","CONCATENATE","trueFound","falseFound","DBCS","DOLLAR","EXACT","text1","text2","FIND","find_text","within_text","position","FIXED","HTML2TEXT","line","LEFT","substring","LEN","LOWER","toLowerCase","MID","start","begin","end","NUMBERVALUE","decimal_separator","group_separator","Number","PRONETIC","PROPER","txt","charAt","substr","REGEXEXTRACT","regular_expression","RegExp","REGEXMATCH","full","REGEXREPLACE","replacement","REPLACE","new_text","REPT","RIGHT","SEARCH","foundAt","SPLIT","separator","SUBSTITUTE","old_text","occurrence","TEXT","TRIM","UNICHAR","UNICODE","UPPER","VALUE","validSymbols","SUPPORTED_TOKENS","analyzeTokens","literalValue","analyzedTokens","token","unshift","TOKEN_TYPE_OPERATOR","expression","expressionLength","cursorIndex","processedValue","processedSymbol","char","tokenizeExpression","operator","evaluate","CELL","TYPE","error_val","INFO","ISBLANK","ISBINARY","ISERR","isFinite","ISERROR","ISEVEN","ISFORMULA","ISLOGICAL","ISNA","ISNONTEXT","ISODD","ISREF","ISTEXT","NA","SHEET","SHEETS","WEEK_STARTS","WEEK_TYPES","WEEKEND_TYPES","isLeapYear","year","getMonth","daysBetween","start_date","end_date","serial","addOn","DATE","month","day","DATEVALUE","date_text","modifier","DAY","serial_number","getDate","DAYS","DAYS360","method","ed","sm","em","smd","getFullYear","emd","EDATE","months","setMonth","EOMONTH","HOUR","getHours","INTERVAL","second","hour","sec","ISOWEEKNUM","setHours","setDate","getDay","yearStart","MINUTE","getMinutes","MONTH","NETWORKDAYS","holidays","INTL","weekend","h","days","total","getTimezoneOffset","getUTCDay","dec","holiday","NOW","SECOND","getSeconds","TIME","minute","TIMEVALUE","time_text","TODAY","WEEKDAY","return_type","WEEKNUM","week_start","jan","inc","WORKDAY","YEAR","YEARFRAC","basis","sy","ey","ylength","date1","date2","year1","mar1year1","year2","mar1year2","feb29Between","years","isFunction","ascNum","clip","arg","sumsqrd","sumsqerr","sumrow","prod","low","high","unique","hash","_arr","meansqerr","arrlen","cumsum","cumreduce","cumprod","diff","diffs","arrLen","rank","val","ranks","first","last","lastIndexOf","maxCount","numMaxCount","mode_arr","variance","flag","pooledvariance","samples","deviation","dev","pooledstdev","meandev","meddev","coeffvar","quartiles","quantiles","quantilesArray","alphap","betap","aleph","sortedArray","quantileVals","percentile","exclusive","realIndex","frac","percentileOfScore","score","kind","counter","strict","histogram","binCnt","binWidth","arr1","arr2","u","arr1Len","sq_dev","spearmancoeff","stanMoment","mu","skewSum","skewness","kurtosis","jProto","funcs","passfunc","fullbool","func","tmpthis","setTimeout","toVector","callbackFunction","argsToPass","curriedFunction","vector","calcRdx","isNumber","_init","retZero","retOne","retIdent","fn","seq","toArray","constructor","_random_fn","setRandom","TypeError","extend","obj","dimensions","rowa","submat","arange","ind","column","cola","diag","nrow","res","antidiag","objArr","toAlter","ncol","alter","zeros","ones","rand","identity","symmetric","size","clear","cnt","hival","step","current","rl","_slice","list","copy","rcSlice","colSlice","rowSlice","sliceAssign","nl","ml","diagonal","diagArray","mat","xx","cof","ser","loggam","x0","xp","gl","gl0","yi","q","fact","xden","xnum","Infinity","gammap","lowRegGamma","an","aln","ap","del","ITMAX","NaN","factorialln","factorial","combination","combinationln","permutation","betafn","betaln","betacf","aa","qab","qap","qam","gammapinv","pp","lna1","afac","a1","gln","erf","ty","isneg","dd","erfc","erfcinv","err","ibetainv","lna","lnb","al","w","b1","ibeta","bt","randn","randg","shape","a2","oalph","betinc","eps","c9","a0","b0","m9","tukeyWprob","rr","cc","xleg","aleg","qsqz","wincr","pr_w","blb","binc","bub","einsum","cc1","wi","elsum","jj","ac","qexpo","rinsum","callee","_a","_b","_c","newthis","sample","vals","fnfunc","df1","df2","cauchy","local","scale","rate","invgamma","kumaraswamy","noncentralt","ncp","flip","prob","lastvalue","std","pareto","dof2","weibull","uniform","betacdf","hypgeom","scaledPDF","samplesDone","scaledCDF","factor","sumarr","sampleSmall","sampleLarge","U","slam","loglam","invalpha","vr","us","lam","triangular","arcsine","laplace","tukey","nmeans","xlegq","alegq","ulen","f2","f2lf","f21","ff4","ans","otsum","twa1","t1","ps","tukeyQinv","valx0","valx1","iter","isUsable","add","divide","multiply","nrescols","rescols","outer","dot","left","right","norm","nnorm","angle","aug","newarr","gauss_jordan","det","alen","alend","rowshift","colshift","mrow","mcol","gauss_elimination","maug","pivot","y2","maxrow","triaUpSolve","parts","matrix_mode","triaLowSolve","lu","R","cholesky","gauss_jacobi","xv","xk","gauss_seidel","SOR","householder","QR","lstsq","array_mode","Q","attrs","Q1","RI","Aj","cAi","Ij","cIi","R_I","Q2","jacobi","maxim","theta","condition","e","ev","rungekutta","f","t_j","u_j","k1","k2","k3","romberg","h1","g","richardson","pos","y1","h_min","simpson","hermite","dF","dl","lagrange","cubic_spline","sq","gauss_quadrature","PCA","temp1","Bt","temp2","Y","Vt","differenceOfProportions","p1","n1","p2","n2","pooled","zscore","ztest","sides","tscore","ttest","anovafscore","expVar","sampMean","sampSampMean","tmpargs","unexpVar","anovaftest","ftest","fscore","anovaftes","qscore","qtest","tukeyhsd","means","change","significant","pvalue","oneSidedDifferenceOfProportions","twoSidedDifferenceOfProportions","models","ols","endog","exog","nobs","df_model","df_resid","coef","predict","resid","ybar","SSE","SSR","SST","R2","t_test","model","var_count","subModelList","endog_index","exog_index","sigmaHat","seBetaHat","mod","tStatistic","pValue","leftppf","interval95","se","F_statistic","F_test","adjust_R2","buildxmatrix","matrixRows","builddxmatrix","buildjxmatrix","jMat","pass","buildymatrix","buildjymatrix","matrixmult","regress","jMatX","jMatY","innerinv","xtranspxinv","xtransp","next","regresst","compile","jMatYBar","yBar","yAverage","anova","residuals","ssr","msr","sse","mse","sst","mst","r2","fratio","rmse","r2adj","stats","sds","ts","covar","xtranspx","inner","matrixsubtract","hasElement","FLATTEN","ARGS2ARRAY","REFERENCE","context","reference","path","opening","JOIN","NUMBERS","bessel","isValidBinaryNumber","BESSELI","besseli","BESSELJ","besselj","BESSELK","besselk","BESSELY","bessely","BIN2DEC","stringified","BIN2HEX","places","BIN2OCT","BITAND","number1","number2","BITLSHIFT","BITOR","BITRSHIFT","BITXOR","COMPLEX","real","imaginary","suffix","sign","CONVERT","from_unit","to_unit","alt","units","binary_prefixes","Yi","Zi","Ei","Ti","Gi","Mi","ki","unit_prefixes","G","from","to","base_from_unit","base_to_unit","from_multiplier","to_multiplier","from_binary_prefix","from_unit_prefix","to_binary_prefix","to_unit_prefix","DEC2BIN","DEC2HEX","DEC2OCT","DELTA","ERF","lower_bound","upper_bound","ERFC","GESTEP","HEX2BIN","negative","decimal","HEX2DEC","HEX2OCT","IMABS","inumber","IMREAL","IMAGINARY","plus","minus","unit","IMARGUMENT","IMCONJUGATE","IMCOS","IMCOSH","IMCOT","IMDIV","IMSIN","inumber1","inumber2","unit1","unit2","IMEXP","IMLN","IMLOG10","IMLOG2","IMPOWER","IMPRODUCT","IMSEC","IMSECH","IMSINH","IMSQRT","IMCSC","IMCSCH","IMSUB","IMSUM","IMTAN","OCT2BIN","OCT2DEC","OCT2HEX","rowLabelToIndex","label","rowIndexToLabel","columnLabelToIndex","columnIndexToLabel","extractLabel","LABEL_EXTRACT_REGEXP","_label$toUpperCase$ma","columnAbs","rowAbs","isAbsolute","toLabel","rowLabel","COLUMN_LABEL_BASE_LENGTH","Parser","SUPPORTED_FORMULAS","_parser2","_interopRequireDefault","_supportedFormulas2","_error","_error2","_cell","_tinyEmitter2","_evaluateByOperator2","_grammarParser","_string","_number","_Emitter","instance","Constructor","_classCallCheck","_this","ReferenceError","_possibleConstructorReturn","parser","yy","trimEdges","throwError","errorName","_throwError","callVariable","variable","_callVariable","evaluateByOperator","callFunction","params","_callFunction","cellValue","_callCellValue","rangeValue","_callRangeValue","variables","functions","setVariable","subClass","superClass","writable","setPrototypeOf","__proto__","_inherits","ex","message","getVariable","emit","newValue","setFunction","getFunction","_extractLabel","_value","startLabel","endLabel","_extractLabel2","startRow","startColumn","_extractLabel3","endRow","endColumn","startCell","endCell","on","callback","ctx","once","listener","off","_","evtArr","evts","liveEvents","TinyEmitter","availableOperators","registerOperation","_add2","_ampersand2","_divide2","_equal2","_formulaFunction2","_greaterThan2","_greaterThanOrEqual2","_lessThan2","_lessThanOrEqual2","_minus2","_multiply2","_notEqual2","_power2","symbol","isFactory","SYMBOL","_len","_key","acc","exp1","exp2","formulajs","newObj","_interopRequireWildcard","_supportedFormulas","symbolParts","foundFormula","nestedFormula","categories","category","engineering","dateTime","set","root","BETADIST","BETAINV","BINOMDIST","ISOCEILING","CEILINGMATH","CEILINGPRECISE","CHIDIST","CHIDISTRT","CHIINV","CHIINVRT","CHITEST","COVAR","COVARIANCEP","COVARIANCES","CRITBINOM","EXPONDIST","ERFCPRECISE","ERFPRECISE","FDIST","FDISTRT","FINVRT","FINV","FLOORMATH","FLOORPRECISE","FTEST","GAMMADIST","GAMMAINV","GAMMALNPRECISE","HYPGEOMDIST","LOGINV","LOGNORMINV","LOGNORMDIST","MODEMULT","MODESNGL","NEGBINOMDIST","NETWORKDAYSINTL","NORMDIST","NORMINV","NORMSDIST","NORMSINV","PERCENTILEEXC","PERCENTILEINC","PERCENTRANKEXC","PERCENTRANKINC","POISSONDIST","QUARTILEEXC","QUARTILEINC","RANKAVG","RANKEQ","SKEWP","STDEVP","STDEVS","TDIST","TDISTRT","TINV","TTEST","VARP","VARS","WEIBULLDIST","WORKDAYINTL","ZTEST","BESSEL","version","_horner","_bessel_iter","f0","f1","tdx","_bessel_wrap","bessel0","bessel1","nonzero","W","b0_a1a","b0_a2a","b0_a1b","b0_a2b","b1_a1a","b1_a2a","b1_a1b","b1_a2b","b0_a","b0_b","b1_a","b1_b","reverse","ret","jsum","bjp","bj","bjm","tox","bip","bi","bim","DO_NOT_EXPORT_BESSEL","maths","compact","findResultIndex","database","maxCriteriaLength","currentCriteriaResult","hasMatchingCriteria","criteriaField","FINDFIELD","title","DAVERAGE","field","resultIndexes","targetFields","DCOUNT","targetValues","DCOUNTA","DGET","DMAX","maxValue","DMIN","minValue","DPRODUCT","DSTDEV","DSTDEVP","DSUM","DVAR","DVARP","AND","CHOOSE","FALSE","IF","then_value","otherwise_value","IFERROR","valueIfError","IFNA","value_if_na","NOT","logical","OR","TRUE","XOR","SWITCH","targetValue","argc","switchCount","switchSatisfied","hasDefaultClause","defaultClause","validDate","ensureDate","ACCRINT","issue","settlement","par","frequency","ACCRINTM","AMORDEGRC","AMORLINC","COUPDAYBS","COUPDAYS","COUPDAYSNC","COUPNCD","COUPNUM","COUPPCD","CUMIPMT","periods","payment","PMT","interest","FV","CUMPRINC","principal","DB","cost","salvage","life","period","toFixed","ceiling","DDB","DISC","DOLLARDE","dollar","fraction","DOLLARFR","DURATION","EFFECT","term","FVSCHEDULE","schedule","future","INTRATE","IPMT","present","IRR","guess","irrResult","dates","irrResultDeriv","positive","newRate","epsRate","resultValue","resultRate","contLoop","ISPMT","MDURATION","MIRR","finance_rate","reinvest_rate","payments","incomes","NPV","NOMINAL","NPER","ODDFPRICE","ODDFYIELD","ODDLPRICE","ODDLYIELD","PDURATION","PPMT","PRICE","PRICEDISC","PRICEMAT","PV","RATE","y0","RECEIVED","RRI","SLN","SYD","TBILLEQ","maturity","discount","TBILLPRICE","TBILLYIELD","price","VDB","XNPV","YIELD","YIELDDISC","YIELDMAT","MATCH","lookupValue","lookupArray","matchType","indexValue","VLOOKUP","needle","table","rangeLookup","HLOOKUP","transposedTable","grammarParser","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","$Vc","$Vd","$Ve","$Vf","$Vg","$Vh","$Vi","$Vj","$Vk","$Vl","$Vm","$Vn","$Vo","$Vp","$Vq","$Vr","trace","symbols_","terminals_","5","8","9","10","11","12","13","14","15","16","17","18","19","20","21","24","25","26","27","28","29","30","31","32","33","34","35","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","2","3","4","6","7","23","1","22","defaultActions","parseError","str","recoverable","input","stack","vstack","lstack","recovering","TERROR","EOF","lexer","sharedState","setInput","yylloc","yyloc","ranges","popStack","getPrototypeOf","preErrorSymbol","state","action","newState","lex","yyval","error_rule_depth","errStr","locateNearestErrorRecoveryRule","stack_probe","depth","showPosition","loc","first_line","last_line","first_column","last_column","_input","_more","_backtrack","done","matched","conditionStack","offset","ch","unput","lines","oldLines","more","reject","backtrack_lexer","less","pastInput","past","upcomingInput","pre","test_match","indexed_rule","backup","tempMatch","rules","_currentRules","flex","popState","conditions","topState","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","margin","Element","tag","className","document","createElement","eventNames","handler","fen","oen","eventName","window","navigator","userAgent","addEventListener","evt","button","stopPropagation","keys","css","offsetTop","offsetLeft","height","offsetHeight","width","offsetWidth","scrollLeft","scrollTop","getBoundingClientRect","parentNode","eles","childNodes","ele","child","removeChild","createTextNode","appendChild","contains","classList","remove","cls","toggleClass","toggle","addClass","removeClass","active","setAttribute","getAttribute","removeAttribute","content","innerHTML","focus","style","removeProperty","getComputedStyle","alphabets","stringAt","cindex","indexAt","REGEX_EXPR_GLOBAL","REGEX_EXPR_NONGLOBAL_AT_START","REGEX_EXPR_RANGE_NONGLOBAL_AT_START","REGEX_EXPR_NONGLOBAL_CAPTURE","expr2xy","src","found","xIsAbsolute","yIsAbsolute","expr2cellRangeArgs","startRef","sci","sri","srcIndexEndOfStartRef","endRef","eci","xy2expr","insertAbs","cellRangeArgs2expr","eri","expr","expr2expr","xn","yn","translateAbsolute","CellRange","ci","cb","rowFilter","other","addRet","dsr","dsc","der","rowShift","colShift","morph","leftShift","topShift","rightShift","bottomShift","Selector","Scroll","History","undoItems","redoItems","JSON","stringify","currentd","canUndo","canRedo","Clipboard","cellRange","Filter","includes","Sort","AutoFilter","filters","it","getData","getFilter","hrange","getCell","rset","Set","fset","cell","ctext","valueOf","Merges","cr","within","intersects","union","deleteWithin","cbWithin","rn","cn","it1","merges","merge","mergeDeep","sources","source","cloneDeep","equals","obj1","obj2","v1","v2","ai","arrayEquals","objOrAry","rangeEach","rangeSum","getv","rangeReduceIf","inits","initv","ifv","deleteProperty","oldv","numberCalc","al1","al2","Rows","isHide","getOrNew","setHide","hide","exceptSet","helper","has","getHeight","sumHeight","cells","what","getCellOrNew","editable","srcCellRange","dstCellRange","autofill","dsri","dsci","deri","deci","drn","dcn","isAdd","dn","ii","nri","nci","ncell","word","exec","setCell","ncellmm","each","eachCells","setCellText","ndata","rndata","deleteCell","ks","entries","assign","Cols","indexWidth","minWidth","getWidth","sumWidth","$languages","$messages","en","toolbar","undo","redo","print","paintformat","clearformat","format","fontName","fontSize","fontBold","fontItalic","underline","strike","color","bgcolor","border","align","valign","textwrap","freeze","autofilter","formula","contextmenu","cut","paste","pasteValue","pasteFormat","insertRow","insertColumn","deleteSheet","deleteRow","deleteColumn","deleteCellText","validation","cellprintable","cellnonprintable","celleditable","cellnoneditable","orientation","orientations","rmb","usd","eur","time","datetime","duration","required","notMatch","between","notBetween","notIn","equal","notEqual","lessThan","lessThanEqual","greaterThan","greaterThanEqual","pasteForMergedCell","calendar","weeks","cancel","save","ok","desc","asc","empty","dataValidation","modeType","phone","email","be","nbe","lt","lte","gt","gte","eq","neq","translate","messages","lang","x_spreadsheet","tf","locale","clearLangList","returnMessage","Validator","parseValue","Validation","refs","validator","nrefs","difference","Validations","Map","validate","getByValidator","addRef","defaultSettings","view","documentElement","clientHeight","clientWidth","showGrid","showToolbar","showContextmenu","showBottomBar","font","bold","italic","canPaste","dst","clone","srn","scn","copyPaste","deleteCells","cutPaste","clipboard","move","setStyleBorder","bss","styles","cstyle","addStyle","setStyleBorders","selector","isSingleSelected","mergeIndexes","mri","mci","mrl","mcl","getCellMerge","getCellRowByY","scrollOffsety","fsh","freezeTotalHeight","frset","exceptRowSet","getCellColByX","scrollOffsetx","fsw","freezeTotalWidth","DataProxy","settings","validations","hyperlinks","comments","scroll","history","autoFilter","sortedRowMap","unsortedRowMap","changeData","setData","copyText","clipboardData","clearData","preventDefault","writeText","then","console","isClear","isCopy","isCut","resetSheet","eventTrigger","readText","contentToPaste","parseClipboardContent","cellContent","clipboardContent","parsedData","srcRange","cri","cci","getFirstIncludes","unmerge","nfont","oldCell","oldText","vIndex","findIndex","getSelectedRect","getRect","left0","top0","totalWidth","totalHeight","cellRect","addFilter","setSort","resetAutoFilter","filteredRows","fary","oldAry","si","insert","rsize","csize","fci","fri","cellStyle","defaultStyle","getCellStyleOrDefault","setHeight","setWidth","maxCell","exceptRows","exceptRowTH","viewHeight","viewWidth","viewRange","filterIntersects","rlen","clen","unhide","frary","rowHeight","colWidth","nstyle","target","unbind","removeEventListener","unbindClickoutside","xclickoutside","body","bindClickoutside","detail","mouseMoveUp","movefunc","upfunc","xEvtUp","calTouchDirection","spanx","spany","cssPrefix","devicePixelRatio","Resizer","vertical","minDistance","moving","children","unhideHoverEl","mousedblclickHandler","hoverEl","mousedownHandler","lineEl","cRect","finishedFn","unhideFn","unhideIndex","show","rect","hideUnhide","startEvt","distance","buttons","movementX","movementY","Scrollbar","moveFn","contentEl","contentDistance","cssKey","startZIndex","SelectorElement","useHideInput","autoFocus","inputChange","cornerEl","areaEl","clipboardEl","autofillEl","hideInput","hideInputDiv","of","calBRAreaOffset","ftwidth","ftheight","calTAreaOffset","calLAreaOffset","setBRAreaOffset","br","setAreaOffset","setTLAreaOffset","tl","setTAreaOffset","setLAreaOffset","setLClipboardOffset","setClipboardOffset","setBRClipboardOffset","setTLClipboardOffset","setTClipboardOffset","setAllAreaOffset","setAllClipboardOffset","areaOffset","indexes","lastri","lastci","resetAreaOffset","freezeHeight","freezeWidth","setOffset","coffset","getClipboardRect","resetOffset","indexesUpdated","calSelectedRangeByStart","setIndexes","moveIndexes","calSelectedRangeByEnd","setEnd","ern","ecn","showAutofill","hideAutofill","showClipboard","hideClipboard","inputMovePrev","filterItems","itemIndex","inputMoveNext","inputEnter","click","inputKeydownHandler","keyCode","ctrlKey","Suggest","items","itemClick","cssRemoveKeys","parent","startsWith","item","html","Icon","iconNameEl","addMonth","weekday","Calendar","cvalue","headerLeftEl","bodyEl","buildAll","prev","week","selectChange","buildHeaderLeft","buildBody","trs","cdate","startDate","datess","disabled","monthDays","tds","Datepicker","setValue","getCaretPosition","getSelection","getRangeAt","cloneRange","setStart","setCaretPosition","selection","createTreeWalker","NodeFilter","SHOW_TEXT","elem","textContent","FILTER_REJECT","FILTER_ACCEPT","nextNode","node","getTextNodeAtPosition","removeAllRanges","Range","addRange","renderCell","selected","generalSelectCell","editor","inputText","render","Formula","textEl","cellEl","cellSelectStartRowCol","cellSelectEndRowCol","cellLastSelectionColor","activeElement","getCellPositionRange","renderCells","which","shiftKey","cellRangeArgs","getCellRangeArgsFromSelectStartEnd","pickColor","sub","afterOpenParen","cellHtml","cellRangeIncludingMerges","box","insertText","itxt","selectionEnd","ntxt","keydownEventHandler","altKey","inputEventHandler","restore","suggest","search","suggestItemClick","sit","eit","resetSuggestItems","setItems","formulas","Editor","viewFn","unescapedKey","datepicker","setText","dateFormat","composing","attr","textlineEl","bindInputEvents","suggestPosition","elOffset","sOffset","blur","Boolean","selectCell","selectCellRange","Button","dpr","thinLineWidth","npx","px","npxLine","DrawBox","padding","borderTop","borderRight","borderBottom","borderLeft","drawFontLine","tx","blheight","blwidth","floffset","Draw","getContext","resize","clearRect","beginPath","fillRect","fillText","mtxt","textWrap","textx","textAlign","textBaseline","fillStyle","strokeStyle","txts","biw","innerWidth","ntxts","txtWidth","measureText","textLine","txtHeight","texty","lineWidth","setLineDash","moveTo","lineTo","stroke","topxys","rightxys","bottomxys","leftxys","sx","closePath","fill","dtextcb","baseFonts","fontSizes","pt","getFontSizePxByPt","cellRender","formulaParser","parsedResult","formatStringRender","formatNumberRender","baseFormats","formatm","tableFixedHeaderCleanStyle","tableGridStyle","getDrawBox","rindex","yoffset","draw","nrindex","frozen","dbox","setBorders","strokeBorders","cellText","evalPaused","getError","renderAutofilter","afRange","dropdown","renderContent","fw","fh","exceptRowTotalHeight","filteredTranslateFunc","eachMergesInView","renderSelectedHeaderCell","renderFixedHeaders","nty","ntx","rowEach","colEach","renderFixedLeftTopCell","renderContentGrid","cw","renderFreezeHighlightLine","ftw","fth","twidth","theight","Table","that","getFormulaParserCellValue","cellCoord","getCellTextOrDefault","startCellCoord","endCellCoord","fragment","colFragment","freezeViewRange","PAGER_SIZES","PAGER_ORIENTATIONS","inches2px","btnClick","toPrint","pagerSizeChange","paper","preview","pagerOrientationChange","Print","iwidth","iheight","contentRange","pages","canvases","mViewRange","th","yo","wrap","canvas","rh","yof","contentWindow","idoc","head","cloneNode","drawImage","menuItems","buildMenuItem","buildMenu","ContextMenu","setMode","hideEl","vhf","Item","shortcut","tip","elBox","tooltip","DropdownItem","getValue","setTitle","Dropdown","showArrow","placement","headerClick","setContentChildren","headerEl","DropdownAlign","aligns","icon","naligns","iconName","setName","Align","Valign","ToggleItem","hasClass","Autofilter","Bold","Italic","Strike","Underline","themeColorPlaceHolders","themeColors","standardColors","buildTd","ColorPalette","DropdownColor","colorPalette","lineTypes","DropdownLineType","beforei","lineTypeEls","iti","buildTable","BorderPalette","ddColor","ddType","DropdownBorder","borderPalette","Border","IconItem","Clearformat","Paintformat","TextColor","FillColor","DropdownFontSize","nfontSizes","Format","DropdownFontsize","DropdownFont","nfonts","Font","DropdownFormat","nformats","DropdownFormula","nformulas","Freeze","Merge","Redo","Undo","Textwrap","DropdownMore","moreBtns","More","buildDivider","initBtns2","btns2","computedStyle","marginLeft","marginRight","moreResize","btns","moreEl","widthFn","sumWidth2","list1","list2","genBtn","btn","onClick","Toolbar","undoEl","redoEl","paintformatEl","clearformatEl","formatEl","fontEl","fontSizeEl","FontSize","boldEl","italicEl","underlineEl","strikeEl","textColorEl","fillColorEl","borderEl","mergeEl","alignEl","valignEl","textwrapEl","freezeEl","autofilterEl","formulaEl","extendToolbar","reset","getSelectedCellStyle","setState","canUnmerge","canAutofilter","freezeIsActive","Modal","dimmer","xkeydownEsc","FormInput","hint","vchange","FormSelect","getTitle","itemEl","patterns","FormField","rule","labelWidth","pattern","ModalValidation","mf","rf","cf","criteriaSelected","criteriaOperatorSelected","minvf","maxvf","svf","vf","isShow","clsName","buildSortItem","buildFilterBody","filterbEl","filterValues","filterClick","resetFilterHeader","filterhEl","checked","SortFilter","sortAscEl","sortDescEl","sortDesc","tindex","xtoast","throttle","wait","timeout","scrollbarMove","verticalScrollbar","horizontalScrollbar","tableOffset","getTableOffset","selectorSet","contextMenu","trigger","selectorMove","direction","overlayerMousemove","offsetX","offsetY","rowResizer","colResizer","tableEl","tRect","getCellRectByXY","showUnhide","overlayerMousescroll","deltaY","deltaX","loopValue","vFunc","moveY","tempY","tempX","horizontal","moveX","overlayerTouch","verticalScrollbarSet","erth","horizontalScrollbarSet","sheetFreeze","fwidth","fheight","setFreezeLengths","sheetReset","overlayerEl","overlayerCEl","tOffset","vRect","clearClipboard","copyToSystemClipboard","pasteFromSystemClipboard","msg","cdata","pasteFromText","hideRowsOrCols","unhideRowsOrCols","toolbarChangePaintformatPaste","paintformatActive","paintformatToggle","overlayerMousedown","sortFilter","isAutofillEl","getSort","editorSetOffset","sPosition","editorSet","getSelectedCell","getSelectedValidator","verticalScrollbarMove","scrolly","resetBRLAreaOffset","horizontalScrollbarMove","scrollx","resetBRTAreaOffset","rowResizerFinished","colResizerFinished","dataSetCellText","setSelectedCellText","insertDeleteRowColumn","setSelectedCellAttr","toolbarChange","sortFilterChange","setAutoFilter","sheetInitEvents","startx","starty","modalValidation","formulaCellSelecting","formulaSelectCell","lastCellRect","hasRangeChanged","isRangeValid","formulaSelectCellRange","xyInSelectedRect","setPosition","touches","pageX","pageY","changedTouches","itext","addValidation","removeValidation","getSelectedValidation","reload","focusing","metaKey","Sheet","targetEl","eventMap","listeners","currentListener","removeListener","execCalllback","fire","removeAllListeners","createEventEmitter","formulaSuggestions","formulaName","escapedFormulaName","resetData","setFreeze","contentClick","Bottombar","addFunc","swapFunc","deleteFunc","updateFunc","dataNames","activeEl","deleteEl","clickSwap2","menuEl","nindex","renameItem","clickSwap","Spreadsheet","selectors","sheetIndex","datas","querySelector","bottombar","addSheet","sheet","rootEl","addItem","deleteItem","oldIndex","ds","nd","getCellStyle","spreadsheet"],"mappings":"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","file":"xspreadsheet.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"formulaParser\"] = factory();\n\telse\n\t\troot[\"formulaParser\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 15);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nexports.nil = new Error('#NULL!');\nexports.div0 = new Error('#DIV/0!');\nexports.value = new Error('#VALUE!');\nexports.ref = new Error('#REF!');\nexports.name = new Error('#NAME?');\nexports.num = new Error('#NUM!');\nexports.na = new Error('#N/A');\nexports.error = new Error('#ERROR!');\nexports.data = new Error('#GETTING_DATA');\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar error = __webpack_require__(0);\n\nexports.flattenShallow = function(array) {\n  if (!array || !array.reduce) {\n    return array;\n  }\n\n  return array.reduce(function(a, b) {\n    var aIsArray = Array.isArray(a);\n    var bIsArray = Array.isArray(b);\n\n    if (aIsArray && bIsArray ) {\n      return a.concat(b);\n    }\n    if (aIsArray) {\n      a.push(b);\n\n      return a;\n    }\n    if (bIsArray) {\n      return [a].concat(b);\n    }\n\n    return [a, b];\n  });\n};\n\nexports.isFlat = function(array) {\n  if (!array) {\n    return false;\n  }\n\n  for (var i = 0; i < array.length; ++i) {\n    if (Array.isArray(array[i])) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nexports.flatten = function() {\n  var result = exports.argsToArray.apply(null, arguments);\n\n  while (!exports.isFlat(result)) {\n    result = exports.flattenShallow(result);\n  }\n\n  return result;\n};\n\nexports.argsToArray = function(args) {\n  var result = [];\n\n  exports.arrayEach(args, function(value) {\n    result.push(value);\n  });\n\n  return result;\n};\n\nexports.numbers = function() {\n  var possibleNumbers = this.flatten.apply(null, arguments);\n  return possibleNumbers.filter(function(el) {\n    return typeof el === 'number';\n  });\n};\n\nexports.cleanFloat = function(number) {\n  var power = 1e14;\n  return Math.round(number * power) / power;\n};\n\nexports.parseBool = function(bool) {\n  if (typeof bool === 'boolean') {\n    return bool;\n  }\n\n  if (bool instanceof Error) {\n    return bool;\n  }\n\n  if (typeof bool === 'number') {\n    return bool !== 0;\n  }\n\n  if (typeof bool === 'string') {\n    var up = bool.toUpperCase();\n    if (up === 'TRUE') {\n      return true;\n    }\n\n    if (up === 'FALSE') {\n      return false;\n    }\n  }\n\n  if (bool instanceof Date && !isNaN(bool)) {\n    return true;\n  }\n\n  return error.value;\n};\n\nexports.parseNumber = function(string) {\n  if (string === undefined || string === '') {\n    return error.value;\n  }\n  if (!isNaN(string)) {\n    return parseFloat(string);\n  }\n\n  return error.value;\n};\n\nexports.parseNumberArray = function(arr) {\n  var len;\n\n  if (!arr || (len = arr.length) === 0) {\n    return error.value;\n  }\n\n  var parsed;\n\n  while (len--) {\n    parsed = exports.parseNumber(arr[len]);\n    if (parsed === error.value) {\n      return parsed;\n    }\n    arr[len] = parsed;\n  }\n\n  return arr;\n};\n\nexports.parseMatrix = function(matrix) {\n  var n;\n\n  if (!matrix || (n = matrix.length) === 0) {\n    return error.value;\n  }\n  var pnarr;\n\n  for (var i = 0; i < matrix.length; i++) {\n    pnarr = exports.parseNumberArray(matrix[i]);\n    matrix[i] = pnarr;\n\n    if (pnarr instanceof Error) {\n      return pnarr;\n    }\n  }\n\n  return matrix;\n};\n\nvar d1900 = new Date(Date.UTC(1900, 0, 1));\nexports.parseDate = function(date) {\n  if (!isNaN(date)) {\n    if (date instanceof Date) {\n      return new Date(date);\n    }\n    var d = parseInt(date, 10);\n    if (d < 0) {\n      return error.num;\n    }\n    if (d <= 60) {\n      return new Date(d1900.getTime() + (d - 1) * 86400000);\n    }\n    return new Date(d1900.getTime() + (d - 2) * 86400000);\n  }\n  if (typeof date === 'string') {\n    date = new Date(date);\n    if (!isNaN(date)) {\n      return date;\n    }\n  }\n  return error.value;\n};\n\nexports.parseDateArray = function(arr) {\n  var len = arr.length;\n  var parsed;\n  while (len--) {\n    parsed = this.parseDate(arr[len]);\n    if (parsed === error.value) {\n      return parsed;\n    }\n    arr[len] = parsed;\n  }\n  return arr;\n};\n\nexports.anyIsError = function() {\n  var n = arguments.length;\n  while (n--) {\n    if (arguments[n] instanceof Error) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexports.arrayValuesToNumbers = function(arr) {\n  var n = arr.length;\n  var el;\n  while (n--) {\n    el = arr[n];\n    if (typeof el === 'number') {\n      continue;\n    }\n    if (el === true) {\n      arr[n] = 1;\n      continue;\n    }\n    if (el === false) {\n      arr[n] = 0;\n      continue;\n    }\n    if (typeof el === 'string') {\n      var number = this.parseNumber(el);\n      if (number instanceof Error) {\n        arr[n] = 0;\n      } else {\n        arr[n] = number;\n      }\n    }\n  }\n  return arr;\n};\n\nexports.rest = function(array, idx) {\n  idx = idx || 1;\n  if (!array || typeof array.slice !== 'function') {\n    return array;\n  }\n  return array.slice(idx);\n};\n\nexports.initial = function(array, idx) {\n  idx = idx || 1;\n  if (!array || typeof array.slice !== 'function') {\n    return array;\n  }\n  return array.slice(0, array.length - idx);\n};\n\nexports.arrayEach = function(array, iteratee) {\n  var index = -1, length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n\n  return array;\n};\n\nexports.transpose = function(matrix) {\n  if(!matrix) {\n    return error.value;\n  }\n\n  return matrix[0].map(function(col, i) {\n    return matrix.map(function(row) {\n      return row[i];\n    });\n  });\n};\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _errors;\n\nexports['default'] = error;\nexports.isValidStrict = isValidStrict;\nvar ERROR = exports.ERROR = 'ERROR';\nvar ERROR_DIV_ZERO = exports.ERROR_DIV_ZERO = 'DIV/0';\nvar ERROR_NAME = exports.ERROR_NAME = 'NAME';\nvar ERROR_NOT_AVAILABLE = exports.ERROR_NOT_AVAILABLE = 'N/A';\nvar ERROR_NULL = exports.ERROR_NULL = 'NULL';\nvar ERROR_NUM = exports.ERROR_NUM = 'NUM';\nvar ERROR_REF = exports.ERROR_REF = 'REF';\nvar ERROR_VALUE = exports.ERROR_VALUE = 'VALUE';\n\nvar errors = (_errors = {}, _errors[ERROR] = '#ERROR!', _errors[ERROR_DIV_ZERO] = '#DIV/0!', _errors[ERROR_NAME] = '#NAME?', _errors[ERROR_NOT_AVAILABLE] = '#N/A', _errors[ERROR_NULL] = '#NULL!', _errors[ERROR_NUM] = '#NUM!', _errors[ERROR_REF] = '#REF!', _errors[ERROR_VALUE] = '#VALUE!', _errors);\n\n/**\n * Return error type based on provided error id.\n *\n * @param {String} type Error type.\n * @returns {String|null} Returns error id.\n */\nfunction error(type) {\n  var result = void 0;\n\n  type = (type + '').replace(/#|!|\\?/g, '');\n\n  if (errors[type]) {\n    result = errors[type];\n  }\n\n  return result ? result : null;\n}\n\n/**\n * Check if error type is strict valid with knows errors.\n *\n * @param {String} Error type.\n * @return {Boolean}\n */\nfunction isValidStrict(type) {\n  var valid = false;\n\n  for (var i in errors) {\n    if (Object.prototype.hasOwnProperty.call(errors, i) && errors[i] === type) {\n      valid = true;\n      break;\n    }\n  }\n\n  return valid;\n}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.toNumber = toNumber;\nexports.invertNumber = invertNumber;\n/**\n * Convert value into number.\n *\n * @param {String|Number} number\n * @returns {*}\n */\nfunction toNumber(number) {\n  var result = void 0;\n\n  if (typeof number === 'number') {\n    result = number;\n  } else if (typeof number === 'string') {\n    result = number.indexOf('.') > -1 ? parseFloat(number) : parseInt(number, 10);\n  }\n\n  return result;\n}\n\n/**\n * Invert provided number.\n *\n * @param {Number} number\n * @returns {Number} Returns inverted number.\n */\nfunction invertNumber(number) {\n  return -1 * toNumber(number);\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar utils = __webpack_require__(1);\nvar error = __webpack_require__(0);\nvar statistical = __webpack_require__(5);\nvar information = __webpack_require__(8);\nvar evalExpression = __webpack_require__(7);\n\nexports.ABS = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.abs(number);\n\n  return result;\n};\n\nexports.ACOS = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.acos(number);\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.ACOSH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.log(number + Math.sqrt(number * number - 1));\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.ACOT = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.atan(1 / number);\n\n  return result;\n};\n\nexports.ACOTH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = 0.5 * Math.log((number + 1) / (number - 1));\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\n//TODO: use options\nexports.AGGREGATE = function(function_num, options, ref1, ref2) {\n  function_num = utils.parseNumber(function_num);\n  options = utils.parseNumber(function_num);\n  if (utils.anyIsError(function_num, options)) {\n    return error.value;\n  }\n  switch (function_num) {\n    case 1:\n      return statistical.AVERAGE(ref1);\n    case 2:\n      return statistical.COUNT(ref1);\n    case 3:\n      return statistical.COUNTA(ref1);\n    case 4:\n      return statistical.MAX(ref1);\n    case 5:\n      return statistical.MIN(ref1);\n    case 6:\n      return exports.PRODUCT(ref1);\n    case 7:\n      return statistical.STDEV.S(ref1);\n    case 8:\n      return statistical.STDEV.P(ref1);\n    case 9:\n      return exports.SUM(ref1);\n    case 10:\n      return statistical.VAR.S(ref1);\n    case 11:\n      return statistical.VAR.P(ref1);\n    case 12:\n      return statistical.MEDIAN(ref1);\n    case 13:\n      return statistical.MODE.SNGL(ref1);\n    case 14:\n      return statistical.LARGE(ref1, ref2);\n    case 15:\n      return statistical.SMALL(ref1, ref2);\n    case 16:\n      return statistical.PERCENTILE.INC(ref1, ref2);\n    case 17:\n      return statistical.QUARTILE.INC(ref1, ref2);\n    case 18:\n      return statistical.PERCENTILE.EXC(ref1, ref2);\n    case 19:\n      return statistical.QUARTILE.EXC(ref1, ref2);\n  }\n};\n\nexports.ARABIC = function(text) {\n  // Credits: Rafa? Kukawski\n  if (!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(text)) {\n    return error.value;\n  }\n  var r = 0;\n  text.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g, function(i) {\n    r += {\n      M: 1000,\n      CM: 900,\n      D: 500,\n      CD: 400,\n      C: 100,\n      XC: 90,\n      L: 50,\n      XL: 40,\n      X: 10,\n      IX: 9,\n      V: 5,\n      IV: 4,\n      I: 1\n    }[i];\n  });\n  return r;\n};\n\nexports.ASIN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.asin(number);\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.ASINH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.log(number + Math.sqrt(number * number + 1));\n};\n\nexports.ATAN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.atan(number);\n};\n\nexports.ATAN2 = function(number_x, number_y) {\n  number_x = utils.parseNumber(number_x);\n  number_y = utils.parseNumber(number_y);\n  if (utils.anyIsError(number_x, number_y)) {\n    return error.value;\n  }\n  return Math.atan2(number_x, number_y);\n};\n\nexports.ATANH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.log((1 + number) / (1 - number)) / 2;\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.BASE = function(number, radix, min_length) {\n  min_length = min_length || 0;\n\n  number = utils.parseNumber(number);\n  radix = utils.parseNumber(radix);\n  min_length = utils.parseNumber(min_length);\n  if (utils.anyIsError(number, radix, min_length)) {\n    return error.value;\n  }\n  min_length = (min_length === undefined) ? 0 : min_length;\n  var result = number.toString(radix);\n  return new Array(Math.max(min_length + 1 - result.length, 0)).join('0') + result;\n};\n\nexports.CEILING = function(number, significance, mode) {\n  significance = (significance === undefined) ? 1 : Math.abs(significance);\n  mode = mode || 0;\n\n  number = utils.parseNumber(number);\n  significance = utils.parseNumber(significance);\n  mode = utils.parseNumber(mode);\n  if (utils.anyIsError(number, significance, mode)) {\n    return error.value;\n  }\n  if (significance === 0) {\n    return 0;\n  }\n  var precision = -Math.floor(Math.log(significance) / Math.log(10));\n  if (number >= 0) {\n    return exports.ROUND(Math.ceil(number / significance) * significance, precision);\n  } else {\n    if (mode === 0) {\n      return -exports.ROUND(Math.floor(Math.abs(number) / significance) * significance, precision);\n    } else {\n      return -exports.ROUND(Math.ceil(Math.abs(number) / significance) * significance, precision);\n    }\n  }\n};\n\nexports.CEILING.MATH = exports.CEILING;\n\nexports.CEILING.PRECISE = exports.CEILING;\n\nexports.COMBIN = function(number, number_chosen) {\n  number = utils.parseNumber(number);\n  number_chosen = utils.parseNumber(number_chosen);\n  if (utils.anyIsError(number, number_chosen)) {\n    return error.value;\n  }\n  return exports.FACT(number) / (exports.FACT(number_chosen) * exports.FACT(number - number_chosen));\n};\n\nexports.COMBINA = function(number, number_chosen) {\n  number = utils.parseNumber(number);\n  number_chosen = utils.parseNumber(number_chosen);\n  if (utils.anyIsError(number, number_chosen)) {\n    return error.value;\n  }\n  return (number === 0 && number_chosen === 0) ? 1 : exports.COMBIN(number + number_chosen - 1, number - 1);\n};\n\nexports.COS = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.cos(number);\n};\n\nexports.COSH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return (Math.exp(number) + Math.exp(-number)) / 2;\n};\n\nexports.COT = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return 1 / Math.tan(number);\n};\n\nexports.COTH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var e2 = Math.exp(2 * number);\n  return (e2 + 1) / (e2 - 1);\n};\n\nexports.CSC = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return 1 / Math.sin(number);\n};\n\nexports.CSCH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return 2 / (Math.exp(number) - Math.exp(-number));\n};\n\nexports.DECIMAL = function(number, radix) {\n  if (arguments.length < 1) {\n    return error.value;\n  }\n\n  return parseInt(number, radix);\n};\n\nexports.DEGREES = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return number * 180 / Math.PI;\n};\n\nexports.EVEN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return exports.CEILING(number, -2, -1);\n};\n\nexports.EXP = function(number) {\n  if (arguments.length < 1) {\n    return error.na;\n  }\n  if (typeof number !== 'number' || arguments.length > 1) {\n    return error.error;\n  }\n\n  number = Math.exp(number);\n\n  return number;\n};\n\nvar MEMOIZED_FACT = [];\nexports.FACT = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var n = Math.floor(number);\n  if (n === 0 || n === 1) {\n    return 1;\n  } else if (MEMOIZED_FACT[n] > 0) {\n    return MEMOIZED_FACT[n];\n  } else {\n    MEMOIZED_FACT[n] = exports.FACT(n - 1) * n;\n    return MEMOIZED_FACT[n];\n  }\n};\n\nexports.FACTDOUBLE = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var n = Math.floor(number);\n  if (n <= 0) {\n    return 1;\n  } else {\n    return n * exports.FACTDOUBLE(n - 2);\n  }\n};\n\nexports.FLOOR = function(number, significance) {\n  number = utils.parseNumber(number);\n  significance = utils.parseNumber(significance);\n  if (utils.anyIsError(number, significance)) {\n    return error.value;\n  }\n  if (significance === 0) {\n    return 0;\n  }\n\n  if (!(number > 0 && significance > 0) && !(number < 0 && significance < 0)) {\n    return error.num;\n  }\n\n  significance = Math.abs(significance);\n  var precision = -Math.floor(Math.log(significance) / Math.log(10));\n  if (number >= 0) {\n    return exports.ROUND(Math.floor(number / significance) * significance, precision);\n  } else {\n    return -exports.ROUND(Math.ceil(Math.abs(number) / significance), precision);\n  }\n};\n\n//TODO: Verify\nexports.FLOOR.MATH = function(number, significance, mode) {\n  significance = (significance === undefined) ? 1 : significance;\n  mode = (mode === undefined) ? 0 : mode;\n\n  number = utils.parseNumber(number);\n  significance = utils.parseNumber(significance);\n  mode = utils.parseNumber(mode);\n  if (utils.anyIsError(number, significance, mode)) {\n    return error.value;\n  }\n  if (significance === 0) {\n    return 0;\n  }\n\n  significance = significance ? Math.abs(significance) : 1;\n  var precision = -Math.floor(Math.log(significance) / Math.log(10));\n  if (number >= 0) {\n    return exports.ROUND(Math.floor(number / significance) * significance, precision);\n  } else if (mode === 0 || mode === undefined) {\n    return -exports.ROUND(Math.ceil(Math.abs(number) / significance) * significance, precision);\n  }\n  return -exports.ROUND(Math.floor(Math.abs(number) / significance) * significance, precision);\n};\n\n// Deprecated\nexports.FLOOR.PRECISE = exports.FLOOR.MATH;\n\n// adapted http://rosettacode.org/wiki/Greatest_common_divisor#JavaScript\nexports.GCD = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var n = range.length;\n  var r0 = range[0];\n  var x = r0 < 0 ? -r0 : r0;\n  for (var i = 1; i < n; i++) {\n    var ri = range[i];\n    var y = ri < 0 ? -ri : ri;\n    while (x && y) {\n      if (x > y) {\n        x %= y;\n      } else {\n        y %= x;\n      }\n    }\n    x += y;\n  }\n  return x;\n};\n\n\nexports.INT = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.floor(number);\n};\n\n//TODO: verify\nexports.ISO = {\n  CEILING: exports.CEILING\n};\n\nexports.LCM = function() {\n  // Credits: Jonas Raoni Soares Silva\n  var o = utils.parseNumberArray(utils.flatten(arguments));\n  if (o instanceof Error) {\n    return o;\n  }\n  for (var i, j, n, d, r = 1;\n       (n = o.pop()) !== undefined;) {\n    while (n > 1) {\n      if (n % 2) {\n        for (i = 3, j = Math.floor(Math.sqrt(n)); i <= j && n % i; i += 2) {\n          //empty\n        }\n        d = (i <= j) ? i : n;\n      } else {\n        d = 2;\n      }\n      for (n /= d, r *= d, i = o.length; i;\n           (o[--i] % d) === 0 && (o[i] /= d) === 1 && o.splice(i, 1)) {\n        //empty\n      }\n    }\n  }\n  return r;\n};\n\nexports.LN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.log(number);\n};\n\nexports.LN10 = function() {\n  return Math.log(10);\n};\n\nexports.LN2 = function() {\n  return Math.log(2);\n};\n\nexports.LOG10E = function() {\n  return Math.LOG10E;\n};\n\nexports.LOG2E = function() {\n  return Math.LOG2E;\n};\n\nexports.LOG = function(number, base) {\n  number = utils.parseNumber(number);\n  base = utils.parseNumber(base);\n  if (utils.anyIsError(number, base)) {\n    return error.value;\n  }\n  base = (base === undefined) ? 10 : base;\n  return Math.log(number) / Math.log(base);\n};\n\nexports.LOG10 = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.log(number) / Math.log(10);\n};\n\nexports.MOD = function(dividend, divisor) {\n  dividend = utils.parseNumber(dividend);\n  divisor = utils.parseNumber(divisor);\n  if (utils.anyIsError(dividend, divisor)) {\n    return error.value;\n  }\n  if (divisor === 0) {\n    return error.div0;\n  }\n  var modulus = Math.abs(dividend % divisor);\n  return (divisor > 0) ? modulus : -modulus;\n};\n\nexports.MROUND = function(number, multiple) {\n  number = utils.parseNumber(number);\n  multiple = utils.parseNumber(multiple);\n  if (utils.anyIsError(number, multiple)) {\n    return error.value;\n  }\n  if (number * multiple < 0) {\n    return error.num;\n  }\n\n  return Math.round(number / multiple) * multiple;\n};\n\nexports.MULTINOMIAL = function() {\n  var args = utils.parseNumberArray(utils.flatten(arguments));\n  if (args instanceof Error) {\n    return args;\n  }\n  var sum = 0;\n  var divisor = 1;\n  for (var i = 0; i < args.length; i++) {\n    sum += args[i];\n    divisor *= exports.FACT(args[i]);\n  }\n  return exports.FACT(sum) / divisor;\n};\n\nexports.ODD = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var temp = Math.ceil(Math.abs(number));\n  temp = (temp & 1) ? temp : temp + 1;\n  return (number > 0) ? temp : -temp;\n};\n\nexports.PI = function() {\n  return Math.PI;\n};\n\nexports.E = function() {\n  return Math.E;\n};\n\nexports.POWER = function(number, power) {\n  number = utils.parseNumber(number);\n  power = utils.parseNumber(power);\n  if (utils.anyIsError(number, power)) {\n    return error.value;\n  }\n  var result = Math.pow(number, power);\n  if (isNaN(result)) {\n    return error.num;\n  }\n\n  return result;\n};\n\nexports.PRODUCT = function() {\n  var args = utils.parseNumberArray(utils.flatten(arguments));\n  if (args instanceof Error) {\n    return args;\n  }\n  var result = 1;\n  for (var i = 0; i < args.length; i++) {\n    result *= args[i];\n  }\n  return result;\n};\n\nexports.QUOTIENT = function(numerator, denominator) {\n  numerator = utils.parseNumber(numerator);\n  denominator = utils.parseNumber(denominator);\n  if (utils.anyIsError(numerator, denominator)) {\n    return error.value;\n  }\n  return parseInt(numerator / denominator, 10);\n};\n\nexports.RADIANS = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return number * Math.PI / 180;\n};\n\nexports.RAND = function() {\n  return Math.random();\n};\n\nexports.RANDBETWEEN = function(bottom, top) {\n  bottom = utils.parseNumber(bottom);\n  top = utils.parseNumber(top);\n  if (utils.anyIsError(bottom, top)) {\n    return error.value;\n  }\n  // Creative Commons Attribution 3.0 License\n  // Copyright (c) 2012 eqcode\n  return bottom + Math.ceil((top - bottom + 1) * Math.random()) - 1;\n};\n\n// TODO\nexports.ROMAN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  // The MIT License\n  // Copyright (c) 2008 Steven Levithan\n  var digits = String(number).split('');\n  var key = ['', 'C', 'CC', 'CCC', 'CD', 'D', 'DC', 'DCC', 'DCCC', 'CM', '', 'X', 'XX', 'XXX', 'XL', 'L', 'LX', 'LXX', 'LXXX', 'XC', '', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX'];\n  var roman = '';\n  var i = 3;\n  while (i--) {\n    roman = (key[+digits.pop() + (i * 10)] || '') + roman;\n  }\n  return new Array(+digits.join('') + 1).join('M') + roman;\n};\n\nexports.ROUND = function(number, digits) {\n  number = utils.parseNumber(number);\n  digits = utils.parseNumber(digits);\n  if (utils.anyIsError(number, digits)) {\n    return error.value;\n  }\n  return Math.round(number * Math.pow(10, digits)) / Math.pow(10, digits);\n};\n\nexports.ROUNDDOWN = function(number, digits) {\n  number = utils.parseNumber(number);\n  digits = utils.parseNumber(digits);\n  if (utils.anyIsError(number, digits)) {\n    return error.value;\n  }\n  var sign = (number > 0) ? 1 : -1;\n  return sign * (Math.floor(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);\n};\n\nexports.ROUNDUP = function(number, digits) {\n  number = utils.parseNumber(number);\n  digits = utils.parseNumber(digits);\n  if (utils.anyIsError(number, digits)) {\n    return error.value;\n  }\n  var sign = (number > 0) ? 1 : -1;\n  return sign * (Math.ceil(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);\n};\n\nexports.SEC = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return 1 / Math.cos(number);\n};\n\nexports.SECH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return 2 / (Math.exp(number) + Math.exp(-number));\n};\n\nexports.SERIESSUM = function(x, n, m, coefficients) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  m = utils.parseNumber(m);\n  coefficients = utils.parseNumberArray(coefficients);\n  if (utils.anyIsError(x, n, m, coefficients)) {\n    return error.value;\n  }\n  var result = coefficients[0] * Math.pow(x, n);\n  for (var i = 1; i < coefficients.length; i++) {\n    result += coefficients[i] * Math.pow(x, n + i * m);\n  }\n  return result;\n};\n\nexports.SIGN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  if (number < 0) {\n    return -1;\n  } else if (number === 0) {\n    return 0;\n  } else {\n    return 1;\n  }\n};\n\nexports.SIN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.sin(number);\n};\n\nexports.SINH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return (Math.exp(number) - Math.exp(-number)) / 2;\n};\n\nexports.SQRT = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  if (number < 0) {\n    return error.num;\n  }\n  return Math.sqrt(number);\n};\n\nexports.SQRTPI = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.sqrt(number * Math.PI);\n};\n\nexports.SQRT1_2 = function() {\n  return 1 / Math.sqrt(2);\n};\n\nexports.SQRT2 = function() {\n  return Math.sqrt(2);\n};\n\nexports.SUBTOTAL = function(function_code, ref1) {\n  function_code = utils.parseNumber(function_code);\n  if (function_code instanceof Error) {\n    return function_code;\n  }\n  switch (function_code) {\n    case 1:\n      return statistical.AVERAGE(ref1);\n    case 2:\n      return statistical.COUNT(ref1);\n    case 3:\n      return statistical.COUNTA(ref1);\n    case 4:\n      return statistical.MAX(ref1);\n    case 5:\n      return statistical.MIN(ref1);\n    case 6:\n      return exports.PRODUCT(ref1);\n    case 7:\n      return statistical.STDEV.S(ref1);\n    case 8:\n      return statistical.STDEV.P(ref1);\n    case 9:\n      return exports.SUM(ref1);\n    case 10:\n      return statistical.VAR.S(ref1);\n    case 11:\n      return statistical.VAR.P(ref1);\n    // no hidden values for us\n    case 101:\n      return statistical.AVERAGE(ref1);\n    case 102:\n      return statistical.COUNT(ref1);\n    case 103:\n      return statistical.COUNTA(ref1);\n    case 104:\n      return statistical.MAX(ref1);\n    case 105:\n      return statistical.MIN(ref1);\n    case 106:\n      return exports.PRODUCT(ref1);\n    case 107:\n      return statistical.STDEV.S(ref1);\n    case 108:\n      return statistical.STDEV.P(ref1);\n    case 109:\n      return exports.SUM(ref1);\n    case 110:\n      return statistical.VAR.S(ref1);\n    case 111:\n      return statistical.VAR.P(ref1);\n\n  }\n};\n\nexports.ADD = function (num1, num2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  num1 = utils.parseNumber(num1);\n  num2 = utils.parseNumber(num2);\n  if (utils.anyIsError(num1, num2)) {\n    return error.value;\n  }\n\n  return num1 + num2;\n};\n\nexports.MINUS = function (num1, num2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  num1 = utils.parseNumber(num1);\n  num2 = utils.parseNumber(num2);\n  if (utils.anyIsError(num1, num2)) {\n    return error.value;\n  }\n\n  return num1 - num2;\n};\n\nexports.DIVIDE = function (dividend, divisor) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  dividend = utils.parseNumber(dividend);\n  divisor = utils.parseNumber(divisor);\n  if (utils.anyIsError(dividend, divisor)) {\n    return error.value;\n  }\n\n  if (divisor === 0) {\n    return error.div0;\n  }\n\n  return dividend / divisor;\n};\n\nexports.MULTIPLY = function (factor1, factor2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  factor1 = utils.parseNumber(factor1);\n  factor2 = utils.parseNumber(factor2);\n  if (utils.anyIsError(factor1, factor2)) {\n    return error.value;\n  }\n\n  return factor1 * factor2;\n};\n\nexports.GTE = function (num1, num2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  num1 = utils.parseNumber(num1);\n  num2 = utils.parseNumber(num2);\n  if (utils.anyIsError(num1, num2)) {\n    return error.error;\n  }\n\n  return num1 >= num2;\n};\n\nexports.LT = function (num1, num2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  num1 = utils.parseNumber(num1);\n  num2 = utils.parseNumber(num2);\n  if (utils.anyIsError(num1, num2)) {\n    return error.error;\n  }\n\n  return num1 < num2;\n};\n\n\nexports.LTE = function (num1, num2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  num1 = utils.parseNumber(num1);\n  num2 = utils.parseNumber(num2);\n  if (utils.anyIsError(num1, num2)) {\n    return error.error;\n  }\n\n  return num1 <= num2;\n};\n\nexports.EQ = function (value1, value2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  return value1 === value2;\n};\n\nexports.NE = function (value1, value2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  return value1 !== value2;\n};\n\nexports.POW = function (base, exponent) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  base = utils.parseNumber(base);\n  exponent = utils.parseNumber(exponent);\n  if (utils.anyIsError(base, exponent)) {\n    return error.error;\n  }\n\n  return exports.POWER(base, exponent);\n};\n\nexports.SUM = function() {\n  var result = 0;\n\n  utils.arrayEach(utils.argsToArray(arguments), function(value) {\n    if (typeof value === 'number') {\n      result += value;\n\n    } else if (typeof value === 'string') {\n      var parsed = parseFloat(value);\n\n      !isNaN(parsed) && (result += parsed);\n\n    } else if (Array.isArray(value)) {\n      result += exports.SUM.apply(null, value);\n    }\n  });\n\n  return result;\n};\n\nexports.SUMIF = function(range, criteria) {\n  range = utils.parseNumberArray(utils.flatten(range));\n\n  if (range instanceof Error) {\n    return range;\n  }\n  var result = 0;\n  var isWildcard = criteria === void 0 || criteria === '*';\n  var tokenizedCriteria = isWildcard ? null : evalExpression.parse(criteria + '');\n\n  for (var i = 0; i < range.length; i++) {\n    var value = range[i];\n\n    if (isWildcard) {\n      result += value;\n    } else {\n      var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n      result += (evalExpression.compute(tokens) ? value : 0);\n    }\n  }\n\n  return result;\n};\n\nexports.SUMIFS = function() {\n  var args = utils.argsToArray(arguments);\n  var range = utils.parseNumberArray(utils.flatten(args.shift()));\n\n  if (range instanceof Error) {\n    return range;\n  }\n  var criterias = args;\n  var n_range_elements = range.length;\n  var criteriaLength = criterias.length;\n  var result = 0;\n\n  for (var i = 0; i < n_range_elements; i++) {\n    var value = range[i];\n    var isMeetCondition = false;\n\n    for (var j = 0; j < criteriaLength; j++) {\n      var criteria = criterias[j];\n      var isWildcard = criteria === void 0 || criteria === '*';\n      var computedResult = false;\n\n      if (isWildcard) {\n        computedResult = true;\n      } else {\n        var tokenizedCriteria = evalExpression.parse(criteria + '');\n        var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n        computedResult = evalExpression.compute(tokens);\n      }\n\n      // Criterias are calculated as AND so any `false` breakes the loop as unmeet condition\n      if (!computedResult) {\n        isMeetCondition = false;\n        break;\n      }\n\n      isMeetCondition = true;\n    }\n\n    if (isMeetCondition) {\n      result += value;\n    }\n  }\n\n  return result;\n};\n\nexports.SUMPRODUCT = function() {\n  if (!arguments || arguments.length === 0) {\n    return error.value;\n  }\n  var arrays = arguments.length + 1;\n  var result = 0;\n  var product;\n  var k;\n  var _i;\n  var _ij;\n  for (var i = 0; i < arguments[0].length; i++) {\n    if (!(arguments[0][i] instanceof Array)) {\n      product = 1;\n      for (k = 1; k < arrays; k++) {\n        _i = utils.parseNumber(arguments[k - 1][i]);\n        if (_i instanceof Error) {\n          return _i;\n        }\n        product *= _i;\n      }\n      result += product;\n    } else {\n      for (var j = 0; j < arguments[0][i].length; j++) {\n        product = 1;\n        for (k = 1; k < arrays; k++) {\n          _ij = utils.parseNumber(arguments[k - 1][i][j]);\n          if (_ij instanceof Error) {\n            return _ij;\n          }\n          product *= _ij;\n        }\n        result += product;\n      }\n    }\n  }\n  return result;\n};\n\nexports.SUMSQ = function() {\n  var numbers = utils.parseNumberArray(utils.flatten(arguments));\n  if (numbers instanceof Error) {\n    return numbers;\n  }\n  var result = 0;\n  var length = numbers.length;\n  for (var i = 0; i < length; i++) {\n    result += (information.ISNUMBER(numbers[i])) ? numbers[i] * numbers[i] : 0;\n  }\n  return result;\n};\n\nexports.SUMX2MY2 = function(array_x, array_y) {\n  array_x = utils.parseNumberArray(utils.flatten(array_x));\n  array_y = utils.parseNumberArray(utils.flatten(array_y));\n  if (utils.anyIsError(array_x, array_y)) {\n    return error.value;\n  }\n  var result = 0;\n  for (var i = 0; i < array_x.length; i++) {\n    result += array_x[i] * array_x[i] - array_y[i] * array_y[i];\n  }\n  return result;\n};\n\nexports.SUMX2PY2 = function(array_x, array_y) {\n  array_x = utils.parseNumberArray(utils.flatten(array_x));\n  array_y = utils.parseNumberArray(utils.flatten(array_y));\n  if (utils.anyIsError(array_x, array_y)) {\n    return error.value;\n  }\n  var result = 0;\n  array_x = utils.parseNumberArray(utils.flatten(array_x));\n  array_y = utils.parseNumberArray(utils.flatten(array_y));\n  for (var i = 0; i < array_x.length; i++) {\n    result += array_x[i] * array_x[i] + array_y[i] * array_y[i];\n  }\n  return result;\n};\n\nexports.SUMXMY2 = function(array_x, array_y) {\n  array_x = utils.parseNumberArray(utils.flatten(array_x));\n  array_y = utils.parseNumberArray(utils.flatten(array_y));\n  if (utils.anyIsError(array_x, array_y)) {\n    return error.value;\n  }\n  var result = 0;\n  array_x = utils.flatten(array_x);\n  array_y = utils.flatten(array_y);\n  for (var i = 0; i < array_x.length; i++) {\n    result += Math.pow(array_x[i] - array_y[i], 2);\n  }\n  return result;\n};\n\nexports.TAN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.tan(number);\n};\n\nexports.TANH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var e2 = Math.exp(2 * number);\n  return (e2 - 1) / (e2 + 1);\n};\n\nexports.TRUNC = function(number, digits) {\n  digits = (digits === undefined) ? 0 : digits;\n  number = utils.parseNumber(number);\n  digits = utils.parseNumber(digits);\n  if (utils.anyIsError(number, digits)) {\n    return error.value;\n  }\n  var sign = (number > 0) ? 1 : -1;\n  return sign * (Math.floor(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);\n};\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar mathTrig = __webpack_require__(4);\nvar text = __webpack_require__(6);\nvar jStat = __webpack_require__(10);\nvar utils = __webpack_require__(1);\nvar evalExpression = __webpack_require__(7);\nvar error = __webpack_require__(0);\nvar misc = __webpack_require__(11);\n\nvar SQRT2PI = 2.5066282746310002;\n\nexports.AVEDEV = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  return jStat.sum(jStat(range).subtract(jStat.mean(range)).abs()[0]) / range.length;\n};\n\nexports.AVERAGE = function() {\n  var range = utils.numbers(utils.flatten(arguments));\n  var n = range.length;\n  var sum = 0;\n  var count = 0;\n  var result;\n\n  for (var i = 0; i < n; i++) {\n    sum += range[i];\n    count += 1;\n  }\n  result = sum / count;\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.AVERAGEA = function() {\n  var range = utils.flatten(arguments);\n  var n = range.length;\n  var sum = 0;\n  var count = 0;\n  var result;\n  for (var i = 0; i < n; i++) {\n    var el = range[i];\n    if (typeof el === 'number') {\n      sum += el;\n    }\n    if (el === true) {\n      sum++;\n    }\n    if (el !== null) {\n      count++;\n    }\n  }\n  result = sum / count;\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.AVERAGEIF = function(range, criteria, average_range) {\n  if (arguments.length <= 1) {\n    return error.na;\n  }\n  average_range = average_range || range;\n  range = utils.flatten(range);\n  average_range = utils.parseNumberArray(utils.flatten(average_range));\n\n  if (average_range instanceof Error) {\n    return average_range;\n  }\n  var average_count = 0;\n  var result = 0;\n  var isWildcard = criteria === void 0 || criteria === '*';\n  var tokenizedCriteria = isWildcard ? null : evalExpression.parse(criteria + '');\n\n  for (var i = 0; i < range.length; i++) {\n    var value = range[i];\n\n    if (isWildcard) {\n      result += average_range[i];\n      average_count++;\n    } else {\n      var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n      if (evalExpression.compute(tokens)) {\n        result += average_range[i];\n        average_count++;\n      }\n    }\n  }\n\n  return result / average_count;\n};\n\nexports.AVERAGEIFS = function() {\n  // Does not work with multi dimensional ranges yet!\n  //http://office.microsoft.com/en-001/excel-help/averageifs-function-HA010047493.aspx\n  var args = utils.argsToArray(arguments);\n  var criteriaLength = (args.length - 1) / 2;\n  var range = utils.flatten(args[0]);\n  var count = 0;\n  var result = 0;\n\n  for (var i = 0; i < range.length; i++) {\n    var isMeetCondition = false;\n\n    for (var j = 0; j < criteriaLength; j++) {\n      var value = args[2 * j + 1][i];\n      var criteria = args[2 * j + 2];\n      var isWildcard = criteria === void 0 || criteria === '*';\n      var computedResult = false;\n\n      if (isWildcard) {\n        computedResult = true;\n      } else {\n        var tokenizedCriteria = evalExpression.parse(criteria + '');\n        var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n        computedResult = evalExpression.compute(tokens);\n      }\n\n      // Criterias are calculated as AND so any `false` breakes the loop as unmeet condition\n      if (!computedResult) {\n        isMeetCondition = false;\n        break;\n      }\n\n      isMeetCondition = true;\n    }\n\n    if (isMeetCondition) {\n      result += range[i];\n      count++;\n    }\n  }\n\n  var average = result / count;\n\n  if (isNaN(average)) {\n    return 0;\n  } else {\n    return average;\n  }\n};\n\nexports.BETA = {};\n\nexports.BETA.DIST = function(x, alpha, beta, cumulative, A, B) {\n  if (arguments.length < 4) {\n    return error.value;\n  }\n\n  A = (A === undefined) ? 0 : A;\n  B = (B === undefined) ? 1 : B;\n\n  x = utils.parseNumber(x);\n  alpha = utils.parseNumber(alpha);\n  beta = utils.parseNumber(beta);\n  A = utils.parseNumber(A);\n  B = utils.parseNumber(B);\n  if (utils.anyIsError(x, alpha, beta, A, B)) {\n    return error.value;\n  }\n\n  x = (x - A) / (B - A);\n  return (cumulative) ? jStat.beta.cdf(x, alpha, beta) : jStat.beta.pdf(x, alpha, beta);\n};\n\nexports.BETA.INV = function(probability, alpha, beta, A, B) {\n  A = (A === undefined) ? 0 : A;\n  B = (B === undefined) ? 1 : B;\n\n  probability = utils.parseNumber(probability);\n  alpha = utils.parseNumber(alpha);\n  beta = utils.parseNumber(beta);\n  A = utils.parseNumber(A);\n  B = utils.parseNumber(B);\n  if (utils.anyIsError(probability, alpha, beta, A, B)) {\n    return error.value;\n  }\n\n  return jStat.beta.inv(probability, alpha, beta) * (B - A) + A;\n};\n\nexports.BINOM = {};\n\nexports.BINOM.DIST = function(successes, trials, probability, cumulative) {\n  successes = utils.parseNumber(successes);\n  trials = utils.parseNumber(trials);\n  probability = utils.parseNumber(probability);\n  cumulative = utils.parseNumber(cumulative);\n  if (utils.anyIsError(successes, trials, probability, cumulative)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.binomial.cdf(successes, trials, probability) : jStat.binomial.pdf(successes, trials, probability);\n};\n\nexports.BINOM.DIST.RANGE = function(trials, probability, successes, successes2) {\n  successes2 = (successes2 === undefined) ? successes : successes2;\n\n  trials = utils.parseNumber(trials);\n  probability = utils.parseNumber(probability);\n  successes = utils.parseNumber(successes);\n  successes2 = utils.parseNumber(successes2);\n  if (utils.anyIsError(trials, probability, successes, successes2)) {\n    return error.value;\n  }\n\n  var result = 0;\n  for (var i = successes; i <= successes2; i++) {\n    result += mathTrig.COMBIN(trials, i) * Math.pow(probability, i) * Math.pow(1 - probability, trials - i);\n  }\n  return result;\n};\n\nexports.BINOM.INV = function(trials, probability, alpha) {\n  trials = utils.parseNumber(trials);\n  probability = utils.parseNumber(probability);\n  alpha = utils.parseNumber(alpha);\n  if (utils.anyIsError(trials, probability, alpha)) {\n    return error.value;\n  }\n\n  var x = 0;\n  while (x <= trials) {\n    if (jStat.binomial.cdf(x, trials, probability) >= alpha) {\n      return x;\n    }\n    x++;\n  }\n};\n\nexports.CHISQ = {};\n\nexports.CHISQ.DIST = function(x, k, cumulative) {\n  x = utils.parseNumber(x);\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(x, k)) {\n    return error.value;\n  }\n\n  return (cumulative) ? jStat.chisquare.cdf(x, k) : jStat.chisquare.pdf(x, k);\n};\n\nexports.CHISQ.DIST.RT = function(x, k) {\n  if (!x | !k) {\n    return error.na;\n  }\n\n  if (x < 1 || k > Math.pow(10, 10)) {\n    return error.num;\n  }\n\n  if ((typeof x !== 'number') || (typeof k !== 'number')) {\n    return error.value;\n  }\n\n  return 1 -  jStat.chisquare.cdf(x, k);\n};\n\nexports.CHISQ.INV = function(probability, k) {\n  probability = utils.parseNumber(probability);\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(probability, k)) {\n    return error.value;\n  }\n  return jStat.chisquare.inv(probability, k);\n};\n\nexports.CHISQ.INV.RT = function(p, k) {\n  if (!p | !k) {\n    return error.na;\n  }\n\n  if (p < 0 || p > 1 || k < 1 || k > Math.pow(10, 10)) {\n    return error.num;\n  }\n\n  if ((typeof p !== 'number') || (typeof k !== 'number')) {\n    return error.value;\n  }\n\n  return jStat.chisquare.inv(1.0 - p, k);\n};\n\nexports.CHISQ.TEST = function(observed, expected) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  if ((!(observed instanceof Array)) || (!(expected instanceof Array))) {\n    return error.value;\n  }\n\n  if (observed.length !== expected.length) {\n    return error.value;\n  }\n\n  if (observed[0] && expected[0] &&\n    observed[0].length !== expected[0].length) {\n    return error.value;\n  }\n\n  var row = observed.length;\n  var tmp, i, j;\n\n  // Convert single-dimension array into two-dimension array\n  for (i = 0; i < row; i ++) {\n    if (!(observed[i] instanceof Array)) {\n      tmp = observed[i];\n      observed[i] = [];\n      observed[i].push(tmp);\n    }\n    if (!(expected[i] instanceof Array)) {\n      tmp = expected[i];\n      expected[i] = [];\n      expected[i].push(tmp);\n    }\n  }\n\n  var col = observed[0].length;\n  var dof = (col === 1) ? row-1 : (row-1)*(col-1);\n  var xsqr = 0;\n  var Pi =Math.PI;\n\n  for (i = 0; i < row; i ++) {\n    for (j = 0; j < col; j ++) {\n      xsqr += Math.pow((observed[i][j] - expected[i][j]), 2) / expected[i][j];\n    }\n  }\n\n  // Get independency by X square and its degree of freedom\n  function ChiSq(xsqr, dof) {\n    var p = Math.exp(-0.5 * xsqr);\n    if((dof%2) === 1) {\n      p = p * Math.sqrt(2 * xsqr/Pi);\n    }\n    var k = dof;\n    while(k >= 2) {\n      p = p * xsqr/k;\n      k = k - 2;\n    }\n    var t = p;\n    var a = dof;\n    while (t > 0.0000000001*p) {\n      a = a + 2;\n      t = t * xsqr/a;\n      p = p + t;\n    }\n    return 1-p;\n  }\n\n  return Math.round(ChiSq(xsqr, dof) * 1000000) / 1000000;\n};\n\nexports.COLUMN = function(matrix, index) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  if (index < 0) {\n    return error.num;\n  }\n\n  if (!(matrix instanceof Array) || (typeof index !== 'number')) {\n    return error.value;\n  }\n\n  if (matrix.length === 0) {\n    return undefined;\n  }\n\n  return jStat.col(matrix, index);\n};\n\nexports.COLUMNS = function(matrix) {\n  if (arguments.length !== 1) {\n    return error.na;\n  }\n\n  if (!(matrix instanceof Array)) {\n    return error.value;\n  }\n\n  if (matrix.length === 0) {\n    return 0;\n  }\n\n  return jStat.cols(matrix);\n};\n\nexports.CONFIDENCE = {};\n\nexports.CONFIDENCE.NORM = function(alpha, sd, n) {\n  alpha = utils.parseNumber(alpha);\n  sd = utils.parseNumber(sd);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(alpha, sd, n)) {\n    return error.value;\n  }\n  return jStat.normalci(1, alpha, sd, n)[1] - 1;\n};\n\nexports.CONFIDENCE.T = function(alpha, sd, n) {\n  alpha = utils.parseNumber(alpha);\n  sd = utils.parseNumber(sd);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(alpha, sd, n)) {\n    return error.value;\n  }\n  return jStat.tci(1, alpha, sd, n)[1] - 1;\n};\n\nexports.CORREL = function(array1, array2) {\n  array1 = utils.parseNumberArray(utils.flatten(array1));\n  array2 = utils.parseNumberArray(utils.flatten(array2));\n  if (utils.anyIsError(array1, array2)) {\n    return error.value;\n  }\n  return jStat.corrcoeff(array1, array2);\n};\n\nexports.COUNT = function() {\n  return utils.numbers(utils.flatten(arguments)).length;\n};\n\nexports.COUNTA = function() {\n  var range = utils.flatten(arguments);\n  return range.length - exports.COUNTBLANK(range);\n};\n\nexports.COUNTIN = function (range, value) {\n  var result = 0;\n\n  range = utils.flatten(range);\n\n  for (var i = 0; i < range.length; i++) {\n    if (range[i] === value) {\n      result++;\n    }\n  }\n  return result;\n};\n\n\nexports.COUNTBLANK = function() {\n  var range = utils.flatten(arguments);\n  var blanks = 0;\n  var element;\n  for (var i = 0; i < range.length; i++) {\n    element = range[i];\n    if (element === null || element === '') {\n      blanks++;\n    }\n  }\n  return blanks;\n};\n\nexports.COUNTIF = function(range, criteria) {\n  range = utils.flatten(range);\n\n  var isWildcard = criteria === void 0 || criteria === '*';\n\n  if (isWildcard) {\n    return range.length;\n  }\n\n  var matches = 0;\n  var tokenizedCriteria = evalExpression.parse(criteria + '');\n\n  for (var i = 0; i < range.length; i++) {\n    var value = range[i];\n    var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n    if (evalExpression.compute(tokens)) {\n      matches++;\n    }\n  }\n\n  return matches;\n};\n\nexports.COUNTIFS = function() {\n  var args = utils.argsToArray(arguments);\n  var results = new Array(utils.flatten(args[0]).length);\n\n  for (var i = 0; i < results.length; i++) {\n    results[i] = true;\n  }\n  for (i = 0; i < args.length; i += 2) {\n    var range = utils.flatten(args[i]);\n    var criteria = args[i + 1];\n    var isWildcard = criteria === void 0 || criteria === '*';\n\n    if (!isWildcard) {\n      var tokenizedCriteria = evalExpression.parse(criteria + '');\n\n      for (var j = 0; j < range.length; j++) {\n        var value = range[j];\n        var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n        results[j] = results[j] && evalExpression.compute(tokens);\n      }\n    }\n  }\n  var result = 0;\n  for (i = 0; i < results.length; i++) {\n    if (results[i]) {\n      result++;\n    }\n  }\n\n  return result;\n};\n\nexports.COUNTUNIQUE = function () {\n  return misc.UNIQUE.apply(null, utils.flatten(arguments)).length;\n};\n\nexports.COVARIANCE = {};\n\nexports.COVARIANCE.P = function(array1, array2) {\n  array1 = utils.parseNumberArray(utils.flatten(array1));\n  array2 = utils.parseNumberArray(utils.flatten(array2));\n  if (utils.anyIsError(array1, array2)) {\n    return error.value;\n  }\n  var mean1 = jStat.mean(array1);\n  var mean2 = jStat.mean(array2);\n  var result = 0;\n  var n = array1.length;\n  for (var i = 0; i < n; i++) {\n    result += (array1[i] - mean1) * (array2[i] - mean2);\n  }\n  return result / n;\n};\n\nexports.COVARIANCE.S = function(array1, array2) {\n  array1 = utils.parseNumberArray(utils.flatten(array1));\n  array2 = utils.parseNumberArray(utils.flatten(array2));\n  if (utils.anyIsError(array1, array2)) {\n    return error.value;\n  }\n  return jStat.covariance(array1, array2);\n};\n\nexports.DEVSQ = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var mean = jStat.mean(range);\n  var result = 0;\n  for (var i = 0; i < range.length; i++) {\n    result += Math.pow((range[i] - mean), 2);\n  }\n  return result;\n};\n\nexports.EXPON = {};\n\nexports.EXPON.DIST = function(x, lambda, cumulative) {\n  x = utils.parseNumber(x);\n  lambda = utils.parseNumber(lambda);\n  if (utils.anyIsError(x, lambda)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.exponential.cdf(x, lambda) : jStat.exponential.pdf(x, lambda);\n};\n\nexports.F = {};\n\nexports.F.DIST = function(x, d1, d2, cumulative) {\n  x = utils.parseNumber(x);\n  d1 = utils.parseNumber(d1);\n  d2 = utils.parseNumber(d2);\n  if (utils.anyIsError(x, d1, d2)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.centralF.cdf(x, d1, d2) : jStat.centralF.pdf(x, d1, d2);\n};\n\nexports.F.DIST.RT = function(x, d1, d2) {\n  if (arguments.length !== 3) {\n    return error.na;\n  }\n\n  if (x < 0 || d1 < 1 || d2 < 1) {\n    return error.num;\n  }\n\n  if ((typeof x !== 'number') || (typeof d1 !== 'number') || (typeof d2 !== 'number')) {\n    return error.value;\n  }\n\n  return 1 - jStat.centralF.cdf(x, d1, d2);\n};\n\nexports.F.INV = function(probability, d1, d2) {\n  probability = utils.parseNumber(probability);\n  d1 = utils.parseNumber(d1);\n  d2 = utils.parseNumber(d2);\n  if (utils.anyIsError(probability, d1, d2)) {\n    return error.value;\n  }\n  if (probability <= 0.0 || probability > 1.0) {\n    return error.num;\n  }\n\n  return jStat.centralF.inv(probability, d1, d2);\n};\n\nexports.F.INV.RT = function(p, d1, d2) {\n  if (arguments.length !== 3) {\n    return error.na;\n  }\n\n  if (p < 0 || p > 1 || d1 < 1 || d1 > Math.pow(10, 10) || d2 < 1 || d2 > Math.pow(10, 10)) {\n    return error.num;\n  }\n\n  if ((typeof p !== 'number') || (typeof d1 !== 'number') || (typeof d2 !== 'number')) {\n    return error.value;\n  }\n\n  return jStat.centralF.inv(1.0 - p, d1, d2);\n};\n\nexports.F.TEST = function(array1, array2) {\n  if (!array1 || !array2) {\n    return error.na;\n  }\n\n  if (!(array1 instanceof Array) || !(array2 instanceof Array)) {\n    return error.na;\n  }\n\n  if (array1.length < 2 || array2.length < 2) {\n    return error.div0;\n  }\n\n  var sumOfSquares = function(values, x1) {\n    var sum = 0;\n    for (var i = 0; i < values.length; i++) {\n      sum +=Math.pow((values[i] - x1), 2);\n    }\n    return sum;\n  };\n\n  var x1 = mathTrig.SUM(array1) / array1.length;\n  var x2 = mathTrig.SUM(array2) / array2.length;\n  var sum1 = sumOfSquares(array1, x1) / (array1.length - 1);\n  var sum2 = sumOfSquares(array2, x2) / (array2.length - 1);\n\n  return sum1 / sum2;\n};\n\nexports.FISHER = function(x) {\n  x = utils.parseNumber(x);\n  if (x instanceof Error) {\n    return x;\n  }\n  return Math.log((1 + x) / (1 - x)) / 2;\n};\n\nexports.FISHERINV = function(y) {\n  y = utils.parseNumber(y);\n  if (y instanceof Error) {\n    return y;\n  }\n  var e2y = Math.exp(2 * y);\n  return (e2y - 1) / (e2y + 1);\n};\n\nexports.FORECAST = function(x, data_y, data_x) {\n  x = utils.parseNumber(x);\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(x, data_y, data_x)) {\n    return error.value;\n  }\n  var xmean = jStat.mean(data_x);\n  var ymean = jStat.mean(data_y);\n  var n = data_x.length;\n  var num = 0;\n  var den = 0;\n  for (var i = 0; i < n; i++) {\n    num += (data_x[i] - xmean) * (data_y[i] - ymean);\n    den += Math.pow(data_x[i] - xmean, 2);\n  }\n  var b = num / den;\n  var a = ymean - b * xmean;\n  return a + b * x;\n};\n\nexports.FREQUENCY = function(data, bins) {\n  data = utils.parseNumberArray(utils.flatten(data));\n  bins = utils.parseNumberArray(utils.flatten(bins));\n  if (utils.anyIsError(data, bins)) {\n    return error.value;\n  }\n  var n = data.length;\n  var b = bins.length;\n  var r = [];\n  for (var i = 0; i <= b; i++) {\n    r[i] = 0;\n    for (var j = 0; j < n; j++) {\n      if (i === 0) {\n        if (data[j] <= bins[0]) {\n          r[0] += 1;\n        }\n      } else if (i < b) {\n        if (data[j] > bins[i - 1] && data[j] <= bins[i]) {\n          r[i] += 1;\n        }\n      } else if (i === b) {\n        if (data[j] > bins[b - 1]) {\n          r[b] += 1;\n        }\n      }\n    }\n  }\n  return r;\n};\n\n\nexports.GAMMA = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n\n  if (number === 0) {\n    return error.num;\n  }\n\n  if (parseInt(number, 10) === number && number < 0) {\n    return error.num;\n  }\n\n  return jStat.gammafn(number);\n};\n\nexports.GAMMA.DIST = function(value, alpha, beta, cumulative) {\n  if (arguments.length !== 4) {\n    return error.na;\n  }\n\n  if (value < 0 || alpha <= 0 || beta <= 0) {\n    return error.value;\n  }\n\n  if ((typeof value !== 'number') || (typeof alpha !== 'number') || (typeof beta !== 'number')) {\n    return error.value;\n  }\n\n  return cumulative ? jStat.gamma.cdf(value, alpha, beta, true) : jStat.gamma.pdf(value, alpha, beta, false);\n};\n\nexports.GAMMA.INV = function(probability, alpha, beta) {\n  if (arguments.length !== 3) {\n    return error.na;\n  }\n\n  if (probability < 0 || probability > 1 || alpha <= 0 || beta <= 0) {\n    return error.num;\n  }\n\n  if ((typeof probability !== 'number') || (typeof alpha !== 'number') || (typeof beta !== 'number')) {\n    return error.value;\n  }\n\n  return jStat.gamma.inv(probability, alpha, beta);\n};\n\nexports.GAMMALN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return jStat.gammaln(number);\n};\n\nexports.GAMMALN.PRECISE = function(x) {\n  if (arguments.length !== 1) {\n    return error.na;\n  }\n\n  if (x <= 0) {\n    return error.num;\n  }\n\n  if (typeof x !== 'number') {\n    return error.value;\n  }\n\n  return jStat.gammaln(x);\n};\n\nexports.GAUSS = function(z) {\n  z = utils.parseNumber(z);\n  if (z instanceof Error) {\n    return z;\n  }\n  return jStat.normal.cdf(z, 0, 1) - 0.5;\n};\n\nexports.GEOMEAN = function() {\n  var args = utils.parseNumberArray(utils.flatten(arguments));\n  if (args instanceof Error) {\n    return args;\n  }\n  return jStat.geomean(args);\n};\n\nexports.GROWTH = function(known_y, known_x, new_x, use_const) {\n  // Credits: Ilmari Karonen (http://stackoverflow.com/questions/14161990/how-to-implement-growth-function-in-javascript)\n\n  known_y = utils.parseNumberArray(known_y);\n  if (known_y instanceof Error) {\n    return known_y;\n  }\n\n  // Default values for optional parameters:\n  var i;\n  if (known_x === undefined) {\n    known_x = [];\n    for (i = 1; i <= known_y.length; i++) {\n      known_x.push(i);\n    }\n  }\n  if (new_x === undefined) {\n    new_x = [];\n    for (i = 1; i <= known_y.length; i++) {\n      new_x.push(i);\n    }\n  }\n\n  known_x = utils.parseNumberArray(known_x);\n  new_x = utils.parseNumberArray(new_x);\n  if (utils.anyIsError(known_x, new_x)) {\n    return error.value;\n  }\n\n\n  if (use_const === undefined) {\n    use_const = true;\n  }\n\n  // Calculate sums over the data:\n  var n = known_y.length;\n  var avg_x = 0;\n  var avg_y = 0;\n  var avg_xy = 0;\n  var avg_xx = 0;\n  for (i = 0; i < n; i++) {\n    var x = known_x[i];\n    var y = Math.log(known_y[i]);\n    avg_x += x;\n    avg_y += y;\n    avg_xy += x * y;\n    avg_xx += x * x;\n  }\n  avg_x /= n;\n  avg_y /= n;\n  avg_xy /= n;\n  avg_xx /= n;\n\n  // Compute linear regression coefficients:\n  var beta;\n  var alpha;\n  if (use_const) {\n    beta = (avg_xy - avg_x * avg_y) / (avg_xx - avg_x * avg_x);\n    alpha = avg_y - beta * avg_x;\n  } else {\n    beta = avg_xy / avg_xx;\n    alpha = 0;\n  }\n\n  // Compute and return result array:\n  var new_y = [];\n  for (i = 0; i < new_x.length; i++) {\n    new_y.push(Math.exp(alpha + beta * new_x[i]));\n  }\n  return new_y;\n};\n\nexports.HARMEAN = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var n = range.length;\n  var den = 0;\n  for (var i = 0; i < n; i++) {\n    den += 1 / range[i];\n  }\n  return n / den;\n};\n\nexports.HYPGEOM = {};\n\nexports.HYPGEOM.DIST = function(x, n, M, N, cumulative) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  M = utils.parseNumber(M);\n  N = utils.parseNumber(N);\n  if (utils.anyIsError(x, n, M, N)) {\n    return error.value;\n  }\n\n  function pdf(x, n, M, N) {\n    return mathTrig.COMBIN(M, x) * mathTrig.COMBIN(N - M, n - x) / mathTrig.COMBIN(N, n);\n  }\n\n  function cdf(x, n, M, N) {\n    var result = 0;\n    for (var i = 0; i <= x; i++) {\n      result += pdf(i, n, M, N);\n    }\n    return result;\n  }\n\n  return (cumulative) ? cdf(x, n, M, N) : pdf(x, n, M, N);\n};\n\nexports.INTERCEPT = function(known_y, known_x) {\n  known_y = utils.parseNumberArray(known_y);\n  known_x = utils.parseNumberArray(known_x);\n  if (utils.anyIsError(known_y, known_x)) {\n    return error.value;\n  }\n  if (known_y.length !== known_x.length) {\n    return error.na;\n  }\n  return exports.FORECAST(0, known_y, known_x);\n};\n\nexports.KURT = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var mean = jStat.mean(range);\n  var n = range.length;\n  var sigma = 0;\n  for (var i = 0; i < n; i++) {\n    sigma += Math.pow(range[i] - mean, 4);\n  }\n  sigma = sigma / Math.pow(jStat.stdev(range, true), 4);\n  return ((n * (n + 1)) / ((n - 1) * (n - 2) * (n - 3))) * sigma - 3 * (n - 1) * (n - 1) / ((n - 2) * (n - 3));\n};\n\nexports.LARGE = function(range, k) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(range, k)) {\n    return range;\n  }\n  return range.sort(function(a, b) {\n    return b - a;\n  })[k - 1];\n};\n\nexports.LINEST = function(data_y, data_x) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(data_y, data_x)) {\n    return error.value;\n  }\n  var ymean = jStat.mean(data_y);\n  var xmean = jStat.mean(data_x);\n  var n = data_x.length;\n  var num = 0;\n  var den = 0;\n  for (var i = 0; i < n; i++) {\n    num += (data_x[i] - xmean) * (data_y[i] - ymean);\n    den += Math.pow(data_x[i] - xmean, 2);\n  }\n  var m = num / den;\n  var b = ymean - m * xmean;\n  return [m, b];\n};\n\n// According to Microsoft:\n// http://office.microsoft.com/en-us/starter-help/logest-function-HP010342665.aspx\n// LOGEST returns are based on the following linear model:\n// ln y = x1 ln m1 + ... + xn ln mn + ln b\nexports.LOGEST = function(data_y, data_x) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(data_y, data_x)) {\n    return error.value;\n  }\n  for (var i = 0; i < data_y.length; i ++) {\n    data_y[i] = Math.log(data_y[i]);\n  }\n\n  var result = exports.LINEST(data_y, data_x);\n  result[0] = Math.round(Math.exp(result[0])*1000000)/1000000;\n  result[1] = Math.round(Math.exp(result[1])*1000000)/1000000;\n  return result;\n};\n\nexports.LOGNORM = {};\n\nexports.LOGNORM.DIST = function(x, mean, sd, cumulative) {\n  x = utils.parseNumber(x);\n  mean = utils.parseNumber(mean);\n  sd = utils.parseNumber(sd);\n  if (utils.anyIsError(x, mean, sd)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.lognormal.cdf(x, mean, sd) : jStat.lognormal.pdf(x, mean, sd);\n};\n\nexports.LOGNORM.INV = function(probability, mean, sd) {\n  probability = utils.parseNumber(probability);\n  mean = utils.parseNumber(mean);\n  sd = utils.parseNumber(sd);\n  if (utils.anyIsError(probability, mean, sd)) {\n    return error.value;\n  }\n  return jStat.lognormal.inv(probability, mean, sd);\n};\n\nexports.MAX = function() {\n  var range = utils.numbers(utils.flatten(arguments));\n  return (range.length === 0) ? 0 : Math.max.apply(Math, range);\n};\n\nexports.MAXA = function() {\n  var range = utils.arrayValuesToNumbers(utils.flatten(arguments));\n  return (range.length === 0) ? 0 : Math.max.apply(Math, range);\n};\n\nexports.MEDIAN = function() {\n  var range = utils.arrayValuesToNumbers(utils.flatten(arguments));\n  var result = jStat.median(range);\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.MIN = function() {\n  var range = utils.numbers(utils.flatten(arguments));\n  return (range.length === 0) ? 0 : Math.min.apply(Math, range);\n};\n\nexports.MINA = function() {\n  var range = utils.arrayValuesToNumbers(utils.flatten(arguments));\n  return (range.length === 0) ? 0 : Math.min.apply(Math, range);\n};\n\nexports.MODE = {};\n\nexports.MODE.MULT = function() {\n  // Credits: Roönaän\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var n = range.length;\n  var count = {};\n  var maxItems = [];\n  var max = 0;\n  var currentItem;\n\n  for (var i = 0; i < n; i++) {\n    currentItem = range[i];\n    count[currentItem] = count[currentItem] ? count[currentItem] + 1 : 1;\n    if (count[currentItem] > max) {\n      max = count[currentItem];\n      maxItems = [];\n    }\n    if (count[currentItem] === max) {\n      maxItems[maxItems.length] = currentItem;\n    }\n  }\n  return maxItems;\n};\n\nexports.MODE.SNGL = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  return exports.MODE.MULT(range).sort(function(a, b) {\n    return a - b;\n  })[0];\n};\n\nexports.NEGBINOM = {};\n\nexports.NEGBINOM.DIST = function(k, r, p, cumulative) {\n  k = utils.parseNumber(k);\n  r = utils.parseNumber(r);\n  p = utils.parseNumber(p);\n  if (utils.anyIsError(k, r, p)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.negbin.cdf(k, r, p) : jStat.negbin.pdf(k, r, p);\n};\n\nexports.NORM = {};\n\nexports.NORM.DIST = function(x, mean, sd, cumulative) {\n  x = utils.parseNumber(x);\n  mean = utils.parseNumber(mean);\n  sd = utils.parseNumber(sd);\n  if (utils.anyIsError(x, mean, sd)) {\n    return error.value;\n  }\n  if (sd <= 0) {\n    return error.num;\n  }\n\n  // Return normal distribution computed by jStat [http://jstat.org]\n  return (cumulative) ? jStat.normal.cdf(x, mean, sd) : jStat.normal.pdf(x, mean, sd);\n};\n\nexports.NORM.INV = function(probability, mean, sd) {\n  probability = utils.parseNumber(probability);\n  mean = utils.parseNumber(mean);\n  sd = utils.parseNumber(sd);\n  if (utils.anyIsError(probability, mean, sd)) {\n    return error.value;\n  }\n  return jStat.normal.inv(probability, mean, sd);\n};\n\nexports.NORM.S = {};\n\nexports.NORM.S.DIST = function(z, cumulative) {\n  z = utils.parseNumber(z);\n  if (z instanceof Error) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.normal.cdf(z, 0, 1) : jStat.normal.pdf(z, 0, 1);\n};\n\nexports.NORM.S.INV = function(probability) {\n  probability = utils.parseNumber(probability);\n  if (probability instanceof Error) {\n    return error.value;\n  }\n  return jStat.normal.inv(probability, 0, 1);\n};\n\nexports.PEARSON = function(data_x, data_y) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(data_y, data_x)) {\n    return error.value;\n  }\n  var xmean = jStat.mean(data_x);\n  var ymean = jStat.mean(data_y);\n  var n = data_x.length;\n  var num = 0;\n  var den1 = 0;\n  var den2 = 0;\n  for (var i = 0; i < n; i++) {\n    num += (data_x[i] - xmean) * (data_y[i] - ymean);\n    den1 += Math.pow(data_x[i] - xmean, 2);\n    den2 += Math.pow(data_y[i] - ymean, 2);\n  }\n  return num / Math.sqrt(den1 * den2);\n};\n\nexports.PERCENTILE = {};\n\nexports.PERCENTILE.EXC = function(array, k) {\n  array = utils.parseNumberArray(utils.flatten(array));\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(array, k)) {\n    return error.value;\n  }\n  array = array.sort(function(a, b) {\n    {\n      return a - b;\n    }\n  });\n  var n = array.length;\n  if (k < 1 / (n + 1) || k > 1 - 1 / (n + 1)) {\n    return error.num;\n  }\n  var l = k * (n + 1) - 1;\n  var fl = Math.floor(l);\n  return utils.cleanFloat((l === fl) ? array[l] : array[fl] + (l - fl) * (array[fl + 1] - array[fl]));\n};\n\nexports.PERCENTILE.INC = function(array, k) {\n  array = utils.parseNumberArray(utils.flatten(array));\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(array, k)) {\n    return error.value;\n  }\n  array = array.sort(function(a, b) {\n    return a - b;\n  });\n  var n = array.length;\n  var l = k * (n - 1);\n  var fl = Math.floor(l);\n  return utils.cleanFloat((l === fl) ? array[l] : array[fl] + (l - fl) * (array[fl + 1] - array[fl]));\n};\n\nexports.PERCENTRANK = {};\n\nexports.PERCENTRANK.EXC = function(array, x, significance) {\n  significance = (significance === undefined) ? 3 : significance;\n  array = utils.parseNumberArray(utils.flatten(array));\n  x = utils.parseNumber(x);\n  significance = utils.parseNumber(significance);\n  if (utils.anyIsError(array, x, significance)) {\n    return error.value;\n  }\n  array = array.sort(function(a, b) {\n    return a - b;\n  });\n  var uniques = misc.UNIQUE.apply(null, array);\n  var n = array.length;\n  var m = uniques.length;\n  var power = Math.pow(10, significance);\n  var result = 0;\n  var match = false;\n  var i = 0;\n  while (!match && i < m) {\n    if (x === uniques[i]) {\n      result = (array.indexOf(uniques[i]) + 1) / (n + 1);\n      match = true;\n    } else if (x >= uniques[i] && (x < uniques[i + 1] || i === m - 1)) {\n      result = (array.indexOf(uniques[i]) + 1 + (x - uniques[i]) / (uniques[i + 1] - uniques[i])) / (n + 1);\n      match = true;\n    }\n    i++;\n  }\n  return Math.floor(result * power) / power;\n};\n\nexports.PERCENTRANK.INC = function(array, x, significance) {\n  significance = (significance === undefined) ? 3 : significance;\n  array = utils.parseNumberArray(utils.flatten(array));\n  x = utils.parseNumber(x);\n  significance = utils.parseNumber(significance);\n  if (utils.anyIsError(array, x, significance)) {\n    return error.value;\n  }\n  array = array.sort(function(a, b) {\n    return a - b;\n  });\n  var uniques = misc.UNIQUE.apply(null, array);\n  var n = array.length;\n  var m = uniques.length;\n  var power = Math.pow(10, significance);\n  var result = 0;\n  var match = false;\n  var i = 0;\n  while (!match && i < m) {\n    if (x === uniques[i]) {\n      result = array.indexOf(uniques[i]) / (n - 1);\n      match = true;\n    } else if (x >= uniques[i] && (x < uniques[i + 1] || i === m - 1)) {\n      result = (array.indexOf(uniques[i]) + (x - uniques[i]) / (uniques[i + 1] - uniques[i])) / (n - 1);\n      match = true;\n    }\n    i++;\n  }\n  return Math.floor(result * power) / power;\n};\n\nexports.PERMUT = function(number, number_chosen) {\n  number = utils.parseNumber(number);\n  number_chosen = utils.parseNumber(number_chosen);\n  if (utils.anyIsError(number, number_chosen)) {\n    return error.value;\n  }\n  return mathTrig.FACT(number) / mathTrig.FACT(number - number_chosen);\n};\n\nexports.PERMUTATIONA = function(number, number_chosen) {\n  number = utils.parseNumber(number);\n  number_chosen = utils.parseNumber(number_chosen);\n  if (utils.anyIsError(number, number_chosen)) {\n    return error.value;\n  }\n  return Math.pow(number, number_chosen);\n};\n\nexports.PHI = function(x) {\n  x = utils.parseNumber(x);\n  if (x instanceof Error) {\n    return error.value;\n  }\n  return Math.exp(-0.5 * x * x) / SQRT2PI;\n};\n\nexports.POISSON = {};\n\nexports.POISSON.DIST = function(x, mean, cumulative) {\n  x = utils.parseNumber(x);\n  mean = utils.parseNumber(mean);\n  if (utils.anyIsError(x, mean)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.poisson.cdf(x, mean) : jStat.poisson.pdf(x, mean);\n};\n\nexports.PROB = function(range, probability, lower, upper) {\n  if (lower === undefined) {\n    return 0;\n  }\n  upper = (upper === undefined) ? lower : upper;\n\n  range = utils.parseNumberArray(utils.flatten(range));\n  probability = utils.parseNumberArray(utils.flatten(probability));\n  lower = utils.parseNumber(lower);\n  upper = utils.parseNumber(upper);\n  if (utils.anyIsError(range, probability, lower, upper)) {\n    return error.value;\n  }\n\n  if (lower === upper) {\n    return (range.indexOf(lower) >= 0) ? probability[range.indexOf(lower)] : 0;\n  }\n\n  var sorted = range.sort(function(a, b) {\n    return a - b;\n  });\n  var n = sorted.length;\n  var result = 0;\n  for (var i = 0; i < n; i++) {\n    if (sorted[i] >= lower && sorted[i] <= upper) {\n      result += probability[range.indexOf(sorted[i])];\n    }\n  }\n  return result;\n};\n\nexports.QUARTILE = {};\n\nexports.QUARTILE.EXC = function(range, quart) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  quart = utils.parseNumber(quart);\n  if (utils.anyIsError(range, quart)) {\n    return error.value;\n  }\n  switch (quart) {\n    case 1:\n      return exports.PERCENTILE.EXC(range, 0.25);\n    case 2:\n      return exports.PERCENTILE.EXC(range, 0.5);\n    case 3:\n      return exports.PERCENTILE.EXC(range, 0.75);\n    default:\n      return error.num;\n  }\n};\n\nexports.QUARTILE.INC = function(range, quart) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  quart = utils.parseNumber(quart);\n  if (utils.anyIsError(range, quart)) {\n    return error.value;\n  }\n  switch (quart) {\n    case 1:\n      return exports.PERCENTILE.INC(range, 0.25);\n    case 2:\n      return exports.PERCENTILE.INC(range, 0.5);\n    case 3:\n      return exports.PERCENTILE.INC(range, 0.75);\n    default:\n      return error.num;\n  }\n};\n\nexports.RANK = {};\n\nexports.RANK.AVG = function(number, range, order) {\n  number = utils.parseNumber(number);\n  range = utils.parseNumberArray(utils.flatten(range));\n  if (utils.anyIsError(number, range)) {\n    return error.value;\n  }\n  range = utils.flatten(range);\n  order = order || false;\n  var sort = (order) ? function(a, b) {\n    return a - b;\n  } : function(a, b) {\n    return b - a;\n  };\n  range = range.sort(sort);\n\n  var length = range.length;\n  var count = 0;\n  for (var i = 0; i < length; i++) {\n    if (range[i] === number) {\n      count++;\n    }\n  }\n\n  return (count > 1) ? (2 * range.indexOf(number) + count + 1) / 2 : range.indexOf(number) + 1;\n};\n\nexports.RANK.EQ = function(number, range, order) {\n  number = utils.parseNumber(number);\n  range = utils.parseNumberArray(utils.flatten(range));\n  if (utils.anyIsError(number, range)) {\n    return error.value;\n  }\n  order = order || false;\n  var sort = (order) ? function(a, b) {\n    return a - b;\n  } : function(a, b) {\n    return b - a;\n  };\n  range = range.sort(sort);\n  return range.indexOf(number) + 1;\n};\n\nexports.ROW = function(matrix, index) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  if (index < 0) {\n    return error.num;\n  }\n\n  if (!(matrix instanceof Array) || (typeof index !== 'number')) {\n    return error.value;\n  }\n\n  if (matrix.length === 0) {\n    return undefined;\n  }\n\n  return jStat.row(matrix, index);\n};\n\nexports.ROWS = function(matrix) {\n  if (arguments.length !== 1) {\n    return error.na;\n  }\n\n  if (!(matrix instanceof Array)) {\n    return error.value;\n  }\n\n  if (matrix.length === 0) {\n    return 0;\n  }\n\n  return jStat.rows(matrix);\n};\n\nexports.RSQ = function(data_x, data_y) { // no need to flatten here, PEARSON will take care of that\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  if (utils.anyIsError(data_x, data_y)) {\n    return error.value;\n  }\n  return Math.pow(exports.PEARSON(data_x, data_y), 2);\n};\n\nexports.SKEW = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var mean = jStat.mean(range);\n  var n = range.length;\n  var sigma = 0;\n  for (var i = 0; i < n; i++) {\n    sigma += Math.pow(range[i] - mean, 3);\n  }\n  return n * sigma / ((n - 1) * (n - 2) * Math.pow(jStat.stdev(range, true), 3));\n};\n\nexports.SKEW.P = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var mean = jStat.mean(range);\n  var n = range.length;\n  var m2 = 0;\n  var m3 = 0;\n  for (var i = 0; i < n; i++) {\n    m3 += Math.pow(range[i] - mean, 3);\n    m2 += Math.pow(range[i] - mean, 2);\n  }\n  m3 = m3 / n;\n  m2 = m2 / n;\n  return m3 / Math.pow(m2, 3 / 2);\n};\n\nexports.SLOPE = function(data_y, data_x) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(data_y, data_x)) {\n    return error.value;\n  }\n  var xmean = jStat.mean(data_x);\n  var ymean = jStat.mean(data_y);\n  var n = data_x.length;\n  var num = 0;\n  var den = 0;\n  for (var i = 0; i < n; i++) {\n    num += (data_x[i] - xmean) * (data_y[i] - ymean);\n    den += Math.pow(data_x[i] - xmean, 2);\n  }\n  return num / den;\n};\n\nexports.SMALL = function(range, k) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(range, k)) {\n    return range;\n  }\n  return range.sort(function(a, b) {\n    return a - b;\n  })[k - 1];\n};\n\nexports.STANDARDIZE = function(x, mean, sd) {\n  x = utils.parseNumber(x);\n  mean = utils.parseNumber(mean);\n  sd = utils.parseNumber(sd);\n  if (utils.anyIsError(x, mean, sd)) {\n    return error.value;\n  }\n  return (x - mean) / sd;\n};\n\nexports.STDEV = {};\n\nexports.STDEV.P = function() {\n  var v = exports.VAR.P.apply(this, arguments);\n  var result = Math.sqrt(v);\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.STDEV.S = function() {\n  var v = exports.VAR.S.apply(this, arguments);\n  var result = Math.sqrt(v);\n\n  return result;\n};\n\nexports.STDEVA = function() {\n  var v = exports.VARA.apply(this, arguments);\n  var result = Math.sqrt(v);\n\n  return result;\n};\n\nexports.STDEVPA = function() {\n  var v = exports.VARPA.apply(this, arguments);\n  var result = Math.sqrt(v);\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\n\nexports.STEYX = function(data_y, data_x) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(data_y, data_x)) {\n    return error.value;\n  }\n  var xmean = jStat.mean(data_x);\n  var ymean = jStat.mean(data_y);\n  var n = data_x.length;\n  var lft = 0;\n  var num = 0;\n  var den = 0;\n  for (var i = 0; i < n; i++) {\n    lft += Math.pow(data_y[i] - ymean, 2);\n    num += (data_x[i] - xmean) * (data_y[i] - ymean);\n    den += Math.pow(data_x[i] - xmean, 2);\n  }\n  return Math.sqrt((lft - num * num / den) / (n - 2));\n};\n\nexports.TRANSPOSE = function(matrix) {\n  if (!matrix) {\n    return error.na;\n  }\n  return jStat.transpose(matrix);\n};\n\nexports.T = text.T;\n\nexports.T.DIST = function(x, df, cumulative) {\n  x = utils.parseNumber(x);\n  df = utils.parseNumber(df);\n  if (utils.anyIsError(x, df)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.studentt.cdf(x, df) : jStat.studentt.pdf(x, df);\n};\n\nexports.T.DIST['2T'] = function(x, df) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  if (x < 0 || df < 1) {\n    return error.num;\n  }\n\n  if ((typeof x !== 'number') || (typeof df !== 'number')) {\n    return error.value;\n  }\n\n  return (1 - jStat.studentt.cdf(x , df)) * 2;\n};\n\nexports.T.DIST.RT = function(x, df) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  if (x < 0 || df < 1) {\n    return error.num;\n  }\n\n  if ((typeof x !== 'number') || (typeof df !== 'number')) {\n    return error.value;\n  }\n\n  return 1 - jStat.studentt.cdf(x , df);\n};\n\nexports.T.INV = function(probability, df) {\n  probability = utils.parseNumber(probability);\n  df = utils.parseNumber(df);\n  if (utils.anyIsError(probability, df)) {\n    return error.value;\n  }\n  return jStat.studentt.inv(probability, df);\n};\n\nexports.T.INV['2T'] = function(probability, df) {\n  probability = utils.parseNumber(probability);\n  df = utils.parseNumber(df);\n  if (probability <= 0 || probability > 1 || df < 1) {\n    return error.num;\n  }\n  if (utils.anyIsError(probability, df)) {\n    return error.value;\n  }\n  return Math.abs(jStat.studentt.inv(probability/2, df));\n};\n\n// The algorithm can be found here:\n// http://www.chem.uoa.gr/applets/AppletTtest/Appl_Ttest2.html\nexports.T.TEST = function(data_x, data_y) {\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  if (utils.anyIsError(data_x, data_y)) {\n    return error.value;\n  }\n\n  var mean_x = jStat.mean(data_x);\n  var mean_y = jStat.mean(data_y);\n  var s_x = 0;\n  var s_y = 0;\n  var i;\n\n  for (i = 0; i < data_x.length; i++) {\n    s_x += Math.pow(data_x[i] - mean_x, 2);\n  }\n  for (i = 0; i < data_y.length; i++) {\n    s_y += Math.pow(data_y[i] - mean_y, 2);\n  }\n\n  s_x = s_x / (data_x.length-1);\n  s_y = s_y / (data_y.length-1);\n\n  var t = Math.abs(mean_x - mean_y) / Math.sqrt(s_x/data_x.length + s_y/data_y.length);\n\n  return exports.T.DIST['2T'](t, data_x.length+data_y.length-2);\n};\n\nexports.TREND = function(data_y, data_x, new_data_x) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  new_data_x = utils.parseNumberArray(utils.flatten(new_data_x));\n  if (utils.anyIsError(data_y, data_x, new_data_x)) {\n    return error.value;\n  }\n  var linest = exports.LINEST(data_y, data_x);\n  var m = linest[0];\n  var b = linest[1];\n  var result = [];\n\n  new_data_x.forEach(function(x) {\n    result.push(m * x + b);\n  });\n\n  return result;\n};\n\nexports.TRIMMEAN = function(range, percent) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  percent = utils.parseNumber(percent);\n  if (utils.anyIsError(range, percent)) {\n    return error.value;\n  }\n  var trim = mathTrig.FLOOR(range.length * percent, 2) / 2;\n  return jStat.mean(utils.initial(utils.rest(range.sort(function(a, b) {\n    return a - b;\n  }), trim), trim));\n};\n\nexports.VAR = {};\n\nexports.VAR.P = function() {\n  var range = utils.numbers(utils.flatten(arguments));\n  var n = range.length;\n  var sigma = 0;\n  var mean = exports.AVERAGE(range);\n  var result;\n  for (var i = 0; i < n; i++) {\n    sigma += Math.pow(range[i] - mean, 2);\n  }\n  result = sigma / n;\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.VAR.S = function() {\n  var range = utils.numbers(utils.flatten(arguments));\n  var n = range.length;\n  var sigma = 0;\n  var mean = exports.AVERAGE(range);\n  for (var i = 0; i < n; i++) {\n    sigma += Math.pow(range[i] - mean, 2);\n  }\n  return sigma / (n - 1);\n};\n\nexports.VARA = function() {\n  var range = utils.flatten(arguments);\n  var n = range.length;\n  var sigma = 0;\n  var count = 0;\n  var mean = exports.AVERAGEA(range);\n  for (var i = 0; i < n; i++) {\n    var el = range[i];\n    if (typeof el === 'number') {\n      sigma += Math.pow(el - mean, 2);\n    } else if (el === true) {\n      sigma += Math.pow(1 - mean, 2);\n    } else {\n      sigma += Math.pow(0 - mean, 2);\n    }\n\n    if (el !== null) {\n      count++;\n    }\n  }\n  return sigma / (count - 1);\n};\n\nexports.VARPA = function() {\n  var range = utils.flatten(arguments);\n  var n = range.length;\n  var sigma = 0;\n  var count = 0;\n  var mean = exports.AVERAGEA(range);\n  var result;\n  for (var i = 0; i < n; i++) {\n    var el = range[i];\n    if (typeof el === 'number') {\n      sigma += Math.pow(el - mean, 2);\n    } else if (el === true) {\n      sigma += Math.pow(1 - mean, 2);\n    } else {\n      sigma += Math.pow(0 - mean, 2);\n    }\n\n    if (el !== null) {\n      count++;\n    }\n  }\n  result = sigma / count;\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.WEIBULL = {};\n\nexports.WEIBULL.DIST = function(x, alpha, beta, cumulative) {\n  x = utils.parseNumber(x);\n  alpha = utils.parseNumber(alpha);\n  beta = utils.parseNumber(beta);\n  if (utils.anyIsError(x, alpha, beta)) {\n    return error.value;\n  }\n  return (cumulative) ? 1 - Math.exp(-Math.pow(x / beta, alpha)) : Math.pow(x, alpha - 1) * Math.exp(-Math.pow(x / beta, alpha)) * alpha / Math.pow(beta, alpha);\n};\n\nexports.Z = {};\n\nexports.Z.TEST = function(range, x, sd) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  x = utils.parseNumber(x);\n  if (utils.anyIsError(range, x)) {\n    return error.value;\n  }\n\n  sd = sd || exports.STDEV.S(range);\n  var n = range.length;\n  return 1 - exports.NORM.S.DIST((exports.AVERAGE(range) - x) / (sd / Math.sqrt(n)), true);\n};\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar utils = __webpack_require__(1);\nvar error = __webpack_require__(0);\n\n//TODO\nexports.ASC = function() {\n  throw new Error('ASC is not implemented');\n};\n\n//TODO\nexports.BAHTTEXT = function() {\n  throw new Error('BAHTTEXT is not implemented');\n};\n\nexports.CHAR = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return String.fromCharCode(number);\n};\n\nexports.CLEAN = function(text) {\n  text = text || '';\n  var re = /[\\0-\\x1F]/g;\n  return text.replace(re, \"\");\n};\n\nexports.CODE = function(text) {\n  text = text || '';\n  var result = text.charCodeAt(0);\n\n  if (isNaN(result)) {\n    result = error.na;\n  }\n  return result;\n};\n\nexports.CONCATENATE = function() {\n  var args = utils.flatten(arguments);\n\n  var trueFound = 0;\n  while ((trueFound = args.indexOf(true)) > -1) {\n    args[trueFound] = 'TRUE';\n  }\n\n  var falseFound = 0;\n  while ((falseFound = args.indexOf(false)) > -1) {\n    args[falseFound] = 'FALSE';\n  }\n\n  return args.join('');\n};\n\n//TODO\nexports.DBCS = function() {\n  throw new Error('DBCS is not implemented');\n};\n\n//TODO\nexports.DOLLAR = function() {\n  throw new Error('DOLLAR is not implemented');\n};\n\nexports.EXACT = function(text1, text2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n  return text1 === text2;\n};\n\nexports.FIND = function(find_text, within_text, position) {\n  if (arguments.length < 2) {\n    return error.na;\n  }\n  position = (position === undefined) ? 0 : position;\n  return within_text ? within_text.indexOf(find_text, position - 1) + 1 : null;\n};\n\n//TODO\nexports.FIXED = function() {\n  throw new Error('FIXED is not implemented');\n};\n\nexports.HTML2TEXT = function (value) {\n  var result = '';\n\n  if (value) {\n    if (value instanceof Array) {\n      value.forEach(function (line) {\n        if (result !== '') {\n          result += '\\n';\n        }\n        result += (line.replace(/<(?:.|\\n)*?>/gm, ''));\n      });\n    } else {\n      result = value.replace(/<(?:.|\\n)*?>/gm, '');\n    }\n  }\n\n  return result;\n};\n\nexports.LEFT = function(text, number) {\n  number = (number === undefined) ? 1 : number;\n  number = utils.parseNumber(number);\n  if (number instanceof Error || typeof text !== 'string') {\n    return error.value;\n  }\n  return text ? text.substring(0, number) : null;\n};\n\nexports.LEN = function(text) {\n  if (arguments.length === 0) {\n    return error.error;\n  }\n\n  if (typeof text === 'string') {\n    return text ? text.length : 0;\n  }\n\n  if (text.length) {\n    return text.length;\n  }\n\n  return error.value;\n};\n\nexports.LOWER = function(text) {\n  if (typeof text !== 'string') {\n    return error.value;\n  }\n  return text ? text.toLowerCase() : text;\n};\n\nexports.MID = function(text, start, number) {\n  start = utils.parseNumber(start);\n  number = utils.parseNumber(number);\n  if (utils.anyIsError(start, number) || typeof text !== 'string') {\n    return number;\n  }\n\n  var begin = start - 1;\n  var end = begin + number;\n\n  return text.substring(begin, end);\n};\n\n// TODO\nexports.NUMBERVALUE = function (text, decimal_separator, group_separator)  {\n  decimal_separator = (typeof decimal_separator === 'undefined') ? '.' : decimal_separator;\n  group_separator = (typeof group_separator === 'undefined') ? ',' : group_separator;\n  return Number(text.replace(decimal_separator, '.').replace(group_separator, ''));\n};\n\n// TODO\nexports.PRONETIC = function() {\n  throw new Error('PRONETIC is not implemented');\n};\n\nexports.PROPER = function(text) {\n  if (text === undefined || text.length === 0) {\n    return error.value;\n  }\n  if (text === true) {\n    text = 'TRUE';\n  }\n  if (text === false) {\n    text = 'FALSE';\n  }\n  if (isNaN(text) && typeof text === 'number') {\n    return error.value;\n  }\n  if (typeof text === 'number') {\n    text = '' + text;\n  }\n\n  return text.replace(/\\w\\S*/g, function(txt) {\n    return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n  });\n};\n\nexports.REGEXEXTRACT = function (text, regular_expression) {\n  if (arguments.length < 2) {\n    return error.na;\n  }\n  var match = text.match(new RegExp(regular_expression));\n  return match ? (match[match.length > 1 ? match.length - 1 : 0]) : null;\n};\n\nexports.REGEXMATCH = function (text, regular_expression, full) {\n  if (arguments.length < 2) {\n    return error.na;\n  }\n  var match = text.match(new RegExp(regular_expression));\n  return full ? match : !!match;\n};\n\nexports.REGEXREPLACE = function (text, regular_expression, replacement) {\n  if (arguments.length < 3) {\n    return error.na;\n  }\n  return text.replace(new RegExp(regular_expression), replacement);\n};\n\nexports.REPLACE = function(text, position, length, new_text) {\n  position = utils.parseNumber(position);\n  length = utils.parseNumber(length);\n  if (utils.anyIsError(position, length) ||\n    typeof text !== 'string' ||\n    typeof new_text !== 'string') {\n    return error.value;\n  }\n  return text.substr(0, position - 1) + new_text + text.substr(position - 1 + length);\n};\n\nexports.REPT = function(text, number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return new Array(number + 1).join(text);\n};\n\nexports.RIGHT = function(text, number) {\n  number = (number === undefined) ? 1 : number;\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return text ? text.substring(text.length - number) : error.na;\n};\n\nexports.SEARCH = function(find_text, within_text, position) {\n  var foundAt;\n  if (typeof find_text !== 'string' || typeof within_text !== 'string') {\n    return error.value;\n  }\n  position = (position === undefined) ? 0 : position;\n  foundAt = within_text.toLowerCase().indexOf(find_text.toLowerCase(), position - 1)+1;\n  return (foundAt === 0)?error.value:foundAt;\n};\n\nexports.SPLIT = function (text, separator) {\n  return text.split(separator);\n};\n\nexports.SUBSTITUTE = function(text, old_text, new_text, occurrence) {\n  if (arguments.length < 2) {\n    return error.na;\n  }\n  if (!text || !old_text || !new_text) {\n    return text;\n  } else if (occurrence === undefined) {\n    return text.replace(new RegExp(old_text, 'g'), new_text);\n  } else {\n    var index = 0;\n    var i = 0;\n    while (text.indexOf(old_text, index) > 0) {\n      index = text.indexOf(old_text, index + 1);\n      i++;\n      if (i === occurrence) {\n        return text.substring(0, index) + new_text + text.substring(index + old_text.length);\n      }\n    }\n  }\n};\n\nexports.T = function(value) {\n  return (typeof value === \"string\") ? value : '';\n};\n\n// TODO incomplete implementation\nexports.TEXT = function() {\n  throw new Error('TEXT is not implemented');\n};\n\nexports.TRIM = function(text) {\n  if (typeof text !== 'string') {\n    return error.value;\n  }\n  return text.replace(/ +/g, ' ').trim();\n};\n\nexports.UNICHAR = exports.CHAR;\n\nexports.UNICODE = exports.CODE;\n\nexports.UPPER = function(text) {\n  if (typeof text !== 'string') {\n    return error.value;\n  }\n  return text.toUpperCase();\n};\n\n//TODO\nexports.VALUE = function() {\n  throw new Error('VALUE is not implemented');\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nvar defaultOperator = '=';\nvar validSymbols = ['>', '>=', '<', '<=', '=', '<>'];\nvar TOKEN_TYPE_OPERATOR = 'operator';\nvar TOKEN_TYPE_LITERAL = 'literal';\nvar SUPPORTED_TOKENS = [TOKEN_TYPE_OPERATOR, TOKEN_TYPE_LITERAL];\n\nexports.TOKEN_TYPE_OPERATOR = TOKEN_TYPE_OPERATOR;\nexports.TOKEN_TYPE_LITERAL = TOKEN_TYPE_LITERAL;\n\n/**\n * Create token which describe passed symbol/value.\n *\n * @param {String} value Value/Symbol to describe.\n * @param {String} type Type of the token 'operator' or 'literal'.\n * @return {Object}\n */\nfunction createToken(value, type) {\n  if (SUPPORTED_TOKENS.indexOf(type) === -1) {\n    throw new Error('Unsupported token type: ' + type);\n  }\n\n  return {\n    value: value,\n    type: type,\n  };\n}\n\n/**\n * Tries to cast numeric values to their type passed as a string.\n *\n * @param {*} value\n * @return {*}\n */\nfunction castValueToCorrectType(value) {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  if (/^\\d+(\\.\\d+)?$/.test(value)) {\n    value = value.indexOf('.') === -1 ? parseInt(value, 10) : parseFloat(value);\n  }\n\n  return value;\n}\n\n/**\n * Generate stream of tokens from passed expression.\n *\n * @param {String} expression\n * @return {String[]}\n */\nfunction tokenizeExpression(expression) {\n  var expressionLength = expression.length;\n  var tokens = [];\n  var cursorIndex = 0;\n  var processedValue = '';\n  var processedSymbol = '';\n\n  while (cursorIndex < expressionLength) {\n    var char = expression.charAt(cursorIndex);\n\n    switch (char) {\n      case '>':\n      case '<':\n      case '=':\n        processedSymbol = processedSymbol + char;\n\n        if (processedValue.length > 0) {\n          tokens.push(processedValue);\n          processedValue = '';\n        }\n      break;\n      default:\n        if (processedSymbol.length > 0) {\n          tokens.push(processedSymbol);\n          processedSymbol = '';\n        }\n\n        processedValue = processedValue + char;\n      break;\n    }\n    cursorIndex++;\n  }\n\n  if (processedValue.length > 0) {\n    tokens.push(processedValue);\n  }\n  if (processedSymbol.length > 0) {\n    tokens.push(processedSymbol);\n  }\n\n  return tokens;\n};\n\n/**\n * Analyze and convert tokens to an object which describes their meaning.\n *\n * @param {String[]} tokens\n * @return {Object[]}\n */\nfunction analyzeTokens(tokens) {\n  var literalValue = '';\n  var analyzedTokens = [];\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (i === 0 && validSymbols.indexOf(token) >= 0) {\n      analyzedTokens.push(createToken(token, TOKEN_TYPE_OPERATOR));\n    } else {\n      literalValue += token;\n    }\n  }\n\n  if (literalValue.length > 0) {\n    analyzedTokens.push(createToken(castValueToCorrectType(literalValue), TOKEN_TYPE_LITERAL));\n  }\n\n  if (analyzedTokens.length > 0 && analyzedTokens[0].type !== TOKEN_TYPE_OPERATOR) {\n    analyzedTokens.unshift(createToken(defaultOperator, TOKEN_TYPE_OPERATOR));\n  }\n\n  return analyzedTokens;\n};\n\n/**\n * Compute/Evaluate an expression passed as an array of tokens.\n *\n * @param {Object[]} tokens\n * @return {Boolean}\n */\nfunction computeExpression(tokens) {\n  var values = [];\n  var operator;\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    switch (token.type) {\n      case TOKEN_TYPE_OPERATOR:\n        operator = token.value;\n      break;\n      case TOKEN_TYPE_LITERAL:\n        values.push(token.value);\n      break;\n    }\n  }\n\n  return evaluate(values, operator);\n};\n\n/**\n * Evaluate values based on passed math operator.\n *\n * @param {*} values\n * @param {String} operator\n * @return {Boolean}\n */\nfunction evaluate(values, operator) {\n  var result = false;\n\n  switch (operator) {\n    case '>':\n      result = values[0] > values[1];\n      break;\n    case '>=':\n      result = values[0] >= values[1];\n      break;\n    case '<':\n      result = values[0] < values[1];\n      break;\n    case '<=':\n      result = values[0] <= values[1];\n      break;\n    case '=':\n      result = values[0] == values[1];\n      break;\n    case '<>':\n      result = values[0] != values[1];\n      break;\n  }\n\n  return result;\n}\n\nexports.parse = function(expression) {\n  return analyzeTokens(tokenizeExpression(expression));\n};\nexports.createToken = createToken;\nexports.compute = computeExpression;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar error = __webpack_require__(0);\n\n// TODO\nexports.CELL = function() {\n  throw new Error('CELL is not implemented');\n};\n\nexports.ERROR = {};\nexports.ERROR.TYPE = function(error_val) {\n  switch (error_val) {\n    case error.nil: return 1;\n    case error.div0: return 2;\n    case error.value: return 3;\n    case error.ref: return 4;\n    case error.name: return 5;\n    case error.num: return 6;\n    case error.na: return 7;\n    case error.data: return 8;\n  }\n  return error.na;\n};\n\n// TODO\nexports.INFO = function() {\n  throw new Error('INFO is not implemented');\n};\n\nexports.ISBLANK = function(value) {\n  return value === null;\n};\n\nexports.ISBINARY = function (number) {\n  return (/^[01]{1,10}$/).test(number);\n};\n\nexports.ISERR = function(value) {\n  return ([error.value, error.ref, error.div0, error.num, error.name, error.nil]).indexOf(value) >= 0 ||\n    (typeof value === 'number' && (isNaN(value) || !isFinite(value)));\n};\n\nexports.ISERROR = function(value) {\n  return exports.ISERR(value) || value === error.na;\n};\n\nexports.ISEVEN = function(number) {\n  return (Math.floor(Math.abs(number)) & 1) ? false : true;\n};\n\n// TODO\nexports.ISFORMULA = function() {\n  throw new Error('ISFORMULA is not implemented');\n};\n\nexports.ISLOGICAL = function(value) {\n  return value === true || value === false;\n};\n\nexports.ISNA = function(value) {\n  return value === error.na;\n};\n\nexports.ISNONTEXT = function(value) {\n  return typeof(value) !== 'string';\n};\n\nexports.ISNUMBER = function(value) {\n  return typeof(value) === 'number' && !isNaN(value) && isFinite(value);\n};\n\nexports.ISODD = function(number) {\n  return (Math.floor(Math.abs(number)) & 1) ? true : false;\n};\n\n// TODO\nexports.ISREF = function() {\n  throw new Error('ISREF is not implemented');\n};\n\nexports.ISTEXT = function(value) {\n  return typeof(value) === 'string';\n};\n\nexports.N = function(value) {\n  if (this.ISNUMBER(value)) {\n    return value;\n  }\n  if (value instanceof Date) {\n    return value.getTime();\n  }\n  if (value === true) {\n    return 1;\n  }\n  if (value === false) {\n    return 0;\n  }\n  if (this.ISERROR(value)) {\n    return value;\n  }\n  return 0;\n};\n\nexports.NA = function() {\n  return error.na;\n};\n\n\n// TODO\nexports.SHEET = function() {\n  throw new Error('SHEET is not implemented');\n};\n\n// TODO\nexports.SHEETS = function() {\n  throw new Error('SHEETS is not implemented');\n};\n\nexports.TYPE = function(value) {\n  if (this.ISNUMBER(value)) {\n    return 1;\n  }\n  if (this.ISTEXT(value)) {\n    return 2;\n  }\n  if (this.ISLOGICAL(value)) {\n    return 4;\n  }\n  if (this.ISERROR(value)) {\n    return 16;\n  }\n  if (Array.isArray(value)) {\n    return 64;\n  }\n};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar error = __webpack_require__(0);\nvar utils = __webpack_require__(1);\n\nvar d1900 = new Date(Date.UTC(1900, 0, 1));\nvar WEEK_STARTS = [\n  undefined,\n  0,\n  1,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  1,\n  2,\n  3,\n  4,\n  5,\n  6,\n  0\n];\nvar WEEK_TYPES = [\n  [],\n  [1, 2, 3, 4, 5, 6, 7],\n  [7, 1, 2, 3, 4, 5, 6],\n  [6, 0, 1, 2, 3, 4, 5],\n  [],\n  [],\n  [],\n  [],\n  [],\n  [],\n  [],\n  [7, 1, 2, 3, 4, 5, 6],\n  [6, 7, 1, 2, 3, 4, 5],\n  [5, 6, 7, 1, 2, 3, 4],\n  [4, 5, 6, 7, 1, 2, 3],\n  [3, 4, 5, 6, 7, 1, 2],\n  [2, 3, 4, 5, 6, 7, 1],\n  [1, 2, 3, 4, 5, 6, 7]\n];\nvar WEEKEND_TYPES = [\n  [],\n  [6, 0],\n  [0, 1],\n  [1, 2],\n  [2, 3],\n  [3, 4],\n  [4, 5],\n  [5, 6],\n  undefined,\n  undefined,\n  undefined, [0, 0],\n  [1, 1],\n  [2, 2],\n  [3, 3],\n  [4, 4],\n  [5, 5],\n  [6, 6]\n];\n\nexports.DATE = function(year, month, day) {\n  var result;\n\n  year = utils.parseNumber(year);\n  month = utils.parseNumber(month);\n  day = utils.parseNumber(day);\n\n  if (utils.anyIsError(year, month, day)) {\n    result = error.value;\n\n  } else if (year < 0 || month < 0 || day < 0) {\n    result = error.num;\n\n  } else {\n    result = new Date(year, month - 1, day);\n  }\n\n  return result;\n};\n\nexports.DATEVALUE = function(date_text) {\n  var modifier = 2;\n  var date;\n\n  if (typeof date_text !== 'string') {\n    return error.value;\n  }\n\n  date = Date.parse(date_text);\n\n  if (isNaN(date)) {\n    return error.value;\n  }\n\n  if (date <= -2203891200000) {\n    modifier = 1;\n  }\n\n  return Math.ceil((date - d1900) / 86400000) + modifier;\n};\n\nexports.DAY = function(serial_number) {\n  var date = utils.parseDate(serial_number);\n  if (date instanceof Error) {\n    return date;\n  }\n\n  return date.getDate();\n};\n\nexports.DAYS = function(end_date, start_date) {\n  end_date = utils.parseDate(end_date);\n  start_date = utils.parseDate(start_date);\n\n  if (end_date instanceof Error) {\n    return end_date;\n  }\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n\n  return serial(end_date) - serial(start_date);\n};\n\nexports.DAYS360 = function(start_date, end_date, method) {\n  method = utils.parseBool(method);\n  start_date = utils.parseDate(start_date);\n  end_date = utils.parseDate(end_date);\n\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  if (end_date instanceof Error) {\n    return end_date;\n  }\n  if (method instanceof Error) {\n    return method;\n  }\n  var sm = start_date.getMonth();\n  var em = end_date.getMonth();\n  var sd, ed;\n\n  if (method) {\n    sd = start_date.getDate() === 31 ? 30 : start_date.getDate();\n    ed = end_date.getDate() === 31 ? 30 : end_date.getDate();\n  } else {\n    var smd = new Date(start_date.getFullYear(), sm + 1, 0).getDate();\n    var emd = new Date(end_date.getFullYear(), em + 1, 0).getDate();\n    sd = start_date.getDate() === smd ? 30 : start_date.getDate();\n    if (end_date.getDate() === emd) {\n      if (sd < 30) {\n        em++;\n        ed = 1;\n      } else {\n        ed = 30;\n      }\n    } else {\n      ed = end_date.getDate();\n    }\n  }\n\n  return 360 * (end_date.getFullYear() - start_date.getFullYear()) +\n    30 * (em - sm) + (ed - sd);\n};\n\nexports.EDATE = function(start_date, months) {\n  start_date = utils.parseDate(start_date);\n\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  if (isNaN(months)) {\n    return error.value;\n  }\n  months = parseInt(months, 10);\n  start_date.setMonth(start_date.getMonth() + months);\n\n  return serial(start_date);\n};\n\nexports.EOMONTH = function(start_date, months) {\n  start_date = utils.parseDate(start_date);\n\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  if (isNaN(months)) {\n    return error.value;\n  }\n  months = parseInt(months, 10);\n\n  return serial(new Date(start_date.getFullYear(), start_date.getMonth() + months + 1, 0));\n};\n\nexports.HOUR = function(serial_number) {\n  serial_number = utils.parseDate(serial_number);\n\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n\n  return serial_number.getHours();\n};\n\nexports.INTERVAL = function (second) {\n  if (typeof second !== 'number' && typeof second !== 'string') {\n    return error.value;\n  } else {\n    second = parseInt(second, 10);\n  }\n\n  var year  = Math.floor(second/946080000);\n  second    = second%946080000;\n  var month = Math.floor(second/2592000);\n  second    = second%2592000;\n  var day   = Math.floor(second/86400);\n  second    = second%86400;\n\n  var hour  = Math.floor(second/3600);\n  second    = second%3600;\n  var min   = Math.floor(second/60);\n  second    = second%60;\n  var sec   = second;\n\n  year  = (year  > 0) ? year  + 'Y' : '';\n  month = (month > 0) ? month + 'M' : '';\n  day   = (day   > 0) ? day   + 'D' : '';\n  hour  = (hour  > 0) ? hour  + 'H' : '';\n  min   = (min   > 0) ? min   + 'M' : '';\n  sec   = (sec   > 0) ? sec   + 'S' : '';\n\n  return 'P' + year + month + day + 'T' + hour + min + sec;\n};\n\nexports.ISOWEEKNUM = function(date) {\n  date = utils.parseDate(date);\n\n  if (date instanceof Error) {\n    return date;\n  }\n\n  date.setHours(0, 0, 0);\n  date.setDate(date.getDate() + 4 - (date.getDay() || 7));\n  var yearStart = new Date(date.getFullYear(), 0, 1);\n\n  return Math.ceil((((date - yearStart) / 86400000) + 1) / 7);\n};\n\nexports.MINUTE = function(serial_number) {\n  serial_number = utils.parseDate(serial_number);\n\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n\n  return serial_number.getMinutes();\n};\n\nexports.MONTH = function(serial_number) {\n  serial_number = utils.parseDate(serial_number);\n\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n\n  return serial_number.getMonth() + 1;\n};\n\nexports.NETWORKDAYS = function(start_date, end_date, holidays) {\n  return this.NETWORKDAYS.INTL(start_date, end_date, 1, holidays);\n};\n\nexports.NETWORKDAYS.INTL = function(start_date, end_date, weekend, holidays) {\n  start_date = utils.parseDate(start_date);\n\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  end_date = utils.parseDate(end_date);\n\n  if (end_date instanceof Error) {\n    return end_date;\n  }\n  if (weekend === undefined) {\n    weekend = WEEKEND_TYPES[1];\n  } else {\n    weekend = WEEKEND_TYPES[weekend];\n  }\n  if (!(weekend instanceof Array)) {\n    return error.value;\n  }\n  if (holidays === undefined) {\n    holidays = [];\n  } else if (!(holidays instanceof Array)) {\n    holidays = [holidays];\n  }\n\n  for (var i = 0; i < holidays.length; i++) {\n    var h = utils.parseDate(holidays[i]);\n    if (h instanceof Error) {\n      return h;\n    }\n    holidays[i] = h;\n  }\n  var days = (end_date - start_date) / (1000 * 60 * 60 * 24) + 1;\n  var total = days;\n  var day = start_date;\n  for (i = 0; i < days; i++) {\n    var d = (new Date().getTimezoneOffset() > 0) ? day.getUTCDay() : day.getDay();\n    var dec = false;\n    if (d === weekend[0] || d === weekend[1]) {\n      dec = true;\n    }\n    for (var j = 0; j < holidays.length; j++) {\n      var holiday = holidays[j];\n      if (holiday.getDate() === day.getDate() &&\n        holiday.getMonth() === day.getMonth() &&\n        holiday.getFullYear() === day.getFullYear()) {\n        dec = true;\n        break;\n      }\n    }\n    if (dec) {\n      total--;\n    }\n    day.setDate(day.getDate() + 1);\n  }\n\n  return total;\n};\n\nexports.NOW = function() {\n  return new Date();\n};\n\nexports.SECOND = function(serial_number) {\n  serial_number = utils.parseDate(serial_number);\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n\n  return serial_number.getSeconds();\n};\n\nexports.TIME = function(hour, minute, second) {\n  hour = utils.parseNumber(hour);\n  minute = utils.parseNumber(minute);\n  second = utils.parseNumber(second);\n  if (utils.anyIsError(hour, minute, second)) {\n    return error.value;\n  }\n  if (hour < 0 || minute < 0 || second < 0) {\n    return error.num;\n  }\n\n  return (3600 * hour + 60 * minute + second) / 86400;\n};\n\nexports.TIMEVALUE = function(time_text) {\n  time_text = utils.parseDate(time_text);\n\n  if (time_text instanceof Error) {\n    return time_text;\n  }\n\n  return (3600 * time_text.getHours() + 60 * time_text.getMinutes() + time_text.getSeconds()) / 86400;\n};\n\nexports.TODAY = function() {\n  return new Date();\n};\n\nexports.WEEKDAY = function(serial_number, return_type) {\n  serial_number = utils.parseDate(serial_number);\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n  if (return_type === undefined) {\n    return_type = 1;\n  }\n  var day = serial_number.getDay();\n\n  return WEEK_TYPES[return_type][day];\n};\n\nexports.WEEKNUM = function(serial_number, return_type) {\n  serial_number = utils.parseDate(serial_number);\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n  if (return_type === undefined) {\n    return_type = 1;\n  }\n  if (return_type === 21) {\n    return this.ISOWEEKNUM(serial_number);\n  }\n  var week_start = WEEK_STARTS[return_type];\n  var jan = new Date(serial_number.getFullYear(), 0, 1);\n  var inc = jan.getDay() < week_start ? 1 : 0;\n  jan -= Math.abs(jan.getDay() - week_start) * 24 * 60 * 60 * 1000;\n\n  return Math.floor(((serial_number - jan) / (1000 * 60 * 60 * 24)) / 7 + 1) + inc;\n};\n\nexports.WORKDAY = function(start_date, days, holidays) {\n  return this.WORKDAY.INTL(start_date, days, 1, holidays);\n};\n\nexports.WORKDAY.INTL = function(start_date, days, weekend, holidays) {\n  start_date = utils.parseDate(start_date);\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  days = utils.parseNumber(days);\n  if (days instanceof Error) {\n    return days;\n  }\n  if (days < 0) {\n    return error.num;\n  }\n  if (weekend === undefined) {\n    weekend = WEEKEND_TYPES[1];\n  } else {\n    weekend = WEEKEND_TYPES[weekend];\n  }\n  if (!(weekend instanceof Array)) {\n    return error.value;\n  }\n  if (holidays === undefined) {\n    holidays = [];\n  } else if (!(holidays instanceof Array)) {\n    holidays = [holidays];\n  }\n  for (var i = 0; i < holidays.length; i++) {\n    var h = utils.parseDate(holidays[i]);\n    if (h instanceof Error) {\n      return h;\n    }\n    holidays[i] = h;\n  }\n  var d = 0;\n  while (d < days) {\n    start_date.setDate(start_date.getDate() + 1);\n    var day = start_date.getDay();\n    if (day === weekend[0] || day === weekend[1]) {\n      continue;\n    }\n    for (var j = 0; j < holidays.length; j++) {\n      var holiday = holidays[j];\n      if (holiday.getDate() === start_date.getDate() &&\n        holiday.getMonth() === start_date.getMonth() &&\n        holiday.getFullYear() === start_date.getFullYear()) {\n        d--;\n        break;\n      }\n    }\n    d++;\n  }\n\n  return start_date;\n};\n\nexports.YEAR = function(serial_number) {\n  serial_number = utils.parseDate(serial_number);\n\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n\n  return serial_number.getFullYear();\n};\n\nfunction isLeapYear(year) {\n  return new Date(year, 1, 29).getMonth() === 1;\n}\n\n// TODO : Use DAYS ?\nfunction daysBetween(start_date, end_date) {\n  return Math.ceil((end_date - start_date) / 1000 / 60 / 60 / 24);\n}\n\nexports.YEARFRAC = function(start_date, end_date, basis) {\n  start_date = utils.parseDate(start_date);\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  end_date = utils.parseDate(end_date);\n  if (end_date instanceof Error) {\n    return end_date;\n  }\n\n  basis = basis || 0;\n  var sd = start_date.getDate();\n  var sm = start_date.getMonth() + 1;\n  var sy = start_date.getFullYear();\n  var ed = end_date.getDate();\n  var em = end_date.getMonth() + 1;\n  var ey = end_date.getFullYear();\n\n  switch (basis) {\n    case 0:\n      // US (NASD) 30/360\n      if (sd === 31 && ed === 31) {\n        sd = 30;\n        ed = 30;\n      } else if (sd === 31) {\n        sd = 30;\n      } else if (sd === 30 && ed === 31) {\n        ed = 30;\n      }\n      return ((ed + em * 30 + ey * 360) - (sd + sm * 30 + sy * 360)) / 360;\n    case 1:\n      // Actual/actual\n      var feb29Between = function(date1, date2) {\n        var year1 = date1.getFullYear();\n        var mar1year1 = new Date(year1, 2, 1);\n        if (isLeapYear(year1) && date1 < mar1year1 && date2 >= mar1year1) {\n          return true;\n        }\n        var year2 = date2.getFullYear();\n        var mar1year2 = new Date(year2, 2, 1);\n        return (isLeapYear(year2) && date2 >= mar1year2 && date1 < mar1year2);\n      };\n      var ylength = 365;\n      if (sy === ey || ((sy + 1) === ey) && ((sm > em) || ((sm === em) && (sd >= ed)))) {\n        if ((sy === ey && isLeapYear(sy)) ||\n          feb29Between(start_date, end_date) ||\n          (em === 1 && ed === 29)) {\n          ylength = 366;\n        }\n        return daysBetween(start_date, end_date) / ylength;\n      }\n      var years = (ey - sy) + 1;\n      var days = (new Date(ey + 1, 0, 1) - new Date(sy, 0, 1)) / 1000 / 60 / 60 / 24;\n      var average = days / years;\n      return daysBetween(start_date, end_date) / average;\n    case 2:\n      // Actual/360\n      return daysBetween(start_date, end_date) / 360;\n    case 3:\n      // Actual/365\n      return daysBetween(start_date, end_date) / 365;\n    case 4:\n      // European 30/360\n      return ((ed + em * 30 + ey * 360) - (sd + sm * 30 + sy * 360)) / 360;\n  }\n};\n\nfunction serial(date) {\n  var addOn = (date > -2203891200000) ? 2 : 1;\n\n  return Math.ceil((date - d1900) / 86400000) + addOn;\n}\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (window, factory) {\n    if (true) {\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else {\n        window.jStat = factory();\n    }\n})(this, function () {\nvar jStat = (function(Math, undefined) {\n\n// For quick reference.\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n// Calculate correction for IEEE error\n// TODO: This calculation can be improved.\nfunction calcRdx(n, m) {\n  var val = n > m ? n : m;\n  return Math.pow(10,\n                  17 - ~~(Math.log(((val > 0) ? val : -val)) * Math.LOG10E));\n}\n\n\nvar isArray = Array.isArray || function isArray(arg) {\n  return toString.call(arg) === '[object Array]';\n};\n\n\nfunction isFunction(arg) {\n  return toString.call(arg) === '[object Function]';\n}\n\n\nfunction isNumber(num) {\n  return (typeof num === 'number') ? num - num === 0 : false;\n}\n\n\n// Converts the jStat matrix to vector.\nfunction toVector(arr) {\n  return concat.apply([], arr);\n}\n\n\n// The one and only jStat constructor.\nfunction jStat() {\n  return new jStat._init(arguments);\n}\n\n\n// TODO: Remove after all references in src files have been removed.\njStat.fn = jStat.prototype;\n\n\n// By separating the initializer from the constructor it's easier to handle\n// always returning a new instance whether \"new\" was used or not.\njStat._init = function _init(args) {\n  // If first argument is an array, must be vector or matrix.\n  if (isArray(args[0])) {\n    // Check if matrix.\n    if (isArray(args[0][0])) {\n      // See if a mapping function was also passed.\n      if (isFunction(args[1]))\n        args[0] = jStat.map(args[0], args[1]);\n      // Iterate over each is faster than this.push.apply(this, args[0].\n      for (var i = 0; i < args[0].length; i++)\n        this[i] = args[0][i];\n      this.length = args[0].length;\n\n    // Otherwise must be a vector.\n    } else {\n      this[0] = isFunction(args[1]) ? jStat.map(args[0], args[1]) : args[0];\n      this.length = 1;\n    }\n\n  // If first argument is number, assume creation of sequence.\n  } else if (isNumber(args[0])) {\n    this[0] = jStat.seq.apply(null, args);\n    this.length = 1;\n\n  // Handle case when jStat object is passed to jStat.\n  } else if (args[0] instanceof jStat) {\n    // Duplicate the object and pass it back.\n    return jStat(args[0].toArray());\n\n  // Unexpected argument value, return empty jStat object.\n  // TODO: This is strange behavior. Shouldn't this throw or some such to let\n  // the user know they had bad arguments?\n  } else {\n    this[0] = [];\n    this.length = 1;\n  }\n\n  return this;\n};\njStat._init.prototype = jStat.prototype;\njStat._init.constructor = jStat;\n\n\n// Utility functions.\n// TODO: for internal use only?\njStat.utils = {\n  calcRdx: calcRdx,\n  isArray: isArray,\n  isFunction: isFunction,\n  isNumber: isNumber,\n  toVector: toVector\n};\n\n\njStat._random_fn = Math.random;\njStat.setRandom = function setRandom(fn) {\n  if (typeof fn !== 'function')\n    throw new TypeError('fn is not a function');\n  jStat._random_fn = fn;\n};\n\n\n// Easily extend the jStat object.\n// TODO: is this seriously necessary?\njStat.extend = function extend(obj) {\n  var i, j;\n\n  if (arguments.length === 1) {\n    for (j in obj)\n      jStat[j] = obj[j];\n    return this;\n  }\n\n  for (i = 1; i < arguments.length; i++) {\n    for (j in arguments[i])\n      obj[j] = arguments[i][j];\n  }\n\n  return obj;\n};\n\n\n// Returns the number of rows in the matrix.\njStat.rows = function rows(arr) {\n  return arr.length || 1;\n};\n\n\n// Returns the number of columns in the matrix.\njStat.cols = function cols(arr) {\n  return arr[0].length || 1;\n};\n\n\n// Returns the dimensions of the object { rows: i, cols: j }\njStat.dimensions = function dimensions(arr) {\n  return {\n    rows: jStat.rows(arr),\n    cols: jStat.cols(arr)\n  };\n};\n\n\n// Returns a specified row as a vector or return a sub matrix by pick some rows\njStat.row = function row(arr, index) {\n  if (isArray(index)) {\n    return index.map(function(i) {\n      return jStat.row(arr, i);\n    })\n  }\n  return arr[index];\n};\n\n\n// return row as array\n// rowa([[1,2],[3,4]],0) -> [1,2]\njStat.rowa = function rowa(arr, i) {\n  return jStat.row(arr, i);\n};\n\n\n// Returns the specified column as a vector or return a sub matrix by pick some\n// columns\njStat.col = function col(arr, index) {\n  if (isArray(index)) {\n    var submat = jStat.arange(arr.length).map(function() {\n      return new Array(index.length);\n    });\n    index.forEach(function(ind, i){\n      jStat.arange(arr.length).forEach(function(j) {\n        submat[j][i] = arr[j][ind];\n      });\n    });\n    return submat;\n  }\n  var column = new Array(arr.length);\n  for (var i = 0; i < arr.length; i++)\n    column[i] = [arr[i][index]];\n  return column;\n};\n\n\n// return column as array\n// cola([[1,2],[3,4]],0) -> [1,3]\njStat.cola = function cola(arr, i) {\n  return jStat.col(arr, i).map(function(a){ return a[0] });\n};\n\n\n// Returns the diagonal of the matrix\njStat.diag = function diag(arr) {\n  var nrow = jStat.rows(arr);\n  var res = new Array(nrow);\n  for (var row = 0; row < nrow; row++)\n    res[row] = [arr[row][row]];\n  return res;\n};\n\n\n// Returns the anti-diagonal of the matrix\njStat.antidiag = function antidiag(arr) {\n  var nrow = jStat.rows(arr) - 1;\n  var res = new Array(nrow);\n  for (var i = 0; nrow >= 0; nrow--, i++)\n    res[i] = [arr[i][nrow]];\n  return res;\n};\n\n// Transpose a matrix or array.\njStat.transpose = function transpose(arr) {\n  var obj = [];\n  var objArr, rows, cols, j, i;\n\n  // Make sure arr is in matrix format.\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  rows = arr.length;\n  cols = arr[0].length;\n\n  for (i = 0; i < cols; i++) {\n    objArr = new Array(rows);\n    for (j = 0; j < rows; j++)\n      objArr[j] = arr[j][i];\n    obj.push(objArr);\n  }\n\n  // If obj is vector, return only single array.\n  return obj.length === 1 ? obj[0] : obj;\n};\n\n\n// Map a function to an array or array of arrays.\n// \"toAlter\" is an internal variable.\njStat.map = function map(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    for (col = 0; col < ncol; col++)\n      res[row][col] = func(arr[row][col], row, col);\n  }\n\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Cumulatively combine the elements of an array or array of arrays using a function.\njStat.cumreduce = function cumreduce(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    if (ncol > 0)\n      res[row][0] = arr[row][0];\n    for (col = 1; col < ncol; col++)\n      res[row][col] = func(res[row][col-1], arr[row][col]);\n  }\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Destructively alter an array.\njStat.alter = function alter(arr, func) {\n  return jStat.map(arr, func, true);\n};\n\n\n// Generate a rows x cols matrix according to the supplied function.\njStat.create = function  create(rows, cols, func) {\n  var res = new Array(rows);\n  var i, j;\n\n  if (isFunction(cols)) {\n    func = cols;\n    cols = rows;\n  }\n\n  for (i = 0; i < rows; i++) {\n    res[i] = new Array(cols);\n    for (j = 0; j < cols; j++)\n      res[i][j] = func(i, j);\n  }\n\n  return res;\n};\n\n\nfunction retZero() { return 0; }\n\n\n// Generate a rows x cols matrix of zeros.\njStat.zeros = function zeros(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retZero);\n};\n\n\nfunction retOne() { return 1; }\n\n\n// Generate a rows x cols matrix of ones.\njStat.ones = function ones(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retOne);\n};\n\n\n// Generate a rows x cols matrix of uniformly random numbers.\njStat.rand = function rand(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, jStat._random_fn);\n};\n\n\nfunction retIdent(i, j) { return i === j ? 1 : 0; }\n\n\n// Generate an identity matrix of size row x cols.\njStat.identity = function identity(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retIdent);\n};\n\n\n// Tests whether a matrix is symmetric\njStat.symmetric = function symmetric(arr) {\n  var size = arr.length;\n  var row, col;\n\n  if (arr.length !== arr[0].length)\n    return false;\n\n  for (row = 0; row < size; row++) {\n    for (col = 0; col < size; col++)\n      if (arr[col][row] !== arr[row][col])\n        return false;\n  }\n\n  return true;\n};\n\n\n// Set all values to zero.\njStat.clear = function clear(arr) {\n  return jStat.alter(arr, retZero);\n};\n\n\n// Generate sequence.\njStat.seq = function seq(min, max, length, func) {\n  if (!isFunction(func))\n    func = false;\n\n  var arr = [];\n  var hival = calcRdx(min, max);\n  var step = (max * hival - min * hival) / ((length - 1) * hival);\n  var current = min;\n  var cnt;\n\n  // Current is assigned using a technique to compensate for IEEE error.\n  // TODO: Needs better implementation.\n  for (cnt = 0;\n       current <= max && cnt < length;\n       cnt++, current = (min * hival + step * hival * cnt) / hival) {\n    arr.push((func ? func(current, cnt) : current));\n  }\n\n  return arr;\n};\n\n\n// arange(5) -> [0,1,2,3,4]\n// arange(1,5) -> [1,2,3,4]\n// arange(5,1,-1) -> [5,4,3,2]\njStat.arange = function arange(start, end, step) {\n  var rl = [];\n  var i;\n  step = step || 1;\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  }\n  if (start === end || step === 0) {\n    return [];\n  }\n  if (start < end && step < 0) {\n    return [];\n  }\n  if (start > end && step > 0) {\n    return [];\n  }\n  if (step > 0) {\n    for (i = start; i < end; i += step) {\n      rl.push(i);\n    }\n  } else {\n    for (i = start; i > end; i += step) {\n      rl.push(i);\n    }\n  }\n  return rl;\n};\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// slice(A,{row:{end:2},col:{start:1}}) -> [[2,3],[5,6]]\n// slice(A,1,{start:1}) -> [5,6]\n// as numpy code A[:2,1:]\njStat.slice = (function(){\n  function _slice(list, start, end, step) {\n    // note it's not equal to range.map mode it's a bug\n    var i;\n    var rl = [];\n    var length = list.length;\n    if (start === undefined && end === undefined && step === undefined) {\n      return jStat.copy(list);\n    }\n\n    start = start || 0;\n    end = end || list.length;\n    start = start >= 0 ? start : length + start;\n    end = end >= 0 ? end : length + end;\n    step = step || 1;\n    if (start === end || step === 0) {\n      return [];\n    }\n    if (start < end && step < 0) {\n      return [];\n    }\n    if (start > end && step > 0) {\n      return [];\n    }\n    if (step > 0) {\n      for (i = start; i < end; i += step) {\n        rl.push(list[i]);\n      }\n    } else {\n      for (i = start; i > end;i += step) {\n        rl.push(list[i]);\n      }\n    }\n    return rl;\n  }\n\n  function slice(list, rcSlice) {\n    var colSlice, rowSlice;\n    rcSlice = rcSlice || {};\n    if (isNumber(rcSlice.row)) {\n      if (isNumber(rcSlice.col))\n        return list[rcSlice.row][rcSlice.col];\n      var row = jStat.rowa(list, rcSlice.row);\n      colSlice = rcSlice.col || {};\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    }\n\n    if (isNumber(rcSlice.col)) {\n      var col = jStat.cola(list, rcSlice.col);\n      rowSlice = rcSlice.row || {};\n      return _slice(col, rowSlice.start, rowSlice.end, rowSlice.step);\n    }\n\n    rowSlice = rcSlice.row || {};\n    colSlice = rcSlice.col || {};\n    var rows = _slice(list, rowSlice.start, rowSlice.end, rowSlice.step);\n    return rows.map(function(row) {\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    });\n  }\n\n  return slice;\n}());\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// sliceAssign(A,{row:{start:1},col:{start:1}},[[0,0],[0,0]])\n// A=[[1,2,3],[4,0,0],[7,0,0]]\njStat.sliceAssign = function sliceAssign(A, rcSlice, B) {\n  var nl, ml;\n  if (isNumber(rcSlice.row)) {\n    if (isNumber(rcSlice.col))\n      return A[rcSlice.row][rcSlice.col] = B;\n    rcSlice.col = rcSlice.col || {};\n    rcSlice.col.start = rcSlice.col.start || 0;\n    rcSlice.col.end = rcSlice.col.end || A[0].length;\n    rcSlice.col.step = rcSlice.col.step || 1;\n    nl = jStat.arange(rcSlice.col.start,\n                          Math.min(A.length, rcSlice.col.end),\n                          rcSlice.col.step);\n    var m = rcSlice.row;\n    nl.forEach(function(n, i) {\n      A[m][n] = B[i];\n    });\n    return A;\n  }\n\n  if (isNumber(rcSlice.col)) {\n    rcSlice.row = rcSlice.row || {};\n    rcSlice.row.start = rcSlice.row.start || 0;\n    rcSlice.row.end = rcSlice.row.end || A.length;\n    rcSlice.row.step = rcSlice.row.step || 1;\n    ml = jStat.arange(rcSlice.row.start,\n                          Math.min(A[0].length, rcSlice.row.end),\n                          rcSlice.row.step);\n    var n = rcSlice.col;\n    ml.forEach(function(m, j) {\n      A[m][n] = B[j];\n    });\n    return A;\n  }\n\n  if (B[0].length === undefined) {\n    B = [B];\n  }\n  rcSlice.row.start = rcSlice.row.start || 0;\n  rcSlice.row.end = rcSlice.row.end || A.length;\n  rcSlice.row.step = rcSlice.row.step || 1;\n  rcSlice.col.start = rcSlice.col.start || 0;\n  rcSlice.col.end = rcSlice.col.end || A[0].length;\n  rcSlice.col.step = rcSlice.col.step || 1;\n  ml = jStat.arange(rcSlice.row.start,\n                        Math.min(A.length, rcSlice.row.end),\n                        rcSlice.row.step);\n  nl = jStat.arange(rcSlice.col.start,\n                        Math.min(A[0].length, rcSlice.col.end),\n                        rcSlice.col.step);\n  ml.forEach(function(m, i) {\n    nl.forEach(function(n, j) {\n      A[m][n] = B[i][j];\n    });\n  });\n  return A;\n};\n\n\n// [1,2,3] ->\n// [[1,0,0],[0,2,0],[0,0,3]]\njStat.diagonal = function diagonal(diagArray) {\n  var mat = jStat.zeros(diagArray.length, diagArray.length);\n  diagArray.forEach(function(t, i) {\n    mat[i][i] = t;\n  });\n  return mat;\n};\n\n\n// return copy of A\njStat.copy = function copy(A) {\n  return A.map(function(row) {\n    if (isNumber(row))\n      return row;\n    return row.map(function(t) {\n      return t;\n    });\n  });\n};\n\n\n// TODO: Go over this entire implementation. Seems a tragic waste of resources\n// doing all this work. Instead, and while ugly, use new Function() to generate\n// a custom function for each static method.\n\n// Quick reference.\nvar jProto = jStat.prototype;\n\n// Default length.\njProto.length = 0;\n\n// For internal use only.\n// TODO: Check if they're actually used, and if they are then rename them\n// to _*\njProto.push = Array.prototype.push;\njProto.sort = Array.prototype.sort;\njProto.splice = Array.prototype.splice;\njProto.slice = Array.prototype.slice;\n\n\n// Return a clean array.\njProto.toArray = function toArray() {\n  return this.length > 1 ? slice.call(this) : slice.call(this)[0];\n};\n\n\n// Map a function to a matrix or vector.\njProto.map = function map(func, toAlter) {\n  return jStat(jStat.map(this, func, toAlter));\n};\n\n\n// Cumulatively combine the elements of a matrix or vector using a function.\njProto.cumreduce = function cumreduce(func, toAlter) {\n  return jStat(jStat.cumreduce(this, func, toAlter));\n};\n\n\n// Destructively alter an array.\njProto.alter = function alter(func) {\n  jStat.alter(this, func);\n  return this;\n};\n\n\n// Extend prototype with methods that have no argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(func) {\n      var self = this,\n      results;\n      // Check for callback.\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self));\n        });\n        return this;\n      }\n      results = jStat[passfunc](this);\n      return isArray(results) ? jStat(results) : results;\n    };\n  })(funcs[i]);\n})('transpose clear symmetric rows cols dimensions diag antidiag'.split(' '));\n\n\n// Extend prototype with methods that have one argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(index, func) {\n      var self = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self, index));\n        });\n        return this;\n      }\n      return jStat(jStat[passfunc](this, index));\n    };\n  })(funcs[i]);\n})('row col'.split(' '));\n\n\n// Extend prototype with simple shortcut methods.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('create zeros ones rand identity'.split(' '));\n\n\n// Exposing jStat.\nreturn jStat;\n\n}(Math));\n(function(jStat, Math) {\n\nvar isFunction = jStat.utils.isFunction;\n\n// Ascending functions for sort\nfunction ascNum(a, b) { return a - b; }\n\nfunction clip(arg, min, max) {\n  return Math.max(min, Math.min(arg, max));\n}\n\n\n// sum of an array\njStat.sum = function sum(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n\n// sum squared\njStat.sumsqrd = function sumsqrd(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i] * arr[i];\n  return sum;\n};\n\n\n// sum of squared errors of prediction (SSE)\njStat.sumsqerr = function sumsqerr(arr) {\n  var mean = jStat.mean(arr);\n  var sum = 0;\n  var i = arr.length;\n  var tmp;\n  while (--i >= 0) {\n    tmp = arr[i] - mean;\n    sum += tmp * tmp;\n  }\n  return sum;\n};\n\n// sum of an array in each row\njStat.sumrow = function sumrow(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n// product of an array\njStat.product = function product(arr) {\n  var prod = 1;\n  var i = arr.length;\n  while (--i >= 0)\n    prod *= arr[i];\n  return prod;\n};\n\n\n// minimum value of an array\njStat.min = function min(arr) {\n  var low = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] < low)\n      low = arr[i];\n  return low;\n};\n\n\n// maximum value of an array\njStat.max = function max(arr) {\n  var high = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] > high)\n      high = arr[i];\n  return high;\n};\n\n\n// unique values of an array\njStat.unique = function unique(arr) {\n  var hash = {}, _arr = [];\n  for(var i = 0; i < arr.length; i++) {\n    if (!hash[arr[i]]) {\n      hash[arr[i]] = true;\n      _arr.push(arr[i]);\n    }\n  }\n  return _arr;\n};\n\n\n// mean value of an array\njStat.mean = function mean(arr) {\n  return jStat.sum(arr) / arr.length;\n};\n\n\n// mean squared error (MSE)\njStat.meansqerr = function meansqerr(arr) {\n  return jStat.sumsqerr(arr) / arr.length;\n};\n\n\n// geometric mean of an array\njStat.geomean = function geomean(arr) {\n  return Math.pow(jStat.product(arr), 1 / arr.length);\n};\n\n\n// median of an array\njStat.median = function median(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  // check if array is even or odd, then return the appropriate\n  return !(arrlen & 1)\n    ? (_arr[(arrlen / 2) - 1 ] + _arr[(arrlen / 2)]) / 2\n    : _arr[(arrlen / 2) | 0 ];\n};\n\n\n// cumulative sum of an array\njStat.cumsum = function cumsum(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a + b; });\n};\n\n\n// cumulative product of an array\njStat.cumprod = function cumprod(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a * b; });\n};\n\n\n// successive differences of a sequence\njStat.diff = function diff(arr) {\n  var diffs = [];\n  var arrLen = arr.length;\n  var i;\n  for (i = 1; i < arrLen; i++)\n    diffs.push(arr[i] - arr[i - 1]);\n  return diffs;\n};\n\n\n// ranks of an array\njStat.rank = function (arr) {\n  var arrlen = arr.length;\n  var sorted = arr.slice().sort(ascNum);\n  var ranks = new Array(arrlen);\n  var val;\n  for (var i = 0; i < arrlen; i++) {\n    var first = sorted.indexOf(arr[i]);\n    var last = sorted.lastIndexOf(arr[i]);\n    if (first === last) {\n      val = first;\n    } else {\n      val = (first + last) / 2;\n    }\n    ranks[i] = val + 1;\n  }\n  return ranks;\n};\n\n\n// mode of an array\n// if there are multiple modes of an array, return all of them\n// is this the appropriate way of handling it?\njStat.mode = function mode(arr) {\n  var arrLen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  var count = 1;\n  var maxCount = 0;\n  var numMaxCount = 0;\n  var mode_arr = [];\n  var i;\n\n  for (i = 0; i < arrLen; i++) {\n    if (_arr[i] === _arr[i + 1]) {\n      count++;\n    } else {\n      if (count > maxCount) {\n        mode_arr = [_arr[i]];\n        maxCount = count;\n        numMaxCount = 0;\n      }\n      // are there multiple max counts\n      else if (count === maxCount) {\n        mode_arr.push(_arr[i]);\n        numMaxCount++;\n      }\n      // resetting count for new value in array\n      count = 1;\n    }\n  }\n\n  return numMaxCount === 0 ? mode_arr[0] : mode_arr;\n};\n\n\n// range of an array\njStat.range = function range(arr) {\n  return jStat.max(arr) - jStat.min(arr);\n};\n\n// variance of an array\n// flag = true indicates sample instead of population\njStat.variance = function variance(arr, flag) {\n  return jStat.sumsqerr(arr) / (arr.length - (flag ? 1 : 0));\n};\n\n// pooled variance of an array of arrays\njStat.pooledvariance = function pooledvariance(arr) {\n  var sumsqerr = arr.reduce(function (a, samples) {return a + jStat.sumsqerr(samples);}, 0);\n  var count = arr.reduce(function (a, samples) {return a + samples.length;}, 0);\n  return sumsqerr / (count - arr.length);\n};\n\n// deviation of an array\njStat.deviation = function (arr) {\n  var mean = jStat.mean(arr);\n  var arrlen = arr.length;\n  var dev = new Array(arrlen);\n  for (var i = 0; i < arrlen; i++) {\n    dev[i] = arr[i] - mean;\n  }\n  return dev;\n};\n\n// standard deviation of an array\n// flag = true indicates sample instead of population\njStat.stdev = function stdev(arr, flag) {\n  return Math.sqrt(jStat.variance(arr, flag));\n};\n\n// pooled standard deviation of an array of arrays\njStat.pooledstdev = function pooledstdev(arr) {\n  return Math.sqrt(jStat.pooledvariance(arr));\n};\n\n// mean deviation (mean absolute deviation) of an array\njStat.meandev = function meandev(arr) {\n  var mean = jStat.mean(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - mean));\n  }\n  return jStat.mean(a);\n};\n\n\n// median deviation (median absolute deviation) of an array\njStat.meddev = function meddev(arr) {\n  var median = jStat.median(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - median));\n  }\n  return jStat.median(a);\n};\n\n\n// coefficient of variation\njStat.coeffvar = function coeffvar(arr) {\n  return jStat.stdev(arr) / jStat.mean(arr);\n};\n\n\n// quartiles of an array\njStat.quartiles = function quartiles(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  return [\n    _arr[ Math.round((arrlen) / 4) - 1 ],\n    _arr[ Math.round((arrlen) / 2) - 1 ],\n    _arr[ Math.round((arrlen) * 3 / 4) - 1 ]\n  ];\n};\n\n\n// Arbitary quantiles of an array. Direct port of the scipy.stats\n// implementation by Pierre GF Gerard-Marchant.\njStat.quantiles = function quantiles(arr, quantilesArray, alphap, betap) {\n  var sortedArray = arr.slice().sort(ascNum);\n  var quantileVals = [quantilesArray.length];\n  var n = arr.length;\n  var i, p, m, aleph, k, gamma;\n\n  if (typeof alphap === 'undefined')\n    alphap = 3 / 8;\n  if (typeof betap === 'undefined')\n    betap = 3 / 8;\n\n  for (i = 0; i < quantilesArray.length; i++) {\n    p = quantilesArray[i];\n    m = alphap + p * (1 - alphap - betap);\n    aleph = n * p + m;\n    k = Math.floor(clip(aleph, 1, n - 1));\n    gamma = clip(aleph - k, 0, 1);\n    quantileVals[i] = (1 - gamma) * sortedArray[k - 1] + gamma * sortedArray[k];\n  }\n\n  return quantileVals;\n};\n\n// Return the k-th percentile of values in a range, where k is in the range 0..1, inclusive.\n// Passing true for the exclusive parameter excludes both endpoints of the range.\njStat.percentile = function percentile(arr, k, exclusive) {\n  var _arr = arr.slice().sort(ascNum);\n  var realIndex = k * (_arr.length + (exclusive ? 1 : -1)) + (exclusive ? 0 : 1);\n  var index = parseInt(realIndex);\n  var frac = realIndex - index;\n  if (index + 1 < _arr.length) {\n    return _arr[index - 1] + frac * (_arr[index] - _arr[index - 1]);\n  } else {\n    return _arr[index - 1];\n  }\n}\n\n// The percentile rank of score in a given array. Returns the percentage\n// of all values in the input array that are less than (kind='strict') or\n// less or equal than (kind='weak') score. Default is weak.\njStat.percentileOfScore = function percentileOfScore(arr, score, kind) {\n  var counter = 0;\n  var len = arr.length;\n  var strict = false;\n  var value, i;\n\n  if (kind === 'strict')\n    strict = true;\n\n  for (i = 0; i < len; i++) {\n    value = arr[i];\n    if ((strict && value < score) ||\n        (!strict && value <= score)) {\n      counter++;\n    }\n  }\n\n  return counter / len;\n};\n\n\n// Histogram (bin count) data\njStat.histogram = function histogram(arr, binCnt) {\n  binCnt = binCnt || 4;\n  var first = jStat.min(arr);\n  var binWidth = (jStat.max(arr) - first) / binCnt;\n  var len = arr.length;\n  var bins = [];\n  var i;\n\n  for (i = 0; i < binCnt; i++)\n    bins[i] = 0;\n  for (i = 0; i < len; i++)\n    bins[Math.min(Math.floor(((arr[i] - first) / binWidth)), binCnt - 1)] += 1;\n\n  return bins;\n};\n\n\n// covariance of two arrays\njStat.covariance = function covariance(arr1, arr2) {\n  var u = jStat.mean(arr1);\n  var v = jStat.mean(arr2);\n  var arr1Len = arr1.length;\n  var sq_dev = new Array(arr1Len);\n  var i;\n\n  for (i = 0; i < arr1Len; i++)\n    sq_dev[i] = (arr1[i] - u) * (arr2[i] - v);\n\n  return jStat.sum(sq_dev) / (arr1Len - 1);\n};\n\n\n// (pearson's) population correlation coefficient, rho\njStat.corrcoeff = function corrcoeff(arr1, arr2) {\n  return jStat.covariance(arr1, arr2) /\n      jStat.stdev(arr1, 1) /\n      jStat.stdev(arr2, 1);\n};\n\n  // (spearman's) rank correlation coefficient, sp\njStat.spearmancoeff =  function (arr1, arr2) {\n  arr1 = jStat.rank(arr1);\n  arr2 = jStat.rank(arr2);\n  //return pearson's correlation of the ranks:\n  return jStat.corrcoeff(arr1, arr2);\n}\n\n\n// statistical standardized moments (general form of skew/kurt)\njStat.stanMoment = function stanMoment(arr, n) {\n  var mu = jStat.mean(arr);\n  var sigma = jStat.stdev(arr);\n  var len = arr.length;\n  var skewSum = 0;\n\n  for (var i = 0; i < len; i++)\n    skewSum += Math.pow((arr[i] - mu) / sigma, n);\n\n  return skewSum / arr.length;\n};\n\n// (pearson's) moment coefficient of skewness\njStat.skewness = function skewness(arr) {\n  return jStat.stanMoment(arr, 3);\n};\n\n// (pearson's) (excess) kurtosis\njStat.kurtosis = function kurtosis(arr) {\n  return jStat.stanMoment(arr, 4) - 3;\n};\n\n\nvar jProto = jStat.prototype;\n\n\n// Extend jProto with method for calculating cumulative sums and products.\n// This differs from the similar extension below as cumsum and cumprod should\n// not be run again in the case fullbool === true.\n// If a matrix is passed, automatically assume operation should be done on the\n// columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('cumsum cumprod').split(' '));\n\n\n// Extend jProto with methods which don't require arguments and work on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        if (passfunc !== 'sumrow')\n          tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return fullbool === true\n            ? jStat[passfunc](jStat.utils.toVector(arr))\n            : arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr ' +\n    'geomean median diff rank mode range variance deviation stdev meandev ' +\n    'meddev coeffvar quartiles histogram skewness kurtosis').split(' '));\n\n\n// Extend jProto with functions that take arguments. Operations on matrices are\n// done on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      var args = Array.prototype.slice.call(arguments);\n      var callbackFunction;\n\n      // If the last argument is a function, we assume it's a callback; we\n      // strip the callback out and call the function again.\n      if (isFunction(args[args.length - 1])) {\n        callbackFunction = args[args.length - 1];\n        var argsToPass = args.slice(0, args.length - 1);\n\n        setTimeout(function() {\n          callbackFunction.call(tmpthis,\n                                jProto[passfunc].apply(tmpthis, argsToPass));\n        });\n        return this;\n\n      // Otherwise we curry the function args and call normally.\n      } else {\n        callbackFunction = undefined;\n        var curriedFunction = function curriedFunction(vector) {\n          return jStat[passfunc].apply(tmpthis, [vector].concat(args));\n        }\n      }\n\n      // If this is a matrix, run column-by-column.\n      if (this.length > 1) {\n        tmpthis = tmpthis.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = curriedFunction(tmpthis[i]);\n        return arr;\n      }\n\n      // Otherwise run on the vector.\n      return curriedFunction(this[0]);\n    };\n  })(funcs[i]);\n})('quantiles percentileOfScore'.split(' '));\n\n}(jStat, Math));\n// Special functions //\n(function(jStat, Math) {\n\n// Log-gamma function\njStat.gammaln = function gammaln(x) {\n  var j = 0;\n  var cof = [\n    76.18009172947146, -86.50532032941677, 24.01409824083091,\n    -1.231739572450155, 0.1208650973866179e-2, -0.5395239384953e-5\n  ];\n  var ser = 1.000000000190015;\n  var xx, y, tmp;\n  tmp = (y = xx = x) + 5.5;\n  tmp -= (xx + 0.5) * Math.log(tmp);\n  for (; j < 6; j++)\n    ser += cof[j] / ++y;\n  return Math.log(2.5066282746310005 * ser / xx) - tmp;\n};\n\n/*\n * log-gamma function to support poisson distribution sampling. The\n * algorithm comes from SPECFUN by Shanjie Zhang and Jianming Jin and their\n * book \"Computation of Special Functions\", 1996, John Wiley & Sons, Inc.\n */\njStat.loggam = function loggam(x) {\n  var x0, x2, xp, gl, gl0;\n  var k, n;\n\n  var a = [8.333333333333333e-02, -2.777777777777778e-03,\n          7.936507936507937e-04, -5.952380952380952e-04,\n          8.417508417508418e-04, -1.917526917526918e-03,\n          6.410256410256410e-03, -2.955065359477124e-02,\n          1.796443723688307e-01, -1.39243221690590e+00];\n  x0 = x;\n  n = 0;\n  if ((x == 1.0) || (x == 2.0)) {\n      return 0.0;\n  }\n  if (x <= 7.0) {\n      n = Math.floor(7 - x);\n      x0 = x + n;\n  }\n  x2 = 1.0 / (x0 * x0);\n  xp = 2 * Math.PI;\n  gl0 = a[9];\n  for (k = 8; k >= 0; k--) {\n      gl0 *= x2;\n      gl0 += a[k];\n  }\n  gl = gl0 / x0 + 0.5 * Math.log(xp) + (x0 - 0.5) * Math.log(x0) - x0;\n  if (x <= 7.0) {\n      for (k = 1; k <= n; k++) {\n          gl -= Math.log(x0 - 1.0);\n          x0 -= 1.0;\n      }\n  }\n  return gl;\n}\n\n// gamma of x\njStat.gammafn = function gammafn(x) {\n  var p = [-1.716185138865495, 24.76565080557592, -379.80425647094563,\n           629.3311553128184, 866.9662027904133, -31451.272968848367,\n           -36144.413418691176, 66456.14382024054\n  ];\n  var q = [-30.8402300119739, 315.35062697960416, -1015.1563674902192,\n           -3107.771671572311, 22538.118420980151, 4755.8462775278811,\n           -134659.9598649693, -115132.2596755535];\n  var fact = false;\n  var n = 0;\n  var xden = 0;\n  var xnum = 0;\n  var y = x;\n  var i, z, yi, res;\n  if (y <= 0) {\n    res = y % 1 + 3.6e-16;\n    if (res) {\n      fact = (!(y & 1) ? 1 : -1) * Math.PI / Math.sin(Math.PI * res);\n      y = 1 - y;\n    } else {\n      return Infinity;\n    }\n  }\n  yi = y;\n  if (y < 1) {\n    z = y++;\n  } else {\n    z = (y -= n = (y | 0) - 1) - 1;\n  }\n  for (i = 0; i < 8; ++i) {\n    xnum = (xnum + p[i]) * z;\n    xden = xden * z + q[i];\n  }\n  res = xnum / xden + 1;\n  if (yi < y) {\n    res /= yi;\n  } else if (yi > y) {\n    for (i = 0; i < n; ++i) {\n      res *= y;\n      y++;\n    }\n  }\n  if (fact) {\n    res = fact / res;\n  }\n  return res;\n};\n\n\n// lower incomplete gamma function, which is usually typeset with a\n// lower-case greek gamma as the function symbol\njStat.gammap = function gammap(a, x) {\n  return jStat.lowRegGamma(a, x) * jStat.gammafn(a);\n};\n\n\n// The lower regularized incomplete gamma function, usually written P(a,x)\njStat.lowRegGamma = function lowRegGamma(a, x) {\n  var aln = jStat.gammaln(a);\n  var ap = a;\n  var sum = 1 / a;\n  var del = sum;\n  var b = x + 1 - a;\n  var c = 1 / 1.0e-30;\n  var d = 1 / b;\n  var h = d;\n  var i = 1;\n  // calculate maximum number of itterations required for a\n  var ITMAX = -~(Math.log((a >= 1) ? a : 1 / a) * 8.5 + a * 0.4 + 17);\n  var an;\n\n  if (x < 0 || a <= 0) {\n    return NaN;\n  } else if (x < a + 1) {\n    for (; i <= ITMAX; i++) {\n      sum += del *= x / ++ap;\n    }\n    return (sum * Math.exp(-x + a * Math.log(x) - (aln)));\n  }\n\n  for (; i <= ITMAX; i++) {\n    an = -i * (i - a);\n    b += 2;\n    d = an * d + b;\n    c = b + an / c;\n    d = 1 / d;\n    h *= d * c;\n  }\n\n  return (1 - h * Math.exp(-x + a * Math.log(x) - (aln)));\n};\n\n// natural log factorial of n\njStat.factorialln = function factorialln(n) {\n  return n < 0 ? NaN : jStat.gammaln(n + 1);\n};\n\n// factorial of n\njStat.factorial = function factorial(n) {\n  return n < 0 ? NaN : jStat.gammafn(n + 1);\n};\n\n// combinations of n, m\njStat.combination = function combination(n, m) {\n  // make sure n or m don't exceed the upper limit of usable values\n  return (n > 170 || m > 170)\n      ? Math.exp(jStat.combinationln(n, m))\n      : (jStat.factorial(n) / jStat.factorial(m)) / jStat.factorial(n - m);\n};\n\n\njStat.combinationln = function combinationln(n, m){\n  return jStat.factorialln(n) - jStat.factorialln(m) - jStat.factorialln(n - m);\n};\n\n\n// permutations of n, m\njStat.permutation = function permutation(n, m) {\n  return jStat.factorial(n) / jStat.factorial(n - m);\n};\n\n\n// beta function\njStat.betafn = function betafn(x, y) {\n  // ensure arguments are positive\n  if (x <= 0 || y <= 0)\n    return undefined;\n  // make sure x + y doesn't exceed the upper limit of usable values\n  return (x + y > 170)\n      ? Math.exp(jStat.betaln(x, y))\n      : jStat.gammafn(x) * jStat.gammafn(y) / jStat.gammafn(x + y);\n};\n\n\n// natural logarithm of beta function\njStat.betaln = function betaln(x, y) {\n  return jStat.gammaln(x) + jStat.gammaln(y) - jStat.gammaln(x + y);\n};\n\n\n// Evaluates the continued fraction for incomplete beta function by modified\n// Lentz's method.\njStat.betacf = function betacf(x, a, b) {\n  var fpmin = 1e-30;\n  var m = 1;\n  var qab = a + b;\n  var qap = a + 1;\n  var qam = a - 1;\n  var c = 1;\n  var d = 1 - qab * x / qap;\n  var m2, aa, del, h;\n\n  // These q's will be used in factors that occur in the coefficients\n  if (Math.abs(d) < fpmin)\n    d = fpmin;\n  d = 1 / d;\n  h = d;\n\n  for (; m <= 100; m++) {\n    m2 = 2 * m;\n    aa = m * (b - m) * x / ((qam + m2) * (a + m2));\n    // One step (the even one) of the recurrence\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    h *= d * c;\n    aa = -(a + m) * (qab + m) * x / ((a + m2) * (qap + m2));\n    // Next step of the recurrence (the odd one)\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    del = d * c;\n    h *= del;\n    if (Math.abs(del - 1.0) < 3e-7)\n      break;\n  }\n\n  return h;\n};\n\n\n// Returns the inverse of the lower regularized inomplete gamma function\njStat.gammapinv = function gammapinv(p, a) {\n  var j = 0;\n  var a1 = a - 1;\n  var EPS = 1e-8;\n  var gln = jStat.gammaln(a);\n  var x, err, t, u, pp, lna1, afac;\n\n  if (p >= 1)\n    return Math.max(100, a + 100 * Math.sqrt(a));\n  if (p <= 0)\n    return 0;\n  if (a > 1) {\n    lna1 = Math.log(a1);\n    afac = Math.exp(a1 * (lna1 - 1) - gln);\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t * (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    x = Math.max(1e-3,\n                 a * Math.pow(1 - 1 / (9 * a) - x / (3 * Math.sqrt(a)), 3));\n  } else {\n    t = 1 - a * (0.253 + a * 0.12);\n    if (p < t)\n      x = Math.pow(p / t, 1 / a);\n    else\n      x = 1 - Math.log(1 - (p - t) / (1 - t));\n  }\n\n  for(; j < 12; j++) {\n    if (x <= 0)\n      return 0;\n    err = jStat.lowRegGamma(a, x) - p;\n    if (a > 1)\n      t = afac * Math.exp(-(x - a1) + a1 * (Math.log(x) - lna1));\n    else\n      t = Math.exp(-x + a1 * Math.log(x) - gln);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * ((a - 1) / x - 1))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (Math.abs(t) < EPS * x)\n      break;\n  }\n\n  return x;\n};\n\n\n// Returns the error function erf(x)\njStat.erf = function erf(x) {\n  var cof = [-1.3026537197817094, 6.4196979235649026e-1, 1.9476473204185836e-2,\n             -9.561514786808631e-3, -9.46595344482036e-4, 3.66839497852761e-4,\n             4.2523324806907e-5, -2.0278578112534e-5, -1.624290004647e-6,\n             1.303655835580e-6, 1.5626441722e-8, -8.5238095915e-8,\n             6.529054439e-9, 5.059343495e-9, -9.91364156e-10,\n             -2.27365122e-10, 9.6467911e-11, 2.394038e-12,\n             -6.886027e-12, 8.94487e-13, 3.13092e-13,\n             -1.12708e-13, 3.81e-16, 7.106e-15,\n             -1.523e-15, -9.4e-17, 1.21e-16,\n             -2.8e-17];\n  var j = cof.length - 1;\n  var isneg = false;\n  var d = 0;\n  var dd = 0;\n  var t, ty, tmp, res;\n\n  if (x < 0) {\n    x = -x;\n    isneg = true;\n  }\n\n  t = 2 / (2 + x);\n  ty = 4 * t - 2;\n\n  for(; j > 0; j--) {\n    tmp = d;\n    d = ty * d - dd + cof[j];\n    dd = tmp;\n  }\n\n  res = t * Math.exp(-x * x + 0.5 * (cof[0] + ty * d) - dd);\n  return isneg ? res - 1 : 1 - res;\n};\n\n\n// Returns the complmentary error function erfc(x)\njStat.erfc = function erfc(x) {\n  return 1 - jStat.erf(x);\n};\n\n\n// Returns the inverse of the complementary error function\njStat.erfcinv = function erfcinv(p) {\n  var j = 0;\n  var x, err, t, pp;\n  if (p >= 2)\n    return -100;\n  if (p <= 0)\n    return 100;\n  pp = (p < 1) ? p : 2 - p;\n  t = Math.sqrt(-2 * Math.log(pp / 2));\n  x = -0.70711 * ((2.30753 + t * 0.27061) /\n                  (1 + t * (0.99229 + t * 0.04481)) - t);\n  for (; j < 2; j++) {\n    err = jStat.erfc(x) - pp;\n    x += err / (1.12837916709551257 * Math.exp(-x * x) - x * err);\n  }\n  return (p < 1) ? x : -x;\n};\n\n\n// Returns the inverse of the incomplete beta function\njStat.ibetainv = function ibetainv(p, a, b) {\n  var EPS = 1e-8;\n  var a1 = a - 1;\n  var b1 = b - 1;\n  var j = 0;\n  var lna, lnb, pp, t, u, err, x, al, h, w, afac;\n  if (p <= 0)\n    return 0;\n  if (p >= 1)\n    return 1;\n  if (a >= 1 && b >= 1) {\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t* (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    al = (x * x - 3) / 6;\n    h = 2 / (1 / (2 * a - 1)  + 1 / (2 * b - 1));\n    w = (x * Math.sqrt(al + h) / h) - (1 / (2 * b - 1) - 1 / (2 * a - 1)) *\n        (al + 5 / 6 - 2 / (3 * h));\n    x = a / (a + b * Math.exp(2 * w));\n  } else {\n    lna = Math.log(a / (a + b));\n    lnb = Math.log(b / (a + b));\n    t = Math.exp(a * lna) / a;\n    u = Math.exp(b * lnb) / b;\n    w = t + u;\n    if (p < t / w)\n      x = Math.pow(a * w * p, 1 / a);\n    else\n      x = 1 - Math.pow(b * w * (1 - p), 1 / b);\n  }\n  afac = -jStat.gammaln(a) - jStat.gammaln(b) + jStat.gammaln(a + b);\n  for(; j < 10; j++) {\n    if (x === 0 || x === 1)\n      return x;\n    err = jStat.ibeta(x, a, b) - p;\n    t = Math.exp(a1 * Math.log(x) + b1 * Math.log(1 - x) + afac);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * (a1 / x - b1 / (1 - x)))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (x >= 1)\n      x = 0.5 * (x + t + 1);\n    if (Math.abs(t) < EPS * x && j > 0)\n      break;\n  }\n  return x;\n};\n\n\n// Returns the incomplete beta function I_x(a,b)\njStat.ibeta = function ibeta(x, a, b) {\n  // Factors in front of the continued fraction.\n  var bt = (x === 0 || x === 1) ?  0 :\n    Math.exp(jStat.gammaln(a + b) - jStat.gammaln(a) -\n             jStat.gammaln(b) + a * Math.log(x) + b *\n             Math.log(1 - x));\n  if (x < 0 || x > 1)\n    return false;\n  if (x < (a + 1) / (a + b + 2))\n    // Use continued fraction directly.\n    return bt * jStat.betacf(x, a, b) / a;\n  // else use continued fraction after making the symmetry transformation.\n  return 1 - bt * jStat.betacf(1 - x, b, a) / b;\n};\n\n\n// Returns a normal deviate (mu=0, sigma=1).\n// If n and m are specified it returns a object of normal deviates.\njStat.randn = function randn(n, m) {\n  var u, v, x, y, q;\n  if (!m)\n    m = n;\n  if (n)\n    return jStat.create(n, m, function() { return jStat.randn(); });\n  do {\n    u = jStat._random_fn();\n    v = 1.7156 * (jStat._random_fn() - 0.5);\n    x = u - 0.449871;\n    y = Math.abs(v) + 0.386595;\n    q = x * x + y * (0.19600 * y - 0.25472 * x);\n  } while (q > 0.27597 && (q > 0.27846 || v * v > -4 * Math.log(u) * u * u));\n  return v / u;\n};\n\n\n// Returns a gamma deviate by the method of Marsaglia and Tsang.\njStat.randg = function randg(shape, n, m) {\n  var oalph = shape;\n  var a1, a2, u, v, x, mat;\n  if (!m)\n    m = n;\n  if (!shape)\n    shape = 1;\n  if (n) {\n    mat = jStat.zeros(n,m);\n    mat.alter(function() { return jStat.randg(shape); });\n    return mat;\n  }\n  if (shape < 1)\n    shape += 1;\n  a1 = shape - 1 / 3;\n  a2 = 1 / Math.sqrt(9 * a1);\n  do {\n    do {\n      x = jStat.randn();\n      v = 1 + a2 * x;\n    } while(v <= 0);\n    v = v * v * v;\n    u = jStat._random_fn();\n  } while(u > 1 - 0.331 * Math.pow(x, 4) &&\n          Math.log(u) > 0.5 * x*x + a1 * (1 - v + Math.log(v)));\n  // alpha > 1\n  if (shape == oalph)\n    return a1 * v;\n  // alpha < 1\n  do {\n    u = jStat._random_fn();\n  } while(u === 0);\n  return Math.pow(u, 1 / oalph) * a1 * v;\n};\n\n\n// making use of static methods on the instance\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(\n          jStat.map(this, function(value) { return jStat[passfunc](value); }));\n    }\n  })(funcs[i]);\n})('gammaln gammafn factorial factorialln'.split(' '));\n\n\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('randn'.split(' '));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\n// generate all distribution instance methods\n(function(list) {\n  for (var i = 0; i < list.length; i++) (function(func) {\n    // distribution instance method\n    jStat[func] = function(a, b, c) {\n      if (!(this instanceof arguments.callee))\n        return new arguments.callee(a, b, c);\n      this._a = a;\n      this._b = b;\n      this._c = c;\n      return this;\n    };\n    // distribution method to be used on a jStat instance\n    jStat.fn[func] = function(a, b, c) {\n      var newthis = jStat[func](a, b, c);\n      newthis.data = this;\n      return newthis;\n    };\n    // sample instance method\n    jStat[func].prototype.sample = function(arr) {\n      var a = this._a;\n      var b = this._b;\n      var c = this._c;\n      if (arr)\n        return jStat.alter(arr, function() {\n          return jStat[func].sample(a, b, c);\n        });\n      else\n        return jStat[func].sample(a, b, c);\n    };\n    // generate the pdf, cdf and inv instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function(x) {\n          var a = this._a;\n          var b = this._b;\n          var c = this._c;\n          if (!x && x !== 0)\n            x = this.data;\n          if (typeof x !== 'number') {\n            return jStat.fn.map.call(x, function(x) {\n              return jStat[func][fnfunc](x, a, b, c);\n            });\n          }\n          return jStat[func][fnfunc](x, a, b, c);\n        };\n      })(vals[i]);\n    })('pdf cdf inv'.split(' '));\n    // generate the mean, median, mode and variance instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function() {\n          return jStat[func][fnfunc](this._a, this._b, this._c);\n        };\n      })(vals[i]);\n    })('mean median mode variance'.split(' '));\n  })(list[i]);\n})((\n  'beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy ' +\n  'laplace lognormal noncentralt normal pareto studentt weibull uniform ' +\n  'binomial negbin hypgeom poisson triangular tukey arcsine'\n).split(' '));\n\n\n\n// extend beta function with static methods\njStat.extend(jStat.beta, {\n  pdf: function pdf(x, alpha, beta) {\n    // PDF is zero outside the support\n    if (x > 1 || x < 0)\n      return 0;\n    // PDF is one for the uniform case\n    if (alpha == 1 && beta == 1)\n      return 1;\n\n    if (alpha < 512 && beta < 512) {\n      return (Math.pow(x, alpha - 1) * Math.pow(1 - x, beta - 1)) /\n          jStat.betafn(alpha, beta);\n    } else {\n      return Math.exp((alpha - 1) * Math.log(x) +\n                      (beta - 1) * Math.log(1 - x) -\n                      jStat.betaln(alpha, beta));\n    }\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    return (x > 1 || x < 0) ? (x > 1) * 1 : jStat.ibeta(x, alpha, beta);\n  },\n\n  inv: function inv(x, alpha, beta) {\n    return jStat.ibetainv(x, alpha, beta);\n  },\n\n  mean: function mean(alpha, beta) {\n    return alpha / (alpha + beta);\n  },\n\n  median: function median(alpha, beta) {\n    return jStat.ibetainv(0.5, alpha, beta);\n  },\n\n  mode: function mode(alpha, beta) {\n    return (alpha - 1 ) / ( alpha + beta - 2);\n  },\n\n  // return a random sample\n  sample: function sample(alpha, beta) {\n    var u = jStat.randg(alpha);\n    return u / (u + jStat.randg(beta));\n  },\n\n  variance: function variance(alpha, beta) {\n    return (alpha * beta) / (Math.pow(alpha + beta, 2) * (alpha + beta + 1));\n  }\n});\n\n// extend F function with static methods\njStat.extend(jStat.centralF, {\n  // This implementation of the pdf function avoids float overflow\n  // See the way that R calculates this value:\n  // https://svn.r-project.org/R/trunk/src/nmath/df.c\n  pdf: function pdf(x, df1, df2) {\n    var p, q, f;\n\n    if (x < 0)\n      return 0;\n\n    if (df1 <= 2) {\n      if (x === 0 && df1 < 2) {\n        return Infinity;\n      }\n      if (x === 0 && df1 === 2) {\n        return 1;\n      }\n      return (1 / jStat.betafn(df1 / 2, df2 / 2)) *\n              Math.pow(df1 / df2, df1 / 2) *\n              Math.pow(x, (df1/2) - 1) *\n              Math.pow((1 + (df1 / df2) * x), -(df1 + df2) / 2);\n    }\n\n    p = (df1 * x) / (df2 + x * df1);\n    q = df2 / (df2 + x * df1);\n    f = df1 * q / 2.0;\n    return f * jStat.binomial.pdf((df1 - 2) / 2, (df1 + df2 - 2) / 2, p);\n  },\n\n  cdf: function cdf(x, df1, df2) {\n    if (x < 0)\n      return 0;\n    return jStat.ibeta((df1 * x) / (df1 * x + df2), df1 / 2, df2 / 2);\n  },\n\n  inv: function inv(x, df1, df2) {\n    return df2 / (df1 * (1 / jStat.ibetainv(x, df1 / 2, df2 / 2) - 1));\n  },\n\n  mean: function mean(df1, df2) {\n    return (df2 > 2) ? df2 / (df2 - 2) : undefined;\n  },\n\n  mode: function mode(df1, df2) {\n    return (df1 > 2) ? (df2 * (df1 - 2)) / (df1 * (df2 + 2)) : undefined;\n  },\n\n  // return a random sample\n  sample: function sample(df1, df2) {\n    var x1 = jStat.randg(df1 / 2) * 2;\n    var x2 = jStat.randg(df2 / 2) * 2;\n    return (x1 / df1) / (x2 / df2);\n  },\n\n  variance: function variance(df1, df2) {\n    if (df2 <= 4)\n      return undefined;\n    return 2 * df2 * df2 * (df1 + df2 - 2) /\n        (df1 * (df2 - 2) * (df2 - 2) * (df2 - 4));\n  }\n});\n\n\n// extend cauchy function with static methods\njStat.extend(jStat.cauchy, {\n  pdf: function pdf(x, local, scale) {\n    if (scale < 0) { return 0; }\n\n    return (scale / (Math.pow(x - local, 2) + Math.pow(scale, 2))) / Math.PI;\n  },\n\n  cdf: function cdf(x, local, scale) {\n    return Math.atan((x - local) / scale) / Math.PI + 0.5;\n  },\n\n  inv: function(p, local, scale) {\n    return local + scale * Math.tan(Math.PI * (p - 0.5));\n  },\n\n  median: function median(local/*, scale*/) {\n    return local;\n  },\n\n  mode: function mode(local/*, scale*/) {\n    return local;\n  },\n\n  sample: function sample(local, scale) {\n    return jStat.randn() *\n        Math.sqrt(1 / (2 * jStat.randg(0.5))) * scale + local;\n  }\n});\n\n\n\n// extend chisquare function with static methods\njStat.extend(jStat.chisquare, {\n  pdf: function pdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && dof === 2) ? 0.5 :\n        Math.exp((dof / 2 - 1) * Math.log(x) - x / 2 - (dof / 2) *\n                 Math.log(2) - jStat.gammaln(dof / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(dof / 2, x / 2);\n  },\n\n  inv: function(p, dof) {\n    return 2 * jStat.gammapinv(p, 0.5 * dof);\n  },\n\n  mean : function(dof) {\n    return dof;\n  },\n\n  // TODO: this is an approximation (is there a better way?)\n  median: function median(dof) {\n    return dof * Math.pow(1 - (2 / (9 * dof)), 3);\n  },\n\n  mode: function mode(dof) {\n    return (dof - 2 > 0) ? dof - 2 : 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randg(dof / 2) * 2;\n  },\n\n  variance: function variance(dof) {\n    return 2 * dof;\n  }\n});\n\n\n\n// extend exponential function with static methods\njStat.extend(jStat.exponential, {\n  pdf: function pdf(x, rate) {\n    return x < 0 ? 0 : rate * Math.exp(-rate * x);\n  },\n\n  cdf: function cdf(x, rate) {\n    return x < 0 ? 0 : 1 - Math.exp(-rate * x);\n  },\n\n  inv: function(p, rate) {\n    return -Math.log(1 - p) / rate;\n  },\n\n  mean : function(rate) {\n    return 1 / rate;\n  },\n\n  median: function (rate) {\n    return (1 / rate) * Math.log(2);\n  },\n\n  mode: function mode(/*rate*/) {\n    return 0;\n  },\n\n  sample: function sample(rate) {\n    return -1 / rate * Math.log(jStat._random_fn());\n  },\n\n  variance : function(rate) {\n    return Math.pow(rate, -2);\n  }\n});\n\n\n\n// extend gamma function with static methods\njStat.extend(jStat.gamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && shape === 1) ? 1 / scale :\n            Math.exp((shape - 1) * Math.log(x) - x / scale -\n                    jStat.gammaln(shape) - shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(shape, x / scale);\n  },\n\n  inv: function(p, shape, scale) {\n    return jStat.gammapinv(p, shape) * scale;\n  },\n\n  mean : function(shape, scale) {\n    return shape * scale;\n  },\n\n  mode: function mode(shape, scale) {\n    if(shape > 1) return (shape - 1) * scale;\n    return undefined;\n  },\n\n  sample: function sample(shape, scale) {\n    return jStat.randg(shape) * scale;\n  },\n\n  variance: function variance(shape, scale) {\n    return shape * scale * scale;\n  }\n});\n\n// extend inverse gamma function with static methods\njStat.extend(jStat.invgamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-(shape + 1) * Math.log(x) - scale / x -\n                    jStat.gammaln(shape) + shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return 1 - jStat.lowRegGamma(shape, scale / x);\n  },\n\n  inv: function(p, shape, scale) {\n    return scale / jStat.gammapinv(1 - p, shape);\n  },\n\n  mean : function(shape, scale) {\n    return (shape > 1) ? scale / (shape - 1) : undefined;\n  },\n\n  mode: function mode(shape, scale) {\n    return scale / (shape + 1);\n  },\n\n  sample: function sample(shape, scale) {\n    return scale / jStat.randg(shape);\n  },\n\n  variance: function variance(shape, scale) {\n    if (shape <= 2)\n      return undefined;\n    return scale * scale / ((shape - 1) * (shape - 1) * (shape - 2));\n  }\n});\n\n\n// extend kumaraswamy function with static methods\njStat.extend(jStat.kumaraswamy, {\n  pdf: function pdf(x, alpha, beta) {\n    if (x === 0 && alpha === 1)\n      return beta;\n    else if (x === 1 && beta === 1)\n      return alpha;\n    return Math.exp(Math.log(alpha) + Math.log(beta) + (alpha - 1) *\n                    Math.log(x) + (beta - 1) *\n                    Math.log(1 - Math.pow(x, alpha)));\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    if (x < 0)\n      return 0;\n    else if (x > 1)\n      return 1;\n    return (1 - Math.pow(1 - Math.pow(x, alpha), beta));\n  },\n\n  inv: function inv(p, alpha, beta) {\n    return Math.pow(1 - Math.pow(1 - p, 1 / beta), 1 / alpha);\n  },\n\n  mean : function(alpha, beta) {\n    return (beta * jStat.gammafn(1 + 1 / alpha) *\n            jStat.gammafn(beta)) / (jStat.gammafn(1 + 1 / alpha + beta));\n  },\n\n  median: function median(alpha, beta) {\n    return Math.pow(1 - Math.pow(2, -1 / beta), 1 / alpha);\n  },\n\n  mode: function mode(alpha, beta) {\n    if (!(alpha >= 1 && beta >= 1 && (alpha !== 1 && beta !== 1)))\n      return undefined;\n    return Math.pow((alpha - 1) / (alpha * beta - 1), 1 / alpha);\n  },\n\n  variance: function variance(/*alpha, beta*/) {\n    throw new Error('variance not yet implemented');\n    // TODO: complete this\n  }\n});\n\n\n\n// extend lognormal function with static methods\njStat.extend(jStat.lognormal, {\n  pdf: function pdf(x, mu, sigma) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-Math.log(x) - 0.5 * Math.log(2 * Math.PI) -\n                    Math.log(sigma) - Math.pow(Math.log(x) - mu, 2) /\n                    (2 * sigma * sigma));\n  },\n\n  cdf: function cdf(x, mu, sigma) {\n    if (x < 0)\n      return 0;\n    return 0.5 +\n        (0.5 * jStat.erf((Math.log(x) - mu) / Math.sqrt(2 * sigma * sigma)));\n  },\n\n  inv: function(p, mu, sigma) {\n    return Math.exp(-1.41421356237309505 * sigma * jStat.erfcinv(2 * p) + mu);\n  },\n\n  mean: function mean(mu, sigma) {\n    return Math.exp(mu + sigma * sigma / 2);\n  },\n\n  median: function median(mu/*, sigma*/) {\n    return Math.exp(mu);\n  },\n\n  mode: function mode(mu, sigma) {\n    return Math.exp(mu - sigma * sigma);\n  },\n\n  sample: function sample(mu, sigma) {\n    return Math.exp(jStat.randn() * sigma + mu);\n  },\n\n  variance: function variance(mu, sigma) {\n    return (Math.exp(sigma * sigma) - 1) * Math.exp(2 * mu + sigma * sigma);\n  }\n});\n\n\n\n// extend noncentralt function with static methods\njStat.extend(jStat.noncentralt, {\n  pdf: function pdf(x, dof, ncp) {\n    var tol = 1e-14;\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.pdf(x, dof)\n\n    if (Math.abs(x) < tol) {  // different formula for x == 0\n      return Math.exp(jStat.gammaln((dof + 1) / 2) - ncp * ncp / 2 -\n                      0.5 * Math.log(Math.PI * dof) - jStat.gammaln(dof / 2));\n    }\n\n    // formula for x != 0\n    return dof / x *\n        (jStat.noncentralt.cdf(x * Math.sqrt(1 + 2 / dof), dof+2, ncp) -\n         jStat.noncentralt.cdf(x, dof, ncp));\n  },\n\n  cdf: function cdf(x, dof, ncp) {\n    var tol = 1e-14;\n    var min_iterations = 200;\n\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.cdf(x, dof);\n\n    // turn negative x into positive and flip result afterwards\n    var flip = false;\n    if (x < 0) {\n      flip = true;\n      ncp = -ncp;\n    }\n\n    var prob = jStat.normal.cdf(-ncp, 0, 1);\n    var value = tol + 1;\n    // use value at last two steps to determine convergence\n    var lastvalue = value;\n    var y = x * x / (x * x + dof);\n    var j = 0;\n    var p = Math.exp(-ncp * ncp / 2);\n    var q = Math.exp(-ncp * ncp / 2 - 0.5 * Math.log(2) -\n                     jStat.gammaln(3 / 2)) * ncp;\n    while (j < min_iterations || lastvalue > tol || value > tol) {\n      lastvalue = value;\n      if (j > 0) {\n        p *= (ncp * ncp) / (2 * j);\n        q *= (ncp * ncp) / (2 * (j + 1 / 2));\n      }\n      value = p * jStat.beta.cdf(y, j + 0.5, dof / 2) +\n          q * jStat.beta.cdf(y, j+1, dof/2);\n      prob += 0.5 * value;\n      j++;\n    }\n\n    return flip ? (1 - prob) : prob;\n  }\n});\n\n\n// extend normal function with static methods\njStat.extend(jStat.normal, {\n  pdf: function pdf(x, mean, std) {\n    return Math.exp(-0.5 * Math.log(2 * Math.PI) -\n                    Math.log(std) - Math.pow(x - mean, 2) / (2 * std * std));\n  },\n\n  cdf: function cdf(x, mean, std) {\n    return 0.5 * (1 + jStat.erf((x - mean) / Math.sqrt(2 * std * std)));\n  },\n\n  inv: function(p, mean, std) {\n    return -1.41421356237309505 * std * jStat.erfcinv(2 * p) + mean;\n  },\n\n  mean : function(mean/*, std*/) {\n    return mean;\n  },\n\n  median: function median(mean/*, std*/) {\n    return mean;\n  },\n\n  mode: function (mean/*, std*/) {\n    return mean;\n  },\n\n  sample: function sample(mean, std) {\n    return jStat.randn() * std + mean;\n  },\n\n  variance : function(mean, std) {\n    return std * std;\n  }\n});\n\n\n\n// extend pareto function with static methods\njStat.extend(jStat.pareto, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return (shape * Math.pow(scale, shape)) / Math.pow(x, shape + 1);\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return 1 - Math.pow(scale / x, shape);\n  },\n\n  inv: function inv(p, scale, shape) {\n    return scale / Math.pow(1 - p, 1 / shape);\n  },\n\n  mean: function mean(scale, shape) {\n    if (shape <= 1)\n      return undefined;\n    return (shape * Math.pow(scale, shape)) / (shape - 1);\n  },\n\n  median: function median(scale, shape) {\n    return scale * (shape * Math.SQRT2);\n  },\n\n  mode: function mode(scale/*, shape*/) {\n    return scale;\n  },\n\n  variance : function(scale, shape) {\n    if (shape <= 2)\n      return undefined;\n    return (scale*scale * shape) / (Math.pow(shape - 1, 2) * (shape - 2));\n  }\n});\n\n\n\n// extend studentt function with static methods\njStat.extend(jStat.studentt, {\n  pdf: function pdf(x, dof) {\n    dof = dof > 1e100 ? 1e100 : dof;\n    return (1/(Math.sqrt(dof) * jStat.betafn(0.5, dof/2))) *\n        Math.pow(1 + ((x * x) / dof), -((dof + 1) / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    var dof2 = dof / 2;\n    return jStat.ibeta((x + Math.sqrt(x * x + dof)) /\n                       (2 * Math.sqrt(x * x + dof)), dof2, dof2);\n  },\n\n  inv: function(p, dof) {\n    var x = jStat.ibetainv(2 * Math.min(p, 1 - p), 0.5 * dof, 0.5);\n    x = Math.sqrt(dof * (1 - x) / x);\n    return (p > 0.5) ? x : -x;\n  },\n\n  mean: function mean(dof) {\n    return (dof > 1) ? 0 : undefined;\n  },\n\n  median: function median(/*dof*/) {\n    return 0;\n  },\n\n  mode: function mode(/*dof*/) {\n    return 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randn() * Math.sqrt(dof / (2 * jStat.randg(dof / 2)));\n  },\n\n  variance: function variance(dof) {\n    return (dof  > 2) ? dof / (dof - 2) : (dof > 1) ? Infinity : undefined;\n  }\n});\n\n\n\n// extend weibull function with static methods\njStat.extend(jStat.weibull, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < 0 || scale < 0 || shape < 0)\n      return 0;\n    return (shape / scale) * Math.pow((x / scale), (shape - 1)) *\n        Math.exp(-(Math.pow((x / scale), shape)));\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    return x < 0 ? 0 : 1 - Math.exp(-Math.pow((x / scale), shape));\n  },\n\n  inv: function(p, scale, shape) {\n    return scale * Math.pow(-Math.log(1 - p), 1 / shape);\n  },\n\n  mean : function(scale, shape) {\n    return scale * jStat.gammafn(1 + 1 / shape);\n  },\n\n  median: function median(scale, shape) {\n    return scale * Math.pow(Math.log(2), 1 / shape);\n  },\n\n  mode: function mode(scale, shape) {\n    if (shape <= 1)\n      return 0;\n    return scale * Math.pow((shape - 1) / shape, 1 / shape);\n  },\n\n  sample: function sample(scale, shape) {\n    return scale * Math.pow(-Math.log(jStat._random_fn()), 1 / shape);\n  },\n\n  variance: function variance(scale, shape) {\n    return scale * scale * jStat.gammafn(1 + 2 / shape) -\n        Math.pow(jStat.weibull.mean(scale, shape), 2);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.uniform, {\n  pdf: function pdf(x, a, b) {\n    return (x < a || x > b) ? 0 : 1 / (b - a);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (x - a) / (b - a);\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (p * (b - a));\n  },\n\n  mean: function mean(a, b) {\n    return 0.5 * (a + b);\n  },\n\n  median: function median(a, b) {\n    return jStat.mean(a, b);\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return (a / 2 + b / 2) + (b / 2 - a / 2) * (2 * jStat._random_fn() - 1);\n  },\n\n  variance: function variance(a, b) {\n    return Math.pow(b - a, 2) / 12;\n  }\n});\n\n\n// Got this from http://www.math.ucla.edu/~tom/distributions/binomial.html\nfunction betinc(x, a, b, eps) {\n  var a0 = 0;\n  var b0 = 1;\n  var a1 = 1;\n  var b1 = 1;\n  var m9 = 0;\n  var a2 = 0;\n  var c9;\n\n  while (Math.abs((a1 - a2) / a1) > eps) {\n    a2 = a1;\n    c9 = -(a + m9) * (a + b + m9) * x / (a + 2 * m9) / (a + 2 * m9 + 1);\n    a0 = a1 + c9 * a0;\n    b0 = b1 + c9 * b0;\n    m9 = m9 + 1;\n    c9 = m9 * (b - m9) * x / (a + 2 * m9 - 1) / (a + 2 * m9);\n    a1 = a0 + c9 * a1;\n    b1 = b0 + c9 * b1;\n    a0 = a0 / b1;\n    b0 = b0 / b1;\n    a1 = a1 / b1;\n    b1 = 1;\n  }\n\n  return a1 / a;\n}\n\n\n// extend uniform function with static methods\njStat.extend(jStat.binomial, {\n  pdf: function pdf(k, n, p) {\n    return (p === 0 || p === 1) ?\n      ((n * p) === k ? 1 : 0) :\n      jStat.combination(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);\n  },\n\n  cdf: function cdf(x, n, p) {\n    var betacdf;\n    var eps = 1e-10;\n\n    if (x < 0)\n      return 0;\n    if (x >= n)\n      return 1;\n    if (p < 0 || p > 1 || n <= 0)\n      return NaN;\n\n    x = Math.floor(x);\n    var z = p;\n    var a = x + 1;\n    var b = n - x;\n    var s = a + b;\n    var bt = Math.exp(jStat.gammaln(s) - jStat.gammaln(b) -\n                      jStat.gammaln(a) + a * Math.log(z) + b * Math.log(1 - z));\n\n    if (z < (a + 1) / (s + 2))\n      betacdf = bt * betinc(z, a, b, eps);\n    else\n      betacdf = 1 - bt * betinc(1 - z, b, a, eps);\n\n    return Math.round((1 - betacdf) * (1 / eps)) / (1 / eps);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.negbin, {\n  pdf: function pdf(k, r, p) {\n    if (k !== k >>> 0)\n      return false;\n    if (k < 0)\n      return 0;\n    return jStat.combination(k + r - 1, r - 1) *\n        Math.pow(1 - p, k) * Math.pow(p, r);\n  },\n\n  cdf: function cdf(x, r, p) {\n    var sum = 0,\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sum += jStat.negbin.pdf(k, r, p);\n    }\n    return sum;\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.hypgeom, {\n  pdf: function pdf(k, N, m, n) {\n    // Hypergeometric PDF.\n\n    // A simplification of the CDF algorithm below.\n\n    // k = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(k !== k | 0) {\n      return false;\n    } else if(k < 0 || k < m - (N - n)) {\n      // It's impossible to have this few successes drawn.\n      return 0;\n    } else if(k > n || k > m) {\n      // It's impossible to have this many successes drawn.\n      return 0;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.pdf(N - m - n + k, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return jStat.hypgeom.pdf(n - k, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return jStat.hypgeom.pdf(m - k, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.pdf(k, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate product to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < k; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledPDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          scaledPDF *= 1 - (m / (N - samplesDone));\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledPDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledPDF));\n    }\n  },\n\n  cdf: function cdf(x, N, m, n) {\n    // Hypergeometric CDF.\n\n    // This algorithm is due to Prof. Thomas S. Ferguson, <tom@math.ucla.edu>,\n    // and comes from his hypergeometric test calculator at\n    // <http://www.math.ucla.edu/~tom/distributions/Hypergeometric.html>.\n\n    // x = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(x < 0 || x < m - (N - n)) {\n      // It's impossible to have this few successes drawn or fewer.\n      return 0;\n    } else if(x >= n || x >= m) {\n      // We will always have this many successes or fewer.\n      return 1;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.cdf(N - m - n + x, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return 1 - jStat.hypgeom.cdf(n - x - 1, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return 1 - jStat.hypgeom.cdf(m - x - 1, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.cdf(x, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate sum to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // Holds the intermediate, scaled total CDF.\n      var scaledCDF = 1;\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < x; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledCDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          var factor = 1 - (m / (N - samplesDone));\n\n          scaledPDF *= factor;\n          scaledCDF *= factor;\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n\n        // Add to the CDF answer.\n        scaledCDF += scaledPDF;\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledCDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledCDF));\n    }\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.poisson, {\n  pdf: function pdf(k, l) {\n    if (l < 0 || (k % 1) !== 0 || k < 0) {\n      return 0;\n    }\n\n    return Math.pow(l, k) * Math.exp(-l) / jStat.factorial(k);\n  },\n\n  cdf: function cdf(x, l) {\n    var sumarr = [],\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sumarr.push(jStat.poisson.pdf(k, l));\n    }\n    return jStat.sum(sumarr);\n  },\n\n  mean : function(l) {\n    return l;\n  },\n\n  variance : function(l) {\n    return l;\n  },\n\n  sampleSmall: function sampleSmall(l) {\n    var p = 1, k = 0, L = Math.exp(-l);\n    do {\n      k++;\n      p *= jStat._random_fn();\n    } while (p > L);\n    return k - 1;\n  },\n\n  sampleLarge: function sampleLarge(l) {\n    var lam = l;\n    var k;\n    var U, V, slam, loglam, a, b, invalpha, vr, us;\n\n    slam = Math.sqrt(lam);\n    loglam = Math.log(lam);\n    b = 0.931 + 2.53 * slam;\n    a = -0.059 + 0.02483 * b;\n    invalpha = 1.1239 + 1.1328 / (b - 3.4);\n    vr = 0.9277 - 3.6224 / (b - 2);\n\n    while (1) {\n      U = Math.random() - 0.5;\n      V = Math.random();\n      us = 0.5 - Math.abs(U);\n      k = Math.floor((2 * a / us + b) * U + lam + 0.43);\n      if ((us >= 0.07) && (V <= vr)) {\n          return k;\n      }\n      if ((k < 0) || ((us < 0.013) && (V > us))) {\n          continue;\n      }\n      /* log(V) == log(0.0) ok here */\n      /* if U==0.0 so that us==0.0, log is ok since always returns */\n      if ((Math.log(V) + Math.log(invalpha) - Math.log(a / (us * us) + b)) <= (-lam + k * loglam - jStat.loggam(k + 1))) {\n          return k;\n      }\n    }\n  },\n\n  sample: function sample(l) {\n    if (l < 10)\n      return this.sampleSmall(l);\n    else\n      return this.sampleLarge(l);\n  }\n});\n\n// extend triangular function with static methods\njStat.extend(jStat.triangular, {\n  pdf: function pdf(x, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (x < a || x > b) {\n        return 0;\n      } else if (x < c) {\n          return (2 * (x - a)) / ((b - a) * (c - a));\n      } else if (x === c) {\n          return (2 / (b - a));\n      } else { // x > c\n          return (2 * (b - x)) / ((b - a) * (b - c));\n      }\n    }\n  },\n\n  cdf: function cdf(x, a, b, c) {\n    if (b <= a || c < a || c > b)\n      return NaN;\n    if (x <= a)\n      return 0;\n    else if (x >= b)\n      return 1;\n    if (x <= c)\n      return Math.pow(x - a, 2) / ((b - a) * (c - a));\n    else // x > c\n      return 1 - Math.pow(b - x, 2) / ((b - a) * (b - c));\n  },\n\n  inv: function inv(p, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (p <= ((c - a) / (b - a))) {\n        return a + (b - a) * Math.sqrt(p * ((c - a) / (b - a)));\n      } else { // p > ((c - a) / (b - a))\n        return a + (b - a) * (1 - Math.sqrt((1 - p) * (1 - ((c - a) / (b - a)))));\n      }\n    }\n  },\n\n  mean: function mean(a, b, c) {\n    return (a + b + c) / 3;\n  },\n\n  median: function median(a, b, c) {\n    if (c <= (a + b) / 2) {\n      return b - Math.sqrt((b - a) * (b - c)) / Math.sqrt(2);\n    } else if (c > (a + b) / 2) {\n      return a + Math.sqrt((b - a) * (c - a)) / Math.sqrt(2);\n    }\n  },\n\n  mode: function mode(a, b, c) {\n    return c;\n  },\n\n  sample: function sample(a, b, c) {\n    var u = jStat._random_fn();\n    if (u < ((c - a) / (b - a)))\n      return a + Math.sqrt(u * (b - a) * (c - a))\n    return b - Math.sqrt((1 - u) * (b - a) * (b - c));\n  },\n\n  variance: function variance(a, b, c) {\n    return (a * a + b * b + c * c - a * b - a * c - b * c) / 18;\n  }\n});\n\n\n// extend arcsine function with static methods\njStat.extend(jStat.arcsine, {\n  pdf: function pdf(x, a, b) {\n    if (b <= a) return NaN;\n\n    return (x <= a || x >= b) ? 0 :\n      (2 / Math.PI) *\n        Math.pow(Math.pow(b - a, 2) -\n                  Math.pow(2 * x - a - b, 2), -0.5);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (2 / Math.PI) * Math.asin(Math.sqrt((x - a)/(b - a)));\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (0.5 - 0.5 * Math.cos(Math.PI * p)) * (b - a);\n  },\n\n  mean: function mean(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  median: function median(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return ((a + b) / 2) + ((b - a) / 2) *\n      Math.sin(2 * Math.PI * jStat.uniform.sample(0, 1));\n  },\n\n  variance: function variance(a, b) {\n    if (b <= a) return NaN;\n    return Math.pow(b - a, 2) / 8;\n  }\n});\n\n\nfunction laplaceSign(x) { return x / Math.abs(x); }\n\njStat.extend(jStat.laplace, {\n  pdf: function pdf(x, mu, b) {\n    return (b <= 0) ? 0 : (Math.exp(-Math.abs(x - mu) / b)) / (2 * b);\n  },\n\n  cdf: function cdf(x, mu, b) {\n    if (b <= 0) { return 0; }\n\n    if(x < mu) {\n      return 0.5 * Math.exp((x - mu) / b);\n    } else {\n      return 1 - 0.5 * Math.exp(- (x - mu) / b);\n    }\n  },\n\n  mean: function(mu/*, b*/) {\n    return mu;\n  },\n\n  median: function(mu/*, b*/) {\n    return mu;\n  },\n\n  mode: function(mu/*, b*/) {\n    return mu;\n  },\n\n  variance: function(mu, b) {\n    return 2 * b * b;\n  },\n\n  sample: function sample(mu, b) {\n    var u = jStat._random_fn() - 0.5;\n\n    return mu - (b * laplaceSign(u) * Math.log(1 - (2 * Math.abs(u))));\n  }\n});\n\nfunction tukeyWprob(w, rr, cc) {\n  var nleg = 12;\n  var ihalf = 6;\n\n  var C1 = -30;\n  var C2 = -50;\n  var C3 = 60;\n  var bb   = 8;\n  var wlar = 3;\n  var wincr1 = 2;\n  var wincr2 = 3;\n  var xleg = [\n    0.981560634246719250690549090149,\n    0.904117256370474856678465866119,\n    0.769902674194304687036893833213,\n    0.587317954286617447296702418941,\n    0.367831498998180193752691536644,\n    0.125233408511468915472441369464\n  ];\n  var aleg = [\n    0.047175336386511827194615961485,\n    0.106939325995318430960254718194,\n    0.160078328543346226334652529543,\n    0.203167426723065921749064455810,\n    0.233492536538354808760849898925,\n    0.249147045813402785000562436043\n  ];\n\n  var qsqz = w * 0.5;\n\n  // if w >= 16 then the integral lower bound (occurs for c=20)\n  // is 0.99999999999995 so return a value of 1.\n\n  if (qsqz >= bb)\n    return 1.0;\n\n  // find (f(w/2) - 1) ^ cc\n  // (first term in integral of hartley's form).\n\n  var pr_w = 2 * jStat.normal.cdf(qsqz, 0, 1, 1, 0) - 1; // erf(qsqz / M_SQRT2)\n  // if pr_w ^ cc < 2e-22 then set pr_w = 0\n  if (pr_w >= Math.exp(C2 / cc))\n    pr_w = Math.pow(pr_w, cc);\n  else\n    pr_w = 0.0;\n\n  // if w is large then the second component of the\n  // integral is small, so fewer intervals are needed.\n\n  var wincr;\n  if (w > wlar)\n    wincr = wincr1;\n  else\n    wincr = wincr2;\n\n  // find the integral of second term of hartley's form\n  // for the integral of the range for equal-length\n  // intervals using legendre quadrature.  limits of\n  // integration are from (w/2, 8).  two or three\n  // equal-length intervals are used.\n\n  // blb and bub are lower and upper limits of integration.\n\n  var blb = qsqz;\n  var binc = (bb - qsqz) / wincr;\n  var bub = blb + binc;\n  var einsum = 0.0;\n\n  // integrate over each interval\n\n  var cc1 = cc - 1.0;\n  for (var wi = 1; wi <= wincr; wi++) {\n    var elsum = 0.0;\n    var a = 0.5 * (bub + blb);\n\n    // legendre quadrature with order = nleg\n\n    var b = 0.5 * (bub - blb);\n\n    for (var jj = 1; jj <= nleg; jj++) {\n      var j, xx;\n      if (ihalf < jj) {\n        j = (nleg - jj) + 1;\n        xx = xleg[j-1];\n      } else {\n        j = jj;\n        xx = -xleg[j-1];\n      }\n      var c = b * xx;\n      var ac = a + c;\n\n      // if exp(-qexpo/2) < 9e-14,\n      // then doesn't contribute to integral\n\n      var qexpo = ac * ac;\n      if (qexpo > C3)\n        break;\n\n      var pplus = 2 * jStat.normal.cdf(ac, 0, 1, 1, 0);\n      var pminus= 2 * jStat.normal.cdf(ac, w, 1, 1, 0);\n\n      // if rinsum ^ (cc-1) < 9e-14,\n      // then doesn't contribute to integral\n\n      var rinsum = (pplus * 0.5) - (pminus * 0.5);\n      if (rinsum >= Math.exp(C1 / cc1)) {\n        rinsum = (aleg[j-1] * Math.exp(-(0.5 * qexpo))) * Math.pow(rinsum, cc1);\n        elsum += rinsum;\n      }\n    }\n    elsum *= (((2.0 * b) * cc) / Math.sqrt(2 * Math.PI));\n    einsum += elsum;\n    blb = bub;\n    bub += binc;\n  }\n\n  // if pr_w ^ rr < 9e-14, then return 0\n  pr_w += einsum;\n  if (pr_w <= Math.exp(C1 / rr))\n    return 0;\n\n  pr_w = Math.pow(pr_w, rr);\n  if (pr_w >= 1) // 1 was iMax was eps\n    return 1;\n  return pr_w;\n}\n\nfunction tukeyQinv(p, c, v) {\n  var p0 = 0.322232421088;\n  var q0 = 0.993484626060e-01;\n  var p1 = -1.0;\n  var q1 = 0.588581570495;\n  var p2 = -0.342242088547;\n  var q2 = 0.531103462366;\n  var p3 = -0.204231210125;\n  var q3 = 0.103537752850;\n  var p4 = -0.453642210148e-04;\n  var q4 = 0.38560700634e-02;\n  var c1 = 0.8832;\n  var c2 = 0.2368;\n  var c3 = 1.214;\n  var c4 = 1.208;\n  var c5 = 1.4142;\n  var vmax = 120.0;\n\n  var ps = 0.5 - 0.5 * p;\n  var yi = Math.sqrt(Math.log(1.0 / (ps * ps)));\n  var t = yi + (((( yi * p4 + p3) * yi + p2) * yi + p1) * yi + p0)\n     / (((( yi * q4 + q3) * yi + q2) * yi + q1) * yi + q0);\n  if (v < vmax) t += (t * t * t + t) / v / 4.0;\n  var q = c1 - c2 * t;\n  if (v < vmax) q += -c3 / v + c4 * t / v;\n  return t * (q * Math.log(c - 1.0) + c5);\n}\n\njStat.extend(jStat.tukey, {\n  cdf: function cdf(q, nmeans, df) {\n    // Identical implementation as the R ptukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var nlegq = 16;\n    var ihalfq = 8;\n\n    var eps1 = -30.0;\n    var eps2 = 1.0e-14;\n    var dhaf  = 100.0;\n    var dquar = 800.0;\n    var deigh = 5000.0;\n    var dlarg = 25000.0;\n    var ulen1 = 1.0;\n    var ulen2 = 0.5;\n    var ulen3 = 0.25;\n    var ulen4 = 0.125;\n    var xlegq = [\n      0.989400934991649932596154173450,\n      0.944575023073232576077988415535,\n      0.865631202387831743880467897712,\n      0.755404408355003033895101194847,\n      0.617876244402643748446671764049,\n      0.458016777657227386342419442984,\n      0.281603550779258913230460501460,\n      0.950125098376374401853193354250e-1\n    ];\n    var alegq = [\n      0.271524594117540948517805724560e-1,\n      0.622535239386478928628438369944e-1,\n      0.951585116824927848099251076022e-1,\n      0.124628971255533872052476282192,\n      0.149595988816576732081501730547,\n      0.169156519395002538189312079030,\n      0.182603415044923588866763667969,\n      0.189450610455068496285396723208\n    ];\n\n    if (q <= 0)\n      return 0;\n\n    // df must be > 1\n    // there must be at least two values\n\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (!Number.isFinite(q))\n      return 1;\n\n    if (df > dlarg)\n      return tukeyWprob(q, rr, cc);\n\n    // calculate leading constant\n\n    var f2 = df * 0.5;\n    var f2lf = ((f2 * Math.log(df)) - (df * Math.log(2))) - jStat.gammaln(f2);\n    var f21 = f2 - 1.0;\n\n    // integral is divided into unit, half-unit, quarter-unit, or\n    // eighth-unit length intervals depending on the value of the\n    // degrees of freedom.\n\n    var ff4 = df * 0.25;\n    var ulen;\n    if      (df <= dhaf)  ulen = ulen1;\n    else if (df <= dquar) ulen = ulen2;\n    else if (df <= deigh) ulen = ulen3;\n    else                  ulen = ulen4;\n\n    f2lf += Math.log(ulen);\n\n    // integrate over each subinterval\n\n    var ans = 0.0;\n\n    for (var i = 1; i <= 50; i++) {\n      var otsum = 0.0;\n\n      // legendre quadrature with order = nlegq\n      // nodes (stored in xlegq) are symmetric around zero.\n\n      var twa1 = (2 * i - 1) * ulen;\n\n      for (var jj = 1; jj <= nlegq; jj++) {\n        var j, t1;\n        if (ihalfq < jj) {\n          j = jj - ihalfq - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 + (xlegq[j] * ulen))))\n              - (((xlegq[j] * ulen) + twa1) * ff4);\n        } else {\n          j = jj - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 - (xlegq[j] * ulen))))\n              + (((xlegq[j] * ulen) - twa1) * ff4);\n        }\n\n        // if exp(t1) < 9e-14, then doesn't contribute to integral\n        var qsqz;\n        if (t1 >= eps1) {\n          if (ihalfq < jj) {\n            qsqz = q * Math.sqrt(((xlegq[j] * ulen) + twa1) * 0.5);\n          } else {\n            qsqz = q * Math.sqrt(((-(xlegq[j] * ulen)) + twa1) * 0.5);\n          }\n\n          // call wprob to find integral of range portion\n\n          var wprb = tukeyWprob(qsqz, rr, cc);\n          var rotsum = (wprb * alegq[j]) * Math.exp(t1);\n          otsum += rotsum;\n        }\n        // end legendre integral for interval i\n        // L200:\n      }\n\n      // if integral for interval i < 1e-14, then stop.\n      // However, in order to avoid small area under left tail,\n      // at least  1 / ulen  intervals are calculated.\n      if (i * ulen >= 1.0 && otsum <= eps2)\n        break;\n\n      // end of interval i\n      // L330:\n\n      ans += otsum;\n    }\n\n    if (otsum > eps2) { // not converged\n      throw new Error('tukey.cdf failed to converge');\n    }\n    if (ans > 1)\n      ans = 1;\n    return ans;\n  },\n\n  inv: function(p, nmeans, df) {\n    // Identical implementation as the R qtukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var eps = 0.0001;\n    var maxiter = 50;\n\n    // df must be > 1 ; there must be at least two values\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (p < 0 || p > 1) return NaN;\n    if (p === 0) return 0;\n    if (p === 1) return Infinity;\n\n    // Initial value\n\n    var x0 = tukeyQinv(p, cc, df);\n\n    // Find prob(value < x0)\n\n    var valx0 = jStat.tukey.cdf(x0, nmeans, df) - p;\n\n    // Find the second iterate and prob(value < x1).\n    // If the first iterate has probability value\n    // exceeding p then second iterate is 1 less than\n    // first iterate; otherwise it is 1 greater.\n\n    var x1;\n    if (valx0 > 0.0)\n      x1 = Math.max(0.0, x0 - 1.0);\n    else\n      x1 = x0 + 1.0;\n    var valx1 = jStat.tukey.cdf(x1, nmeans, df) - p;\n\n    // Find new iterate\n\n    var ans;\n    for(var iter = 1; iter < maxiter; iter++) {\n      ans = x1 - ((valx1 * (x1 - x0)) / (valx1 - valx0));\n      valx0 = valx1;\n\n      // New iterate must be >= 0\n\n      x0 = x1;\n      if (ans < 0.0) {\n        ans = 0.0;\n        valx1 = -p;\n      }\n      // Find prob(value < new iterate)\n\n      valx1 = jStat.tukey.cdf(ans, nmeans, df) - p;\n      x1 = ans;\n\n      // If the difference between two successive\n      // iterates is less than eps, stop\n\n      var xabs = Math.abs(x1 - x0);\n      if (xabs < eps)\n        return ans;\n    }\n\n    throw new Error('tukey.inv failed to converge');\n  }\n});\n\n}(jStat, Math));\n/* Provides functions for the solution of linear system of equations, integration, extrapolation,\n * interpolation, eigenvalue problems, differential equations and PCA analysis. */\n\n(function(jStat, Math) {\n\nvar push = Array.prototype.push;\nvar isArray = jStat.utils.isArray;\n\nfunction isUsable(arg) {\n  return isArray(arg) || arg instanceof jStat;\n}\n\njStat.extend({\n\n  // add a vector/matrix to a vector/matrix or scalar\n  add: function add(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value + arg[row][col];\n      });\n    }\n    return jStat.map(arr, function(value) { return value + arg; });\n  },\n\n  // subtract a vector or scalar from the vector\n  subtract: function subtract(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value - arg[row][col] || 0;\n      });\n    }\n    return jStat.map(arr, function(value) { return value - arg; });\n  },\n\n  // matrix division\n  divide: function divide(arr, arg) {\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.multiply(arr, jStat.inv(arg));\n    }\n    return jStat.map(arr, function(value) { return value / arg; });\n  },\n\n  // matrix multiplication\n  multiply: function multiply(arr, arg) {\n    var row, col, nrescols, sum, nrow, ncol, res, rescols;\n    // eg: arr = 2 arg = 3 -> 6 for res[0][0] statement closure\n    if (arr.length === undefined && arg.length === undefined) {\n      return arr * arg;\n    }\n    nrow = arr.length,\n    ncol = arr[0].length,\n    res = jStat.zeros(nrow, nrescols = (isUsable(arg)) ? arg[0].length : ncol),\n    rescols = 0;\n    if (isUsable(arg)) {\n      for (; rescols < nrescols; rescols++) {\n        for (row = 0; row < nrow; row++) {\n          sum = 0;\n          for (col = 0; col < ncol; col++)\n          sum += arr[row][col] * arg[col][rescols];\n          res[row][rescols] = sum;\n        }\n      }\n      return (nrow === 1 && rescols === 1) ? res[0][0] : res;\n    }\n    return jStat.map(arr, function(value) { return value * arg; });\n  },\n\n  // outer([1,2,3],[4,5,6])\n  // ===\n  // [[1],[2],[3]] times [[4,5,6]]\n  // ->\n  // [[4,5,6],[8,10,12],[12,15,18]]\n  outer:function outer(A, B) {\n    return jStat.multiply(A.map(function(t){ return [t] }), [B]);\n  },\n\n\n  // Returns the dot product of two matricies\n  dot: function dot(arr, arg) {\n    if (!isUsable(arr[0])) arr = [ arr ];\n    if (!isUsable(arg[0])) arg = [ arg ];\n    // convert column to row vector\n    var left = (arr[0].length === 1 && arr.length !== 1) ? jStat.transpose(arr) : arr,\n    right = (arg[0].length === 1 && arg.length !== 1) ? jStat.transpose(arg) : arg,\n    res = [],\n    row = 0,\n    nrow = left.length,\n    ncol = left[0].length,\n    sum, col;\n    for (; row < nrow; row++) {\n      res[row] = [];\n      sum = 0;\n      for (col = 0; col < ncol; col++)\n      sum += left[row][col] * right[row][col];\n      res[row] = sum;\n    }\n    return (res.length === 1) ? res[0] : res;\n  },\n\n  // raise every element by a scalar\n  pow: function pow(arr, arg) {\n    return jStat.map(arr, function(value) { return Math.pow(value, arg); });\n  },\n\n  // exponentiate every element\n  exp: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.exp(value); });\n  },\n\n  // generate the natural log of every element\n  log: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.log(value); });\n  },\n\n  // generate the absolute values of the vector\n  abs: function abs(arr) {\n    return jStat.map(arr, function(value) { return Math.abs(value); });\n  },\n\n  // computes the p-norm of the vector\n  // In the case that a matrix is passed, uses the first row as the vector\n  norm: function norm(arr, p) {\n    var nnorm = 0,\n    i = 0;\n    // check the p-value of the norm, and set for most common case\n    if (isNaN(p)) p = 2;\n    // check if multi-dimensional array, and make vector correction\n    if (isUsable(arr[0])) arr = arr[0];\n    // vector norm\n    for (; i < arr.length; i++) {\n      nnorm += Math.pow(Math.abs(arr[i]), p);\n    }\n    return Math.pow(nnorm, 1 / p);\n  },\n\n  // computes the angle between two vectors in rads\n  // In case a matrix is passed, this uses the first row as the vector\n  angle: function angle(arr, arg) {\n    return Math.acos(jStat.dot(arr, arg) / (jStat.norm(arr) * jStat.norm(arg)));\n  },\n\n  // augment one matrix by another\n  // Note: this function returns a matrix, not a jStat object\n  aug: function aug(a, b) {\n    var newarr = [];\n    var i;\n    for (i = 0; i < a.length; i++) {\n      newarr.push(a[i].slice());\n    }\n    for (i = 0; i < newarr.length; i++) {\n      push.apply(newarr[i], b[i]);\n    }\n    return newarr;\n  },\n\n  // The inv() function calculates the inverse of a matrix\n  // Create the inverse by augmenting the matrix by the identity matrix of the\n  // appropriate size, and then use G-J elimination on the augmented matrix.\n  inv: function inv(a) {\n    var rows = a.length;\n    var cols = a[0].length;\n    var b = jStat.identity(rows, cols);\n    var c = jStat.gauss_jordan(a, b);\n    var result = [];\n    var i = 0;\n    var j;\n\n    //We need to copy the inverse portion to a new matrix to rid G-J artifacts\n    for (; i < rows; i++) {\n      result[i] = [];\n      for (j = cols; j < c[0].length; j++)\n        result[i][j - cols] = c[i][j];\n    }\n    return result;\n  },\n\n  // calculate the determinant of a matrix\n  det: function det(a) {\n    var alen = a.length,\n    alend = alen * 2,\n    vals = new Array(alend),\n    rowshift = alen - 1,\n    colshift = alend - 1,\n    mrow = rowshift - alen + 1,\n    mcol = colshift,\n    i = 0,\n    result = 0,\n    j;\n    // check for special 2x2 case\n    if (alen === 2) {\n      return a[0][0] * a[1][1] - a[0][1] * a[1][0];\n    }\n    for (; i < alend; i++) {\n      vals[i] = 1;\n    }\n    for (i = 0; i < alen; i++) {\n      for (j = 0; j < alen; j++) {\n        vals[(mrow < 0) ? mrow + alen : mrow ] *= a[i][j];\n        vals[(mcol < alen) ? mcol + alen : mcol ] *= a[i][j];\n        mrow++;\n        mcol--;\n      }\n      mrow = --rowshift - alen + 1;\n      mcol = --colshift;\n    }\n    for (i = 0; i < alen; i++) {\n      result += vals[i];\n    }\n    for (; i < alend; i++) {\n      result -= vals[i];\n    }\n    return result;\n  },\n\n  gauss_elimination: function gauss_elimination(a, b) {\n    var i = 0,\n    j = 0,\n    n = a.length,\n    m = a[0].length,\n    factor = 1,\n    sum = 0,\n    x = [],\n    maug, pivot, temp, k;\n    a = jStat.aug(a, b);\n    maug = a[0].length;\n    for(i = 0; i < n; i++) {\n      pivot = a[i][i];\n      j = i;\n      for (k = i + 1; k < m; k++) {\n        if (pivot < Math.abs(a[k][i])) {\n          pivot = a[k][i];\n          j = k;\n        }\n      }\n      if (j != i) {\n        for(k = 0; k < maug; k++) {\n          temp = a[i][k];\n          a[i][k] = a[j][k];\n          a[j][k] = temp;\n        }\n      }\n      for (j = i + 1; j < n; j++) {\n        factor = a[j][i] / a[i][i];\n        for(k = i; k < maug; k++) {\n          a[j][k] = a[j][k] - factor * a[i][k];\n        }\n      }\n    }\n    for (i = n - 1; i >= 0; i--) {\n      sum = 0;\n      for (j = i + 1; j<= n - 1; j++) {\n        sum = sum + x[j] * a[i][j];\n      }\n      x[i] =(a[i][maug - 1] - sum) / a[i][i];\n    }\n    return x;\n  },\n\n  gauss_jordan: function gauss_jordan(a, b) {\n    var m = jStat.aug(a, b);\n    var h = m.length;\n    var w = m[0].length;\n    var c = 0;\n    var x, y, y2;\n    // find max pivot\n    for (y = 0; y < h; y++) {\n      var maxrow = y;\n      for (y2 = y+1; y2 < h; y2++) {\n        if (Math.abs(m[y2][y]) > Math.abs(m[maxrow][y]))\n          maxrow = y2;\n      }\n      var tmp = m[y];\n      m[y] = m[maxrow];\n      m[maxrow] = tmp\n      for (y2 = y+1; y2 < h; y2++) {\n        c = m[y2][y] / m[y][y];\n        for (x = y; x < w; x++) {\n          m[y2][x] -= m[y][x] * c;\n        }\n      }\n    }\n    // backsubstitute\n    for (y = h-1; y >= 0; y--) {\n      c = m[y][y];\n      for (y2 = 0; y2 < y; y2++) {\n        for (x = w-1; x > y-1; x--) {\n          m[y2][x] -= m[y][x] * m[y2][y] / c;\n        }\n      }\n      m[y][y] /= c;\n      for (x = h; x < w; x++) {\n        m[y][x] /= c;\n      }\n    }\n    return m;\n  },\n\n  // solve equation\n  // Ax=b\n  // A is upper triangular matrix\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[1,2,3]\n  // triaUpSolve(A,b) // -> [2.666,0.1666,1.666]\n  // if you use matrix style\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[[1],[2],[3]]\n  // will return [[2.666],[0.1666],[1.666]]\n  triaUpSolve: function triaUpSolve(A, b) {\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n    var matrix_mode = false;\n\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size - 1, -1, -1).forEach(function(i) {\n      parts = jStat.arange(i + 1, size).map(function(j) {\n        return x[j] * A[i][j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    });\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n  triaLowSolve: function triaLowSolve(A, b) {\n    // like to triaUpSolve but A is lower triangular matrix\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n\n    var matrix_mode=false;\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(j) {\n        return A[i][j] * x[j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    })\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n\n  // A -> [L,U]\n  // A=LU\n  // L is lower triangular matrix\n  // U is upper triangular matrix\n  lu: function lu(A) {\n    var size = A.length;\n    //var L=jStat.diagonal(jStat.ones(1,size)[0]);\n    var L = jStat.identity(size);\n    var R = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(t) {\n      R[0][t] = A[0][t];\n    });\n    jStat.arange(1, size).forEach(function(l) {\n      jStat.arange(l).forEach(function(i) {\n        parts = jStat.arange(i).map(function(jj) {\n          return L[l][jj] * R[jj][i];\n        });\n        L[l][i] = (A[l][i] - jStat.sum(parts)) / R[i][i];\n      });\n      jStat.arange(l, size).forEach(function(j) {\n        parts = jStat.arange(l).map(function(jj) {\n          return L[l][jj] * R[jj][j];\n        });\n        R[l][j] = A[parts.length][j] - jStat.sum(parts);\n      });\n    });\n    return [L, R];\n  },\n\n  // A -> T\n  // A=TT'\n  // T is lower triangular matrix\n  cholesky: function cholesky(A) {\n    var size = A.length;\n    var T = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(t) {\n        return Math.pow(T[i][t],2);\n      });\n      T[i][i] = Math.sqrt(A[i][i] - jStat.sum(parts));\n      jStat.arange(i + 1, size).forEach(function(j) {\n        parts = jStat.arange(i).map(function(t) {\n          return T[i][t] * T[j][t];\n        });\n        T[j][i] = (A[i][j] - jStat.sum(parts)) / T[i][i];\n      });\n    });\n    return T;\n  },\n\n\n  gauss_jacobi: function gauss_jacobi(a, b, x, r) {\n    var i = 0;\n    var j = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(d), jStat.add(l, u)), -1);\n    c = jStat.multiply(jStat.inv(d), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk,xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  gauss_seidel: function gauss_seidel(a, b, x, r) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d, l)), u), -1);\n    c = jStat.multiply(jStat.inv(jStat.add(d, l)), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i = i + 1;\n    }\n    return xk;\n  },\n\n  SOR: function SOR(a, b, x, r, w) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.inv(jStat.add(d, jStat.multiply(l, w))),\n                       jStat.subtract(jStat.multiply(d, 1 - w),\n                                      jStat.multiply(u, w)));\n    c = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,\n        jStat.multiply(l, w))), b), w);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  householder: function householder(a) {\n    var m = a.length;\n    var n = a[0].length;\n    var i = 0;\n    var w = [];\n    var p = [];\n    var alpha, r, k, j, factor;\n    for (; i < m - 1; i++) {\n      alpha = 0;\n      for (j = i + 1; j < n; j++)\n      alpha += (a[j][i] * a[j][i]);\n      factor = (a[i + 1][i] > 0) ? -1 : 1;\n      alpha = factor * Math.sqrt(alpha);\n      r = Math.sqrt((((alpha * alpha) - a[i + 1][i] * alpha) / 2));\n      w = jStat.zeros(m, 1);\n      w[i + 1][0] = (a[i + 1][i] - alpha) / (2 * r);\n      for (k = i + 2; k < m; k++) w[k][0] = a[k][i] / (2 * r);\n      p = jStat.subtract(jStat.identity(m, n),\n          jStat.multiply(jStat.multiply(w, jStat.transpose(w)), 2));\n      a = jStat.multiply(p, jStat.multiply(a, p));\n    }\n    return a;\n  },\n\n  // A -> [Q,R]\n  // Q is orthogonal matrix\n  // R is upper triangular\n  QR: (function() {\n    // x -> Q\n    // find a orthogonal matrix Q st.\n    // Qx=y\n    // y is [||x||,0,0,...]\n\n    // quick ref\n    var sum   = jStat.sum;\n    var range = jStat.arange;\n\n    function qr2(x) {\n      // quick impletation\n      // https://www.stat.wisc.edu/~larget/math496/qr.html\n\n      var n = x.length;\n      var p = x[0].length;\n\n      var r = jStat.zeros(p, p);\n      x = jStat.copy(x);\n\n      var i,j,k;\n      for(j = 0; j < p; j++){\n        r[j][j] = Math.sqrt(sum(range(n).map(function(i){\n          return x[i][j] * x[i][j];\n        })));\n        for(i = 0; i < n; i++){\n          x[i][j] = x[i][j] / r[j][j];\n        }\n        for(k = j+1; k < p; k++){\n          r[j][k] = sum(range(n).map(function(i){\n            return x[i][j] * x[i][k];\n          }));\n          for(i = 0; i < n; i++){\n            x[i][k] = x[i][k] - x[i][j]*r[j][k];\n          }\n        }\n      }\n      return [x, r];\n    }\n\n    return qr2;\n  }()),\n\n  lstsq: (function() {\n    // solve least squard problem for Ax=b as QR decomposition way if b is\n    // [[b1],[b2],[b3]] form will return [[x1],[x2],[x3]] array form solution\n    // else b is [b1,b2,b3] form will return [x1,x2,x3] array form solution\n    function R_I(A) {\n      A = jStat.copy(A);\n      var size = A.length;\n      var I = jStat.identity(size);\n      jStat.arange(size - 1, -1, -1).forEach(function(i) {\n        jStat.sliceAssign(\n            I, { row: i }, jStat.divide(jStat.slice(I, { row: i }), A[i][i]));\n        jStat.sliceAssign(\n            A, { row: i }, jStat.divide(jStat.slice(A, { row: i }), A[i][i]));\n        jStat.arange(i).forEach(function(j) {\n          var c = jStat.multiply(A[j][i], -1);\n          var Aj = jStat.slice(A, { row: j });\n          var cAi = jStat.multiply(jStat.slice(A, { row: i }), c);\n          jStat.sliceAssign(A, { row: j }, jStat.add(Aj, cAi));\n          var Ij = jStat.slice(I, { row: j });\n          var cIi = jStat.multiply(jStat.slice(I, { row: i }), c);\n          jStat.sliceAssign(I, { row: j }, jStat.add(Ij, cIi));\n        })\n      });\n      return I;\n    }\n\n    function qr_solve(A, b){\n      var array_mode = false;\n      if (b[0].length === undefined) {\n        // [c1,c2,c3] mode\n        b = b.map(function(x){ return [x] });\n        array_mode = true;\n      }\n      var QR = jStat.QR(A);\n      var Q = QR[0];\n      var R = QR[1];\n      var attrs = A[0].length;\n      var Q1 = jStat.slice(Q,{col:{end:attrs}});\n      var R1 = jStat.slice(R,{row:{end:attrs}});\n      var RI = R_I(R1);\n      var Q2 = jStat.transpose(Q1);\n\n      if(Q2[0].length === undefined){\n        Q2 = [Q2]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n      var x = jStat.multiply(jStat.multiply(RI, Q2), b);\n\n      if(x.length === undefined){\n        x = [[x]]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n\n      if (array_mode)\n        return x.map(function(i){ return i[0] });\n      return x;\n    }\n\n    return qr_solve;\n  }()),\n\n  jacobi: function jacobi(a) {\n    var condition = 1;\n    var n = a.length;\n    var e = jStat.identity(n, n);\n    var ev = [];\n    var b, i, j, p, q, maxim, theta, s;\n    // condition === 1 only if tolerance is not reached\n    while (condition === 1) {\n      maxim = a[0][1];\n      p = 0;\n      q = 1;\n      for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n          if (i != j) {\n            if (maxim < Math.abs(a[i][j])) {\n              maxim = Math.abs(a[i][j]);\n              p = i;\n              q = j;\n            }\n          }\n        }\n      }\n      if (a[p][p] === a[q][q])\n        theta = (a[p][q] > 0) ? Math.PI / 4 : -Math.PI / 4;\n      else\n        theta = Math.atan(2 * a[p][q] / (a[p][p] - a[q][q])) / 2;\n      s = jStat.identity(n, n);\n      s[p][p] = Math.cos(theta);\n      s[p][q] = -Math.sin(theta);\n      s[q][p] = Math.sin(theta);\n      s[q][q] = Math.cos(theta);\n      // eigen vector matrix\n      e = jStat.multiply(e, s);\n      b = jStat.multiply(jStat.multiply(jStat.inv(s), a), s);\n      a = b;\n      condition = 0;\n      for (i = 1; i < n; i++) {\n        for (j = 1; j < n; j++) {\n          if (i != j && Math.abs(a[i][j]) > 0.001) {\n            condition = 1;\n          }\n        }\n      }\n    }\n    for (i = 0; i < n; i++) ev.push(a[i][i]);\n    //returns both the eigenvalue and eigenmatrix\n    return [e, ev];\n  },\n\n  rungekutta: function rungekutta(f, h, p, t_j, u_j, order) {\n    var k1, k2, u_j1, k3, k4;\n    if (order === 2) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h, u_j + k1);\n        u_j1 = u_j + (k1 + k2) / 2;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    if (order === 4) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h / 2, u_j + k1 / 2);\n        k3 = h * f(t_j + h / 2, u_j + k2 / 2);\n        k4 = h * f(t_j +h, u_j + k3);\n        u_j1 = u_j + (k1 + 2 * k2 + 2 * k3 + k4) / 6;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    return u_j;\n  },\n\n  romberg: function romberg(f, a, b, order) {\n    var i = 0;\n    var h = (b - a) / 2;\n    var x = [];\n    var h1 = [];\n    var g = [];\n    var m, a1, j, k, I;\n    while (i < order / 2) {\n      I = f(a);\n      for (j = a, k = 0; j <= b; j = j + h, k++) x[k] = j;\n      m = x.length;\n      for (j = 1; j < m - 1; j++) {\n        I += (((j % 2) !== 0) ? 4 : 2) * f(x[j]);\n      }\n      I = (h / 3) * (I + f(b));\n      g[i] = I;\n      h /= 2;\n      i++;\n    }\n    a1 = g.length;\n    m = 1;\n    while (a1 !== 1) {\n      for (j = 0; j < a1 - 1; j++)\n      h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a1 = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  richardson: function richardson(X, f, x, h) {\n    function pos(X, x) {\n      var i = 0;\n      var n = X.length;\n      var p;\n      for (; i < n; i++)\n        if (X[i] === x) p = i;\n      return p;\n    }\n    var h_min = Math.abs(x - X[pos(X, x) + 1]);\n    var i = 0;\n    var g = [];\n    var h1 = [];\n    var y1, y2, m, a, j;\n    while (h >= h_min) {\n      y1 = pos(X, x + h);\n      y2 = pos(X, x);\n      g[i] = (f[y1] - 2 * f[y2] + f[2 * y2 - y1]) / (h * h);\n      h /= 2;\n      i++;\n    }\n    a = g.length;\n    m = 1;\n    while (a != 1) {\n      for (j = 0; j < a - 1; j++)\n        h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  simpson: function simpson(f, a, b, n) {\n    var h = (b - a) / n;\n    var I = f(a);\n    var x = [];\n    var j = a;\n    var k = 0;\n    var i = 1;\n    var m;\n    for (; j <= b; j = j + h, k++)\n      x[k] = j;\n    m = x.length;\n    for (; i < m - 1; i++) {\n      I += ((i % 2 !== 0) ? 4 : 2) * f(x[i]);\n    }\n    return (h / 3) * (I + f(b));\n  },\n\n  hermite: function hermite(X, F, dF, value) {\n    var n = X.length;\n    var p = 0;\n    var i = 0;\n    var l = [];\n    var dl = [];\n    var A = [];\n    var B = [];\n    var j;\n    for (; i < n; i++) {\n      l[i] = 1;\n      for (j = 0; j < n; j++) {\n        if (i != j) l[i] *= (value - X[j]) / (X[i] - X[j]);\n      }\n      dl[i] = 0;\n      for (j = 0; j < n; j++) {\n        if (i != j) dl[i] += 1 / (X [i] - X[j]);\n      }\n      A[i] = (1 - 2 * (value - X[i]) * dl[i]) * (l[i] * l[i]);\n      B[i] = (value - X[i]) * (l[i] * l[i]);\n      p += (A[i] * F[i] + B[i] * dF[i]);\n    }\n    return p;\n  },\n\n  lagrange: function lagrange(X, F, value) {\n    var p = 0;\n    var i = 0;\n    var j, l;\n    var n = X.length;\n    for (; i < n; i++) {\n      l = F[i];\n      for (j = 0; j < n; j++) {\n        // calculating the lagrange polynomial L_i\n        if (i != j) l *= (value - X[j]) / (X[i] - X[j]);\n      }\n      // adding the lagrange polynomials found above\n      p += l;\n    }\n    return p;\n  },\n\n  cubic_spline: function cubic_spline(X, F, value) {\n    var n = X.length;\n    var i = 0, j;\n    var A = [];\n    var B = [];\n    var alpha = [];\n    var c = [];\n    var h = [];\n    var b = [];\n    var d = [];\n    for (; i < n - 1; i++)\n      h[i] = X[i + 1] - X[i];\n    alpha[0] = 0;\n    for (i = 1; i < n - 1; i++) {\n      alpha[i] = (3 / h[i]) * (F[i + 1] - F[i]) -\n          (3 / h[i-1]) * (F[i] - F[i-1]);\n    }\n    for (i = 1; i < n - 1; i++) {\n      A[i] = [];\n      B[i] = [];\n      A[i][i-1] = h[i-1];\n      A[i][i] = 2 * (h[i - 1] + h[i]);\n      A[i][i+1] = h[i];\n      B[i][0] = alpha[i];\n    }\n    c = jStat.multiply(jStat.inv(A), B);\n    for (j = 0; j < n - 1; j++) {\n      b[j] = (F[j + 1] - F[j]) / h[j] - h[j] * (c[j + 1][0] + 2 * c[j][0]) / 3;\n      d[j] = (c[j + 1][0] - c[j][0]) / (3 * h[j]);\n    }\n    for (j = 0; j < n; j++) {\n      if (X[j] > value) break;\n    }\n    j -= 1;\n    return F[j] + (value - X[j]) * b[j] + jStat.sq(value-X[j]) *\n        c[j] + (value - X[j]) * jStat.sq(value - X[j]) * d[j];\n  },\n\n  gauss_quadrature: function gauss_quadrature() {\n    throw new Error('gauss_quadrature not yet implemented');\n  },\n\n  PCA: function PCA(X) {\n    var m = X.length;\n    var n = X[0].length;\n    var i = 0;\n    var j, temp1;\n    var u = [];\n    var D = [];\n    var result = [];\n    var temp2 = [];\n    var Y = [];\n    var Bt = [];\n    var B = [];\n    var C = [];\n    var V = [];\n    var Vt = [];\n    for (i = 0; i < m; i++) {\n      u[i] = jStat.sum(X[i]) / n;\n    }\n    for (i = 0; i < n; i++) {\n      B[i] = [];\n      for(j = 0; j < m; j++) {\n        B[i][j] = X[j][i] - u[j];\n      }\n    }\n    B = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      C[i] = [];\n      for (j = 0; j < m; j++) {\n        C[i][j] = (jStat.dot([B[i]], [B[j]])) / (n - 1);\n      }\n    }\n    result = jStat.jacobi(C);\n    V = result[0];\n    D = result[1];\n    Vt = jStat.transpose(V);\n    for (i = 0; i < D.length; i++) {\n      for (j = i; j < D.length; j++) {\n        if(D[i] < D[j])  {\n          temp1 = D[i];\n          D[i] = D[j];\n          D[j] = temp1;\n          temp2 = Vt[i];\n          Vt[i] = Vt[j];\n          Vt[j] = temp2;\n        }\n      }\n    }\n    Bt = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      Y[i] = [];\n      for (j = 0; j < Bt.length; j++) {\n        Y[i][j] = jStat.dot([Vt[i]], [Bt[j]]);\n      }\n    }\n    return [X, D, Vt, Y];\n  }\n});\n\n// extend jStat.fn with methods that require one argument\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function(arg, func) {\n      var tmpthis = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jStat.fn[passfunc].call(tmpthis, arg));\n        }, 15);\n        return this;\n      }\n      if (typeof jStat[passfunc](this, arg) === 'number')\n        return jStat[passfunc](this, arg);\n      else\n        return jStat(jStat[passfunc](this, arg));\n    };\n  }(funcs[i]));\n}('add divide multiply subtract dot pow exp log abs norm angle'.split(' ')));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\nvar slice = [].slice;\nvar isNumber = jStat.utils.isNumber;\nvar isArray = jStat.utils.isArray;\n\n// flag==true denotes use of sample standard deviation\n// Z Statistics\njStat.extend({\n  // 2 different parameter lists:\n  // (value, mean, sd)\n  // (value, array, flag)\n  zscore: function zscore() {\n    var args = slice.call(arguments);\n    if (isNumber(args[1])) {\n      return (args[0] - args[1]) / args[2];\n    }\n    return (args[0] - jStat.mean(args[1])) / jStat.stdev(args[1], args[2]);\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, sides)\n  // (zscore, sides)\n  // (value, array, sides, flag)\n  ztest: function ztest() {\n    var args = slice.call(arguments);\n    var z;\n    if (isArray(args[1])) {\n      // (value, array, sides, flag)\n      z = jStat.zscore(args[0],args[1],args[3]);\n      return (args[2] === 1) ?\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)) :\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)*2);\n    } else {\n      if (args.length > 2) {\n        // (value, mean, sd, sides)\n        z = jStat.zscore(args[0],args[1],args[2]);\n        return (args[3] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)* 2);\n      } else {\n        // (zscore, sides)\n        z = args[0];\n        return (args[1] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)*2);\n      }\n    }\n  }\n});\n\njStat.extend(jStat.fn, {\n  zscore: function zscore(value, flag) {\n    return (value - this.mean()) / this.stdev(flag);\n  },\n\n  ztest: function ztest(value, sides, flag) {\n    var zscore = Math.abs(this.zscore(value, flag));\n    return (sides === 1) ?\n      (jStat.normal.cdf(-zscore, 0, 1)) :\n      (jStat.normal.cdf(-zscore, 0, 1) * 2);\n  }\n});\n\n// T Statistics\njStat.extend({\n  // 2 parameter lists\n  // (value, mean, sd, n)\n  // (value, array)\n  tscore: function tscore() {\n    var args = slice.call(arguments);\n    return (args.length === 4) ?\n      ((args[0] - args[1]) / (args[2] / Math.sqrt(args[3]))) :\n      ((args[0] - jStat.mean(args[1])) /\n       (jStat.stdev(args[1], true) / Math.sqrt(args[1].length)));\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, n, sides)\n  // (tscore, n, sides)\n  // (value, array, sides)\n  ttest: function ttest() {\n    var args = slice.call(arguments);\n    var tscore;\n    if (args.length === 5) {\n      tscore = Math.abs(jStat.tscore(args[0], args[1], args[2], args[3]));\n      return (args[4] === 1) ?\n        (jStat.studentt.cdf(-tscore, args[3]-1)) :\n        (jStat.studentt.cdf(-tscore, args[3]-1)*2);\n    }\n    if (isNumber(args[1])) {\n      tscore = Math.abs(args[0])\n      return (args[2] == 1) ?\n        (jStat.studentt.cdf(-tscore, args[1]-1)) :\n        (jStat.studentt.cdf(-tscore, args[1]-1) * 2);\n    }\n    tscore = Math.abs(jStat.tscore(args[0], args[1]))\n    return (args[2] == 1) ?\n      (jStat.studentt.cdf(-tscore, args[1].length-1)) :\n      (jStat.studentt.cdf(-tscore, args[1].length-1) * 2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  tscore: function tscore(value) {\n    return (value - this.mean()) / (this.stdev(true) / Math.sqrt(this.cols()));\n  },\n\n  ttest: function ttest(value, sides) {\n    return (sides === 1) ?\n      (1 - jStat.studentt.cdf(Math.abs(this.tscore(value)), this.cols()-1)) :\n      (jStat.studentt.cdf(-Math.abs(this.tscore(value)), this.cols()-1)*2);\n  }\n});\n\n// F Statistics\njStat.extend({\n  // Paramter list is as follows:\n  // (array1, array2, array3, ...)\n  // or it is an array of arrays\n  // array of arrays conversion\n  anovafscore: function anovafscore() {\n    var args = slice.call(arguments),\n    expVar, sample, sampMean, sampSampMean, tmpargs, unexpVar, i, j;\n    if (args.length === 1) {\n      tmpargs = new Array(args[0].length);\n      for (i = 0; i < args[0].length; i++) {\n        tmpargs[i] = args[0][i];\n      }\n      args = tmpargs;\n    }\n    // Builds sample array\n    sample = new Array();\n    for (i = 0; i < args.length; i++) {\n      sample = sample.concat(args[i]);\n    }\n    sampMean = jStat.mean(sample);\n    // Computes the explained variance\n    expVar = 0;\n    for (i = 0; i < args.length; i++) {\n      expVar = expVar + args[i].length * Math.pow(jStat.mean(args[i]) - sampMean, 2);\n    }\n    expVar /= (args.length - 1);\n    // Computes unexplained variance\n    unexpVar = 0;\n    for (i = 0; i < args.length; i++) {\n      sampSampMean = jStat.mean(args[i]);\n      for (j = 0; j < args[i].length; j++) {\n        unexpVar += Math.pow(args[i][j] - sampSampMean, 2);\n      }\n    }\n    unexpVar /= (sample.length - args.length);\n    return expVar / unexpVar;\n  },\n\n  // 2 different paramter setups\n  // (array1, array2, array3, ...)\n  // (anovafscore, df1, df2)\n  anovaftest: function anovaftest() {\n    var args = slice.call(arguments),\n    df1, df2, n, i;\n    if (isNumber(args[0])) {\n      return 1 - jStat.centralF.cdf(args[0], args[1], args[2]);\n    }\n    var anovafscore = jStat.anovafscore(args);\n    df1 = args.length - 1;\n    n = 0;\n    for (i = 0; i < args.length; i++) {\n      n = n + args[i].length;\n    }\n    df2 = n - df1 - 1;\n    return 1 - jStat.centralF.cdf(anovafscore, df1, df2);\n  },\n\n  ftest: function ftest(fscore, df1, df2) {\n    return 1 - jStat.centralF.cdf(fscore, df1, df2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  anovafscore: function anovafscore() {\n    return jStat.anovafscore(this.toArray());\n  },\n\n  anovaftes: function anovaftes() {\n    var n = 0;\n    var i;\n    for (i = 0; i < this.length; i++) {\n      n = n + this[i].length;\n    }\n    return jStat.ftest(this.anovafscore(), this.length - 1, n - this.length);\n  }\n});\n\n// Tukey's range test\njStat.extend({\n  // 2 parameter lists\n  // (mean1, mean2, n1, n2, sd)\n  // (array1, array2, sd)\n  qscore: function qscore() {\n    var args = slice.call(arguments);\n    var mean1, mean2, n1, n2, sd;\n    if (isNumber(args[0])) {\n        mean1 = args[0];\n        mean2 = args[1];\n        n1 = args[2];\n        n2 = args[3];\n        sd = args[4];\n    } else {\n        mean1 = jStat.mean(args[0]);\n        mean2 = jStat.mean(args[1]);\n        n1 = args[0].length;\n        n2 = args[1].length;\n        sd = args[2];\n    }\n    return Math.abs(mean1 - mean2) / (sd * Math.sqrt((1 / n1 + 1 / n2) / 2));\n  },\n\n  // 3 different parameter lists:\n  // (qscore, n, k)\n  // (mean1, mean2, n1, n2, sd, n, k)\n  // (array1, array2, sd, n, k)\n  qtest: function qtest() {\n    var args = slice.call(arguments);\n\n    var qscore;\n    if (args.length === 3) {\n      qscore = args[0];\n      args = args.slice(1);\n    } else if (args.length === 7) {\n      qscore = jStat.qscore(args[0], args[1], args[2], args[3], args[4]);\n      args = args.slice(5);\n    } else {\n      qscore = jStat.qscore(args[0], args[1], args[2]);\n      args = args.slice(3);\n    }\n\n    var n = args[0];\n    var k = args[1];\n\n    return 1 - jStat.tukey.cdf(qscore, k, n - k);\n  },\n\n  tukeyhsd: function tukeyhsd(arrays) {\n    var sd = jStat.pooledstdev(arrays);\n    var means = arrays.map(function (arr) {return jStat.mean(arr);});\n    var n = arrays.reduce(function (n, arr) {return n + arr.length;}, 0);\n\n    var results = [];\n    for (var i = 0; i < arrays.length; ++i) {\n        for (var j = i + 1; j < arrays.length; ++j) {\n            var p = jStat.qtest(means[i], means[j], arrays[i].length, arrays[j].length, sd, n, arrays.length);\n            results.push([[i, j], p]);\n        }\n    }\n\n    return results;\n  }\n});\n\n// Error Bounds\njStat.extend({\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  normalci: function normalci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        jStat.stdev(args[2]) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  tci: function tci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[3] - 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[2].length - 1) *\n                        jStat.stdev(args[2], true) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  significant: function significant(pvalue, alpha) {\n    return pvalue < alpha;\n  }\n});\n\njStat.extend(jStat.fn, {\n  normalci: function normalci(value, alpha) {\n    return jStat.normalci(value, alpha, this.toArray());\n  },\n\n  tci: function tci(value, alpha) {\n    return jStat.tci(value, alpha, this.toArray());\n  }\n});\n\n// internal method for calculating the z-score for a difference of proportions test\nfunction differenceOfProportions(p1, n1, p2, n2) {\n  if (p1 > 1 || p2 > 1 || p1 <= 0 || p2 <= 0) {\n    throw new Error(\"Proportions should be greater than 0 and less than 1\")\n  }\n  var pooled = (p1 * n1 + p2 * n2) / (n1 + n2);\n  var se = Math.sqrt(pooled * (1 - pooled) * ((1/n1) + (1/n2)));\n  return (p1 - p2) / se;\n}\n\n// Difference of Proportions\njStat.extend(jStat.fn, {\n  oneSidedDifferenceOfProportions: function oneSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 1);\n  },\n\n  twoSidedDifferenceOfProportions: function twoSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 2);\n  }\n});\n\n}(jStat, Math));\njStat.models = (function(){\n  function sub_regress(exog) {\n    var var_count = exog[0].length;\n    var modelList = jStat.arange(var_count).map(function(endog_index) {\n      var exog_index =\n          jStat.arange(var_count).filter(function(i){return i!==endog_index});\n      return ols(jStat.col(exog, endog_index).map(function(x){ return x[0] }),\n                 jStat.col(exog, exog_index))\n    });\n    return modelList;\n  }\n\n  // do OLS model regress\n  // exog have include const columns ,it will not generate it .In fact, exog is\n  // \"design matrix\" look at\n  //https://en.wikipedia.org/wiki/Design_matrix\n  function ols(endog, exog) {\n    var nobs = endog.length;\n    var df_model = exog[0].length - 1;\n    var df_resid = nobs-df_model - 1;\n    var coef = jStat.lstsq(exog, endog);\n    var predict =\n        jStat.multiply(exog, coef.map(function(x) { return [x] }))\n            .map(function(p) { return p[0] });\n    var resid = jStat.subtract(endog, predict);\n    var ybar = jStat.mean(endog);\n    // constant cause problem\n    // var SST = jStat.sum(endog.map(function(y) {\n    //   return Math.pow(y-ybar,2);\n    // }));\n    var SSE = jStat.sum(predict.map(function(f) {\n      return Math.pow(f - ybar, 2);\n    }));\n    var SSR = jStat.sum(endog.map(function(y, i) {\n      return Math.pow(y - predict[i], 2);\n    }));\n    var SST = SSE + SSR;\n    var R2 = (SSE / SST);\n    return {\n        exog:exog,\n        endog:endog,\n        nobs:nobs,\n        df_model:df_model,\n        df_resid:df_resid,\n        coef:coef,\n        predict:predict,\n        resid:resid,\n        ybar:ybar,\n        SST:SST,\n        SSE:SSE,\n        SSR:SSR,\n        R2:R2\n    };\n  }\n\n  // H0: b_I=0\n  // H1: b_I!=0\n  function t_test(model) {\n    var subModelList = sub_regress(model.exog);\n    //var sigmaHat=jStat.stdev(model.resid);\n    var sigmaHat = Math.sqrt(model.SSR / (model.df_resid));\n    var seBetaHat = subModelList.map(function(mod) {\n      var SST = mod.SST;\n      var R2 = mod.R2;\n      return sigmaHat / Math.sqrt(SST * (1 - R2));\n    });\n    var tStatistic = model.coef.map(function(coef, i) {\n      return (coef - 0) / seBetaHat[i];\n    });\n    var pValue = tStatistic.map(function(t) {\n      var leftppf = jStat.studentt.cdf(t, model.df_resid);\n      return (leftppf > 0.5 ? 1 - leftppf : leftppf) * 2;\n    });\n    var c = jStat.studentt.inv(0.975, model.df_resid);\n    var interval95 = model.coef.map(function(coef, i) {\n      var d = c * seBetaHat[i];\n      return [coef - d, coef + d];\n    })\n    return {\n        se: seBetaHat,\n        t: tStatistic,\n        p: pValue,\n        sigmaHat: sigmaHat,\n        interval95: interval95\n    };\n  }\n\n  function F_test(model) {\n    var F_statistic =\n        (model.R2 / model.df_model) / ((1 - model.R2) / model.df_resid);\n    var fcdf = function(x, n1, n2) {\n      return jStat.beta.cdf(x / (n2 / n1 + x), n1 / 2, n2 / 2)\n    }\n    var pvalue = 1 - fcdf(F_statistic, model.df_model, model.df_resid);\n    return { F_statistic: F_statistic, pvalue: pvalue };\n  }\n\n  function ols_wrap(endog, exog) {\n    var model = ols(endog,exog);\n    var ttest = t_test(model);\n    var ftest = F_test(model);\n    // Provide the Wherry / Ezekiel / McNemar / Cohen Adjusted R^2\n    // Which matches the 'adjusted R^2' provided by R's lm package\n    var adjust_R2 =\n        1 - (1 - model.R2) * ((model.nobs - 1) / (model.df_resid));\n    model.t = ttest;\n    model.f = ftest;\n    model.adjust_R2 = adjust_R2;\n    return model;\n  }\n\n  return { ols: ols_wrap };\n})();\n//To regress, simply build X matrix\n//(append column of 1's) using\n//buildxmatrix and build the Y\n//matrix using buildymatrix\n//(simply the transpose)\n//and run regress.\n\n\n\n//Regressions\n\njStat.extend({\n  buildxmatrix: function buildxmatrix(){\n    //Parameters will be passed in as such\n    //(array1,array2,array3,...)\n    //as (x1,x2,x3,...)\n    //needs to be (1,x1,x2,x3,...)\n    var matrixRows = new Array(arguments.length);\n    for(var i=0;i<arguments.length;i++){\n      var array = [1];\n      matrixRows[i]= array.concat(arguments[i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  builddxmatrix: function builddxmatrix() {\n    //Paramters will be passed in as such\n    //([array1,array2,...]\n    var matrixRows = new Array(arguments[0].length);\n    for(var i=0;i<arguments[0].length;i++){\n      var array = [1]\n      matrixRows[i]= array.concat(arguments[0][i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  buildjxmatrix: function buildjxmatrix(jMat) {\n    //Builds from jStat Matrix\n    var pass = new Array(jMat.length)\n    for(var i=0;i<jMat.length;i++){\n      pass[i] = jMat[i];\n    }\n    return jStat.builddxmatrix(pass);\n\n  },\n\n  buildymatrix: function buildymatrix(array){\n    return jStat(array).transpose();\n  },\n\n  buildjymatrix: function buildjymatrix(jMat){\n    return jMat.transpose();\n  },\n\n  matrixmult: function matrixmult(A,B){\n    var i, j, k, result, sum;\n    if (A.cols() == B.rows()) {\n      if(B.rows()>1){\n        result = [];\n        for (i = 0; i < A.rows(); i++) {\n          result[i] = [];\n          for (j = 0; j < B.cols(); j++) {\n            sum = 0;\n            for (k = 0; k < A.cols(); k++) {\n              sum += A.toArray()[i][k] * B.toArray()[k][j];\n            }\n            result[i][j] = sum;\n          }\n        }\n        return jStat(result);\n      }\n      result = [];\n      for (i = 0; i < A.rows(); i++) {\n        result[i] = [];\n        for (j = 0; j < B.cols(); j++) {\n          sum = 0;\n          for (k = 0; k < A.cols(); k++) {\n            sum += A.toArray()[i][k] * B.toArray()[j];\n          }\n          result[i][j] = sum;\n        }\n      }\n      return jStat(result);\n    }\n  },\n\n  //regress and regresst to be fixed\n\n  regress: function regress(jMatX,jMatY){\n    //print(\"regressin!\");\n    //print(jMatX.toArray());\n    var innerinv = jStat.xtranspxinv(jMatX);\n    //print(innerinv);\n    var xtransp = jMatX.transpose();\n    var next = jStat.matrixmult(jStat(innerinv),xtransp);\n    return jStat.matrixmult(next,jMatY);\n\n  },\n\n  regresst: function regresst(jMatX,jMatY,sides){\n    var beta = jStat.regress(jMatX,jMatY);\n\n    var compile = {};\n    compile.anova = {};\n    var jMatYBar = jStat.jMatYBar(jMatX, beta);\n    compile.yBar = jMatYBar;\n    var yAverage = jMatY.mean();\n    compile.anova.residuals = jStat.residuals(jMatY, jMatYBar);\n\n    compile.anova.ssr = jStat.ssr(jMatYBar, yAverage);\n    compile.anova.msr = compile.anova.ssr / (jMatX[0].length - 1);\n\n    compile.anova.sse = jStat.sse(jMatY, jMatYBar);\n    compile.anova.mse =\n        compile.anova.sse / (jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.sst = jStat.sst(jMatY, yAverage);\n    compile.anova.mst = compile.anova.sst / (jMatY.length - 1);\n\n    compile.anova.r2 = 1 - (compile.anova.sse / compile.anova.sst);\n    if (compile.anova.r2 < 0) compile.anova.r2 = 0;\n\n    compile.anova.fratio = compile.anova.msr / compile.anova.mse;\n    compile.anova.pvalue =\n        jStat.anovaftest(compile.anova.fratio,\n                         jMatX[0].length - 1,\n                         jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.rmse = Math.sqrt(compile.anova.mse);\n\n    compile.anova.r2adj = 1 - (compile.anova.mse / compile.anova.mst);\n    if (compile.anova.r2adj < 0) compile.anova.r2adj = 0;\n\n    compile.stats = new Array(jMatX[0].length);\n    var covar = jStat.xtranspxinv(jMatX);\n    var sds, ts, ps;\n\n    for(var i=0; i<beta.length;i++){\n      sds=Math.sqrt(compile.anova.mse * Math.abs(covar[i][i]));\n      ts= Math.abs(beta[i] / sds);\n      ps= jStat.ttest(ts, jMatY.length - jMatX[0].length - 1, sides);\n\n      compile.stats[i]=[beta[i], sds, ts, ps];\n    }\n\n    compile.regress = beta;\n    return compile;\n  },\n\n  xtranspx: function xtranspx(jMatX){\n    return jStat.matrixmult(jMatX.transpose(),jMatX);\n  },\n\n\n  xtranspxinv: function xtranspxinv(jMatX){\n    var inner = jStat.matrixmult(jMatX.transpose(),jMatX);\n    var innerinv = jStat.inv(inner);\n    return innerinv;\n  },\n\n  jMatYBar: function jMatYBar(jMatX, beta) {\n    var yBar = jStat.matrixmult(jMatX, beta);\n    return new jStat(yBar);\n  },\n\n  residuals: function residuals(jMatY, jMatYBar) {\n    return jStat.matrixsubtract(jMatY, jMatYBar);\n  },\n\n  ssr: function ssr(jMatYBar, yAverage) {\n    var ssr = 0;\n    for(var i = 0; i < jMatYBar.length; i++) {\n      ssr += Math.pow(jMatYBar[i] - yAverage, 2);\n    }\n    return ssr;\n  },\n\n  sse: function sse(jMatY, jMatYBar) {\n    var sse = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sse += Math.pow(jMatY[i] - jMatYBar[i], 2);\n    }\n    return sse;\n  },\n\n  sst: function sst(jMatY, yAverage) {\n    var sst = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sst += Math.pow(jMatY[i] - yAverage, 2);\n    }\n    return sst;\n  },\n\n  matrixsubtract: function matrixsubtract(A,B){\n    var ans = new Array(A.length);\n    for(var i=0;i<A.length;i++){\n      ans[i] = new Array(A[i].length);\n      for(var j=0;j<A[i].length;j++){\n        ans[i][j]=A[i][j]-B[i][j];\n      }\n    }\n    return jStat(ans);\n  }\n});\n  // Make it compatible with previous version.\n  jStat.jStat = jStat;\n\n  return jStat;\n});\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar utils = __webpack_require__(1);\nvar error = __webpack_require__(0);\n\nexports.UNIQUE = function () {\n  var result = [];\n  for (var i = 0; i < arguments.length; ++i) {\n    var hasElement = false;\n    var element    = arguments[i];\n\n    // Check if we've already seen this element.\n    for (var j = 0; j < result.length; ++j) {\n      hasElement = result[j] === element;\n      if (hasElement) { break; }\n    }\n\n    // If we did not find it, add it to the result.\n    if (!hasElement) {\n      result.push(element);\n    }\n  }\n  return result;\n};\n\nexports.FLATTEN = utils.flatten;\n\nexports.ARGS2ARRAY = function () {\n  return Array.prototype.slice.call(arguments, 0);\n};\n\nexports.REFERENCE = function (context, reference) {\n  if (!arguments.length) {\n    return error.error;\n  }\n  try {\n    var path = reference.split('.');\n    var result = context;\n    for (var i = 0; i < path.length; ++i) {\n      var step = path[i];\n      if (step[step.length - 1] === ']') {\n        var opening = step.indexOf('[');\n        var index = step.substring(opening + 1, step.length - 1);\n        result = result[step.substring(0, opening)][index];\n      } else {\n        result = result[step];\n      }\n    }\n    return result;\n  } catch (error) {}\n};\n\nexports.JOIN = function (array, separator) {\n  return array.join(separator);\n};\n\nexports.NUMBERS = function () {\n  var possibleNumbers = utils.flatten(arguments);\n  return possibleNumbers.filter(function (el) {\n    return typeof el === 'number';\n  });\n};\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar error = __webpack_require__(0);\nvar jStat = __webpack_require__(10);\nvar text = __webpack_require__(6);\nvar utils = __webpack_require__(1);\nvar bessel = __webpack_require__(26);\n\nfunction isValidBinaryNumber(number) {\n  return (/^[01]{1,10}$/).test(number);\n}\n\nexports.BESSELI = function(x, n) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(x, n)) {\n    return error.value;\n  }\n\n  return bessel.besseli(x, n);\n};\n\nexports.BESSELJ = function(x, n) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(x, n)) {\n    return error.value;\n  }\n\n  return bessel.besselj(x, n);\n};\n\nexports.BESSELK = function(x, n) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(x, n)) {\n    return error.value;\n  }\n\n  return bessel.besselk(x, n);\n};\n\nexports.BESSELY = function(x, n) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(x, n)) {\n    return error.value;\n  }\n\n  return bessel.bessely(x, n);\n};\n\nexports.BIN2DEC = function(number) {\n  // Return error if number is not binary or contains more than 10 characters (10 digits)\n  if (!isValidBinaryNumber(number)) {\n    return error.num;\n  }\n\n  // Convert binary number to decimal\n  var result = parseInt(number, 2);\n\n  // Handle negative numbers\n  var stringified = number.toString();\n  if (stringified.length === 10 && stringified.substring(0, 1) === '1') {\n    return parseInt(stringified.substring(1), 2) - 512;\n  } else {\n    return result;\n  }\n};\n\n\nexports.BIN2HEX = function(number, places) {\n  // Return error if number is not binary or contains more than 10 characters (10 digits)\n  if (!isValidBinaryNumber(number)) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character hexadecimal number if number is negative\n  var stringified = number.toString();\n  if (stringified.length === 10 && stringified.substring(0, 1) === '1') {\n    return (1099511627264 + parseInt(stringified.substring(1), 2)).toString(16);\n  }\n\n  // Convert binary number to hexadecimal\n  var result = parseInt(number, 2).toString(16);\n\n  // Return hexadecimal number using the minimum number of characters necessary if places is undefined\n  if (places === undefined) {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.BIN2OCT = function(number, places) {\n  // Return error if number is not binary or contains more than 10 characters (10 digits)\n  if (!isValidBinaryNumber(number)) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character octal number if number is negative\n  var stringified = number.toString();\n  if (stringified.length === 10 && stringified.substring(0, 1) === '1') {\n    return (1073741312 + parseInt(stringified.substring(1), 2)).toString(8);\n  }\n\n  // Convert binary number to octal\n  var result = parseInt(number, 2).toString(8);\n\n  // Return octal number using the minimum number of characters necessary if places is undefined\n  if (places === undefined) {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.BITAND = function(number1, number2) {\n  // Return error if either number is a non-numeric value\n  number1 = utils.parseNumber(number1);\n  number2 = utils.parseNumber(number2);\n  if (utils.anyIsError(number1, number2)) {\n    return error.value;\n  }\n\n  // Return error if either number is less than 0\n  if (number1 < 0 || number2 < 0) {\n    return error.num;\n  }\n\n  // Return error if either number is a non-integer\n  if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {\n    return error.num;\n  }\n\n  // Return error if either number is greater than (2^48)-1\n  if (number1 > 281474976710655 || number2 > 281474976710655) {\n    return error.num;\n  }\n\n  // Return bitwise AND of two numbers\n  return number1 & number2;\n};\n\nexports.BITLSHIFT = function(number, shift) {\n  number = utils.parseNumber(number);\n  shift = utils.parseNumber(shift);\n  if (utils.anyIsError(number, shift)) {\n    return error.value;\n  }\n\n  // Return error if number is less than 0\n  if (number < 0) {\n    return error.num;\n  }\n\n  // Return error if number is a non-integer\n  if (Math.floor(number) !== number) {\n    return error.num;\n  }\n\n  // Return error if number is greater than (2^48)-1\n  if (number > 281474976710655) {\n    return error.num;\n  }\n\n  // Return error if the absolute value of shift is greater than 53\n  if (Math.abs(shift) > 53) {\n    return error.num;\n  }\n\n  // Return number shifted by shift bits to the left or to the right if shift is negative\n  return (shift >= 0) ? number << shift : number >> -shift;\n};\n\nexports.BITOR = function(number1, number2) {\n  number1 = utils.parseNumber(number1);\n  number2 = utils.parseNumber(number2);\n  if (utils.anyIsError(number1, number2)) {\n    return error.value;\n  }\n\n  // Return error if either number is less than 0\n  if (number1 < 0 || number2 < 0) {\n    return error.num;\n  }\n\n  // Return error if either number is a non-integer\n  if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {\n    return error.num;\n  }\n\n  // Return error if either number is greater than (2^48)-1\n  if (number1 > 281474976710655 || number2 > 281474976710655) {\n    return error.num;\n  }\n\n  // Return bitwise OR of two numbers\n  return number1 | number2;\n};\n\nexports.BITRSHIFT = function(number, shift) {\n  number = utils.parseNumber(number);\n  shift = utils.parseNumber(shift);\n  if (utils.anyIsError(number, shift)) {\n    return error.value;\n  }\n\n  // Return error if number is less than 0\n  if (number < 0) {\n    return error.num;\n  }\n\n  // Return error if number is a non-integer\n  if (Math.floor(number) !== number) {\n    return error.num;\n  }\n\n  // Return error if number is greater than (2^48)-1\n  if (number > 281474976710655) {\n    return error.num;\n  }\n\n  // Return error if the absolute value of shift is greater than 53\n  if (Math.abs(shift) > 53) {\n    return error.num;\n  }\n\n  // Return number shifted by shift bits to the right or to the left if shift is negative\n  return (shift >= 0) ? number >> shift : number << -shift;\n};\n\nexports.BITXOR = function(number1, number2) {\n  number1 = utils.parseNumber(number1);\n  number2 = utils.parseNumber(number2);\n  if (utils.anyIsError(number1, number2)) {\n    return error.value;\n  }\n\n  // Return error if either number is less than 0\n  if (number1 < 0 || number2 < 0) {\n    return error.num;\n  }\n\n  // Return error if either number is a non-integer\n  if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {\n    return error.num;\n  }\n\n  // Return error if either number is greater than (2^48)-1\n  if (number1 > 281474976710655 || number2 > 281474976710655) {\n    return error.num;\n  }\n\n  // Return bitwise XOR of two numbers\n  return number1 ^ number2;\n};\n\nexports.COMPLEX = function(real, imaginary, suffix) {\n  real = utils.parseNumber(real);\n  imaginary = utils.parseNumber(imaginary);\n  if (utils.anyIsError(real, imaginary)) {\n    return real;\n  }\n\n  // Set suffix\n  suffix = (suffix === undefined) ? 'i' : suffix;\n\n  // Return error if suffix is neither \"i\" nor \"j\"\n  if (suffix !== 'i' && suffix !== 'j') {\n    return error.value;\n  }\n\n  // Return complex number\n  if (real === 0 && imaginary === 0) {\n    return 0;\n  } else if (real === 0) {\n    return (imaginary === 1) ? suffix : imaginary.toString() + suffix;\n  } else if (imaginary === 0) {\n    return real.toString();\n  } else {\n    var sign = (imaginary > 0) ? '+' : '';\n    return real.toString() + sign + ((imaginary === 1) ? suffix : imaginary.toString() + suffix);\n  }\n};\n\nexports.CONVERT = function(number, from_unit, to_unit) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n\n  // List of units supported by CONVERT and units defined by the International System of Units\n  // [Name, Symbol, Alternate symbols, Quantity, ISU, CONVERT, Conversion ratio]\n  var units = [\n    [\"a.u. of action\", \"?\", null, \"action\", false, false, 1.05457168181818e-34],\n    [\"a.u. of charge\", \"e\", null, \"electric_charge\", false, false, 1.60217653141414e-19],\n    [\"a.u. of energy\", \"Eh\", null, \"energy\", false, false, 4.35974417757576e-18],\n    [\"a.u. of length\", \"a?\", null, \"length\", false, false, 5.29177210818182e-11],\n    [\"a.u. of mass\", \"m?\", null, \"mass\", false, false, 9.10938261616162e-31],\n    [\"a.u. of time\", \"?/Eh\", null, \"time\", false, false, 2.41888432650516e-17],\n    [\"admiralty knot\", \"admkn\", null, \"speed\", false, true, 0.514773333],\n    [\"ampere\", \"A\", null, \"electric_current\", true, false, 1],\n    [\"ampere per meter\", \"A/m\", null, \"magnetic_field_intensity\", true, false, 1],\n    [\"ångström\", \"Å\", [\"ang\"], \"length\", false, true, 1e-10],\n    [\"are\", \"ar\", null, \"area\", false, true, 100],\n    [\"astronomical unit\", \"ua\", null, \"length\", false, false, 1.49597870691667e-11],\n    [\"bar\", \"bar\", null, \"pressure\", false, false, 100000],\n    [\"barn\", \"b\", null, \"area\", false, false, 1e-28],\n    [\"becquerel\", \"Bq\", null, \"radioactivity\", true, false, 1],\n    [\"bit\", \"bit\", [\"b\"], \"information\", false, true, 1],\n    [\"btu\", \"BTU\", [\"btu\"], \"energy\", false, true, 1055.05585262],\n    [\"byte\", \"byte\", null, \"information\", false, true, 8],\n    [\"candela\", \"cd\", null, \"luminous_intensity\", true, false, 1],\n    [\"candela per square metre\", \"cd/m?\", null, \"luminance\", true, false, 1],\n    [\"coulomb\", \"C\", null, \"electric_charge\", true, false, 1],\n    [\"cubic ångström\", \"ang3\", [\"ang^3\"], \"volume\", false, true, 1e-30],\n    [\"cubic foot\", \"ft3\", [\"ft^3\"], \"volume\", false, true, 0.028316846592],\n    [\"cubic inch\", \"in3\", [\"in^3\"], \"volume\", false, true, 0.000016387064],\n    [\"cubic light-year\", \"ly3\", [\"ly^3\"], \"volume\", false, true, 8.46786664623715e-47],\n    [\"cubic metre\", \"m?\", null, \"volume\", true, true, 1],\n    [\"cubic mile\", \"mi3\", [\"mi^3\"], \"volume\", false, true, 4168181825.44058],\n    [\"cubic nautical mile\", \"Nmi3\", [\"Nmi^3\"], \"volume\", false, true, 6352182208],\n    [\"cubic Pica\", \"Pica3\", [\"Picapt3\", \"Pica^3\", \"Picapt^3\"], \"volume\", false, true, 7.58660370370369e-8],\n    [\"cubic yard\", \"yd3\", [\"yd^3\"], \"volume\", false, true, 0.764554857984],\n    [\"cup\", \"cup\", null, \"volume\", false, true, 0.0002365882365],\n    [\"dalton\", \"Da\", [\"u\"], \"mass\", false, false, 1.66053886282828e-27],\n    [\"day\", \"d\", [\"day\"], \"time\", false, true, 86400],\n    [\"degree\", \"°\", null, \"angle\", false, false, 0.0174532925199433],\n    [\"degrees Rankine\", \"Rank\", null, \"temperature\", false, true, 0.555555555555556],\n    [\"dyne\", \"dyn\", [\"dy\"], \"force\", false, true, 0.00001],\n    [\"electronvolt\", \"eV\", [\"ev\"], \"energy\", false, true, 1.60217656514141],\n    [\"ell\", \"ell\", null, \"length\", false, true, 1.143],\n    [\"erg\", \"erg\", [\"e\"], \"energy\", false, true, 1e-7],\n    [\"farad\", \"F\", null, \"electric_capacitance\", true, false, 1],\n    [\"fluid ounce\", \"oz\", null, \"volume\", false, true, 0.0000295735295625],\n    [\"foot\", \"ft\", null, \"length\", false, true, 0.3048],\n    [\"foot-pound\", \"flb\", null, \"energy\", false, true, 1.3558179483314],\n    [\"gal\", \"Gal\", null, \"acceleration\", false, false, 0.01],\n    [\"gallon\", \"gal\", null, \"volume\", false, true, 0.003785411784],\n    [\"gauss\", \"G\", [\"ga\"], \"magnetic_flux_density\", false, true, 1],\n    [\"grain\", \"grain\", null, \"mass\", false, true, 0.0000647989],\n    [\"gram\", \"g\", null, \"mass\", false, true, 0.001],\n    [\"gray\", \"Gy\", null, \"absorbed_dose\", true, false, 1],\n    [\"gross registered ton\", \"GRT\", [\"regton\"], \"volume\", false, true, 2.8316846592],\n    [\"hectare\", \"ha\", null, \"area\", false, true, 10000],\n    [\"henry\", \"H\", null, \"inductance\", true, false, 1],\n    [\"hertz\", \"Hz\", null, \"frequency\", true, false, 1],\n    [\"horsepower\", \"HP\", [\"h\"], \"power\", false, true, 745.69987158227],\n    [\"horsepower-hour\", \"HPh\", [\"hh\", \"hph\"], \"energy\", false, true, 2684519.538],\n    [\"hour\", \"h\", [\"hr\"], \"time\", false, true, 3600],\n    [\"imperial gallon (U.K.)\", \"uk_gal\", null, \"volume\", false, true, 0.00454609],\n    [\"imperial hundredweight\", \"lcwt\", [\"uk_cwt\", \"hweight\"], \"mass\", false, true, 50.802345],\n    [\"imperial quart (U.K)\", \"uk_qt\", null, \"volume\", false, true, 0.0011365225],\n    [\"imperial ton\", \"brton\", [\"uk_ton\", \"LTON\"], \"mass\", false, true, 1016.046909],\n    [\"inch\", \"in\", null, \"length\", false, true, 0.0254],\n    [\"international acre\", \"uk_acre\", null, \"area\", false, true, 4046.8564224],\n    [\"IT calorie\", \"cal\", null, \"energy\", false, true, 4.1868],\n    [\"joule\", \"J\", null, \"energy\", true, true, 1],\n    [\"katal\", \"kat\", null, \"catalytic_activity\", true, false, 1],\n    [\"kelvin\", \"K\", [\"kel\"], \"temperature\", true, true, 1],\n    [\"kilogram\", \"kg\", null, \"mass\", true, true, 1],\n    [\"knot\", \"kn\", null, \"speed\", false, true, 0.514444444444444],\n    [\"light-year\", \"ly\", null, \"length\", false, true, 9460730472580800],\n    [\"litre\", \"L\", [\"l\", \"lt\"], \"volume\", false, true, 0.001],\n    [\"lumen\", \"lm\", null, \"luminous_flux\", true, false, 1],\n    [\"lux\", \"lx\", null, \"illuminance\", true, false, 1],\n    [\"maxwell\", \"Mx\", null, \"magnetic_flux\", false, false, 1e-18],\n    [\"measurement ton\", \"MTON\", null, \"volume\", false, true, 1.13267386368],\n    [\"meter per hour\", \"m/h\", [\"m/hr\"], \"speed\", false, true, 0.00027777777777778],\n    [\"meter per second\", \"m/s\", [\"m/sec\"], \"speed\", true, true, 1],\n    [\"meter per second squared\", \"m?s??\", null, \"acceleration\", true, false, 1],\n    [\"parsec\", \"pc\", [\"parsec\"], \"length\", false, true, 30856775814671900],\n    [\"meter squared per second\", \"m?/s\", null, \"kinematic_viscosity\", true, false, 1],\n    [\"metre\", \"m\", null, \"length\", true, true, 1],\n    [\"miles per hour\", \"mph\", null, \"speed\", false, true, 0.44704],\n    [\"millimetre of mercury\", \"mmHg\", null, \"pressure\", false, false, 133.322],\n    [\"minute\", \"?\", null, \"angle\", false, false, 0.000290888208665722],\n    [\"minute\", \"min\", [\"mn\"], \"time\", false, true, 60],\n    [\"modern teaspoon\", \"tspm\", null, \"volume\", false, true, 0.000005],\n    [\"mole\", \"mol\", null, \"amount_of_substance\", true, false, 1],\n    [\"morgen\", \"Morgen\", null, \"area\", false, true, 2500],\n    [\"n.u. of action\", \"?\", null, \"action\", false, false, 1.05457168181818e-34],\n    [\"n.u. of mass\", \"m?\", null, \"mass\", false, false, 9.10938261616162e-31],\n    [\"n.u. of speed\", \"c?\", null, \"speed\", false, false, 299792458],\n    [\"n.u. of time\", \"?/(me?c??)\", null, \"time\", false, false, 1.28808866778687e-21],\n    [\"nautical mile\", \"M\", [\"Nmi\"], \"length\", false, true, 1852],\n    [\"newton\", \"N\", null, \"force\", true, true, 1],\n    [\"œrsted\", \"Oe \", null, \"magnetic_field_intensity\", false, false, 79.5774715459477],\n    [\"ohm\", \"Ω\", null, \"electric_resistance\", true, false, 1],\n    [\"ounce mass\", \"ozm\", null, \"mass\", false, true, 0.028349523125],\n    [\"pascal\", \"Pa\", null, \"pressure\", true, false, 1],\n    [\"pascal second\", \"Pa?s\", null, \"dynamic_viscosity\", true, false, 1],\n    [\"pferdestärke\", \"PS\", null, \"power\", false, true, 735.49875],\n    [\"phot\", \"ph\", null, \"illuminance\", false, false, 0.0001],\n    [\"pica (1/6 inch)\", \"pica\", null, \"length\", false, true, 0.00035277777777778],\n    [\"pica (1/72 inch)\", \"Pica\", [\"Picapt\"], \"length\", false, true, 0.00423333333333333],\n    [\"poise\", \"P\", null, \"dynamic_viscosity\", false, false, 0.1],\n    [\"pond\", \"pond\", null, \"force\", false, true, 0.00980665],\n    [\"pound force\", \"lbf\", null, \"force\", false, true, 4.4482216152605],\n    [\"pound mass\", \"lbm\", null, \"mass\", false, true, 0.45359237],\n    [\"quart\", \"qt\", null, \"volume\", false, true, 0.000946352946],\n    [\"radian\", \"rad\", null, \"angle\", true, false, 1],\n    [\"second\", \"?\", null, \"angle\", false, false, 0.00000484813681109536],\n    [\"second\", \"s\", [\"sec\"], \"time\", true, true, 1],\n    [\"short hundredweight\", \"cwt\", [\"shweight\"], \"mass\", false, true, 45.359237],\n    [\"siemens\", \"S\", null, \"electrical_conductance\", true, false, 1],\n    [\"sievert\", \"Sv\", null, \"equivalent_dose\", true, false, 1],\n    [\"slug\", \"sg\", null, \"mass\", false, true, 14.59390294],\n    [\"square ångström\", \"ang2\", [\"ang^2\"], \"area\", false, true, 1e-20],\n    [\"square foot\", \"ft2\", [\"ft^2\"], \"area\", false, true, 0.09290304],\n    [\"square inch\", \"in2\", [\"in^2\"], \"area\", false, true, 0.00064516],\n    [\"square light-year\", \"ly2\", [\"ly^2\"], \"area\", false, true, 8.95054210748189e+31],\n    [\"square meter\", \"m?\", null, \"area\", true, true, 1],\n    [\"square mile\", \"mi2\", [\"mi^2\"], \"area\", false, true, 2589988.110336],\n    [\"square nautical mile\", \"Nmi2\", [\"Nmi^2\"], \"area\", false, true, 3429904],\n    [\"square Pica\", \"Pica2\", [\"Picapt2\", \"Pica^2\", \"Picapt^2\"], \"area\", false, true, 0.00001792111111111],\n    [\"square yard\", \"yd2\", [\"yd^2\"], \"area\", false, true, 0.83612736],\n    [\"statute mile\", \"mi\", null, \"length\", false, true, 1609.344],\n    [\"steradian\", \"sr\", null, \"solid_angle\", true, false, 1],\n    [\"stilb\", \"sb\", null, \"luminance\", false, false, 0.0001],\n    [\"stokes\", \"St\", null, \"kinematic_viscosity\", false, false, 0.0001],\n    [\"stone\", \"stone\", null, \"mass\", false, true, 6.35029318],\n    [\"tablespoon\", \"tbs\", null, \"volume\", false, true, 0.0000147868],\n    [\"teaspoon\", \"tsp\", null, \"volume\", false, true, 0.00000492892],\n    [\"tesla\", \"T\", null, \"magnetic_flux_density\", true, true, 1],\n    [\"thermodynamic calorie\", \"c\", null, \"energy\", false, true, 4.184],\n    [\"ton\", \"ton\", null, \"mass\", false, true, 907.18474],\n    [\"tonne\", \"t\", null, \"mass\", false, false, 1000],\n    [\"U.K. pint\", \"uk_pt\", null, \"volume\", false, true, 0.00056826125],\n    [\"U.S. bushel\", \"bushel\", null, \"volume\", false, true, 0.03523907],\n    [\"U.S. oil barrel\", \"barrel\", null, \"volume\", false, true, 0.158987295],\n    [\"U.S. pint\", \"pt\", [\"us_pt\"], \"volume\", false, true, 0.000473176473],\n    [\"U.S. survey mile\", \"survey_mi\", null, \"length\", false, true, 1609.347219],\n    [\"U.S. survey/statute acre\", \"us_acre\", null, \"area\", false, true, 4046.87261],\n    [\"volt\", \"V\", null, \"voltage\", true, false, 1],\n    [\"watt\", \"W\", null, \"power\", true, true, 1],\n    [\"watt-hour\", \"Wh\", [\"wh\"], \"energy\", false, true, 3600],\n    [\"weber\", \"Wb\", null, \"magnetic_flux\", true, false, 1],\n    [\"yard\", \"yd\", null, \"length\", false, true, 0.9144],\n    [\"year\", \"yr\", null, \"time\", false, true, 31557600]\n  ];\n\n  // Binary prefixes\n  // [Name, Prefix power of 2 value, Previx value, Abbreviation, Derived from]\n  var binary_prefixes = {\n    Yi: [\"yobi\", 80, 1208925819614629174706176, \"Yi\", \"yotta\"],\n    Zi: [\"zebi\", 70, 1180591620717411303424, \"Zi\", \"zetta\"],\n    Ei: [\"exbi\", 60, 1152921504606846976, \"Ei\", \"exa\"],\n    Pi: [\"pebi\", 50, 1125899906842624, \"Pi\", \"peta\"],\n    Ti: [\"tebi\", 40, 1099511627776, \"Ti\", \"tera\"],\n    Gi: [\"gibi\", 30, 1073741824, \"Gi\", \"giga\"],\n    Mi: [\"mebi\", 20, 1048576, \"Mi\", \"mega\"],\n    ki: [\"kibi\", 10, 1024, \"ki\", \"kilo\"]\n  };\n\n  // Unit prefixes\n  // [Name, Multiplier, Abbreviation]\n  var unit_prefixes = {\n    Y: [\"yotta\", 1e+24, \"Y\"],\n    Z: [\"zetta\", 1e+21, \"Z\"],\n    E: [\"exa\", 1e+18, \"E\"],\n    P: [\"peta\", 1e+15, \"P\"],\n    T: [\"tera\", 1e+12, \"T\"],\n    G: [\"giga\", 1e+09, \"G\"],\n    M: [\"mega\", 1e+06, \"M\"],\n    k: [\"kilo\", 1e+03, \"k\"],\n    h: [\"hecto\", 1e+02, \"h\"],\n    e: [\"dekao\", 1e+01, \"e\"],\n    d: [\"deci\", 1e-01, \"d\"],\n    c: [\"centi\", 1e-02, \"c\"],\n    m: [\"milli\", 1e-03, \"m\"],\n    u: [\"micro\", 1e-06, \"u\"],\n    n: [\"nano\", 1e-09, \"n\"],\n    p: [\"pico\", 1e-12, \"p\"],\n    f: [\"femto\", 1e-15, \"f\"],\n    a: [\"atto\", 1e-18, \"a\"],\n    z: [\"zepto\", 1e-21, \"z\"],\n    y: [\"yocto\", 1e-24, \"y\"]\n  };\n\n  // Initialize units and multipliers\n  var from = null;\n  var to = null;\n  var base_from_unit = from_unit;\n  var base_to_unit = to_unit;\n  var from_multiplier = 1;\n  var to_multiplier = 1;\n  var alt;\n\n  // Lookup from and to units\n  for (var i = 0; i < units.length; i++) {\n    alt = (units[i][2] === null) ? [] : units[i][2];\n    if (units[i][1] === base_from_unit || alt.indexOf(base_from_unit) >= 0) {\n      from = units[i];\n    }\n    if (units[i][1] === base_to_unit || alt.indexOf(base_to_unit) >= 0) {\n      to = units[i];\n    }\n  }\n\n  // Lookup from prefix\n  if (from === null) {\n    var from_binary_prefix = binary_prefixes[from_unit.substring(0, 2)];\n    var from_unit_prefix = unit_prefixes[from_unit.substring(0, 1)];\n\n    // Handle dekao unit prefix (only unit prefix with two characters)\n    if (from_unit.substring(0, 2) === 'da') {\n      from_unit_prefix = [\"dekao\", 1e+01, \"da\"];\n    }\n\n    // Handle binary prefixes first (so that 'Yi' is processed before 'Y')\n    if (from_binary_prefix) {\n      from_multiplier = from_binary_prefix[2];\n      base_from_unit = from_unit.substring(2);\n    } else if (from_unit_prefix) {\n      from_multiplier = from_unit_prefix[1];\n      base_from_unit = from_unit.substring(from_unit_prefix[2].length);\n    }\n\n    // Lookup from unit\n    for (var j = 0; j < units.length; j++) {\n      alt = (units[j][2] === null) ? [] : units[j][2];\n      if (units[j][1] === base_from_unit || alt.indexOf(base_from_unit) >= 0) {\n        from = units[j];\n      }\n    }\n  }\n\n  // Lookup to prefix\n  if (to === null) {\n    var to_binary_prefix = binary_prefixes[to_unit.substring(0, 2)];\n    var to_unit_prefix = unit_prefixes[to_unit.substring(0, 1)];\n\n    // Handle dekao unit prefix (only unit prefix with two characters)\n    if (to_unit.substring(0, 2) === 'da') {\n      to_unit_prefix = [\"dekao\", 1e+01, \"da\"];\n    }\n\n    // Handle binary prefixes first (so that 'Yi' is processed before 'Y')\n    if (to_binary_prefix) {\n      to_multiplier = to_binary_prefix[2];\n      base_to_unit = to_unit.substring(2);\n    } else if (to_unit_prefix) {\n      to_multiplier = to_unit_prefix[1];\n      base_to_unit = to_unit.substring(to_unit_prefix[2].length);\n    }\n\n    // Lookup to unit\n    for (var k = 0; k < units.length; k++) {\n      alt = (units[k][2] === null) ? [] : units[k][2];\n      if (units[k][1] === base_to_unit || alt.indexOf(base_to_unit) >= 0) {\n        to = units[k];\n      }\n    }\n  }\n\n  // Return error if a unit does not exist\n  if (from === null || to === null) {\n    return error.na;\n  }\n\n  // Return error if units represent different quantities\n  if (from[3] !== to[3]) {\n    return error.na;\n  }\n\n  // Return converted number\n  return number * from[6] * from_multiplier / (to[6] * to_multiplier);\n};\n\nexports.DEC2BIN = function(number, places) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n\n  // Return error if number is not decimal, is lower than -512, or is greater than 511\n  if (!/^-?[0-9]{1,3}$/.test(number) || number < -512 || number > 511) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character binary number if number is negative\n  if (number < 0) {\n    return '1' + text.REPT('0', 9 - (512 + number).toString(2).length) + (512 + number).toString(2);\n  }\n\n  // Convert decimal number to binary\n  var result = parseInt(number, 10).toString(2);\n\n  // Return binary number using the minimum number of characters necessary if places is undefined\n  if (typeof places === 'undefined') {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.DEC2HEX = function(number, places) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n\n  // Return error if number is not decimal, is lower than -549755813888, or is greater than 549755813887\n  if (!/^-?[0-9]{1,12}$/.test(number) || number < -549755813888 || number > 549755813887) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character hexadecimal number if number is negative\n  if (number < 0) {\n    return (1099511627776 + number).toString(16);\n  }\n\n  // Convert decimal number to hexadecimal\n  var result = parseInt(number, 10).toString(16);\n\n  // Return hexadecimal number using the minimum number of characters necessary if places is undefined\n  if (typeof places === 'undefined') {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.DEC2OCT = function(number, places) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n\n  // Return error if number is not decimal, is lower than -549755813888, or is greater than 549755813887\n  if (!/^-?[0-9]{1,9}$/.test(number) || number < -536870912 || number > 536870911) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character octal number if number is negative\n  if (number < 0) {\n    return (1073741824 + number).toString(8);\n  }\n\n  // Convert decimal number to octal\n  var result = parseInt(number, 10).toString(8);\n\n  // Return octal number using the minimum number of characters necessary if places is undefined\n  if (typeof places === 'undefined') {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.DELTA = function(number1, number2) {\n  // Set number2 to zero if undefined\n  number2 = (number2 === undefined) ? 0 : number2;\n  number1 = utils.parseNumber(number1);\n  number2 = utils.parseNumber(number2);\n  if (utils.anyIsError(number1, number2)) {\n    return error.value;\n  }\n\n  // Return delta\n  return (number1 === number2) ? 1 : 0;\n};\n\n// TODO: why is upper_bound not used ? The excel documentation has no examples with upper_bound\nexports.ERF = function(lower_bound, upper_bound) {\n  // Set number2 to zero if undefined\n  upper_bound = (upper_bound === undefined) ? 0 : upper_bound;\n\n  lower_bound = utils.parseNumber(lower_bound);\n  upper_bound = utils.parseNumber(upper_bound);\n  if (utils.anyIsError(lower_bound, upper_bound)) {\n    return error.value;\n  }\n\n  return jStat.erf(lower_bound);\n};\n\n// TODO\nexports.ERF.PRECISE = function() {\n  throw new Error('ERF.PRECISE is not implemented');\n};\n\nexports.ERFC = function(x) {\n  // Return error if x is not a number\n  if (isNaN(x)) {\n    return error.value;\n  }\n\n  return jStat.erfc(x);\n};\n\n// TODO\nexports.ERFC.PRECISE = function() {\n  throw new Error('ERFC.PRECISE is not implemented');\n};\n\nexports.GESTEP = function(number, step) {\n  step = step || 0;\n  number = utils.parseNumber(number);\n  if (utils.anyIsError(step, number)) {\n    return number;\n  }\n\n  // Return delta\n  return (number >= step) ? 1 : 0;\n};\n\nexports.HEX2BIN = function(number, places) {\n  // Return error if number is not hexadecimal or contains more than ten characters (10 digits)\n  if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Check if number is negative\n  var negative = (number.length === 10 && number.substring(0, 1).toLowerCase() === 'f') ? true : false;\n\n  // Convert hexadecimal number to decimal\n  var decimal = (negative) ? parseInt(number, 16) - 1099511627776 : parseInt(number, 16);\n\n  // Return error if number is lower than -512 or greater than 511\n  if (decimal < -512 || decimal > 511) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character binary number if number is negative\n  if (negative) {\n    return '1' + text.REPT('0', 9 - (512 + decimal).toString(2).length) + (512 + decimal).toString(2);\n  }\n\n  // Convert decimal number to binary\n  var result = decimal.toString(2);\n\n  // Return binary number using the minimum number of characters necessary if places is undefined\n  if (places === undefined) {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.HEX2DEC = function(number) {\n  // Return error if number is not hexadecimal or contains more than ten characters (10 digits)\n  if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Convert hexadecimal number to decimal\n  var decimal = parseInt(number, 16);\n\n  // Return decimal number\n  return (decimal >= 549755813888) ? decimal - 1099511627776 : decimal;\n};\n\nexports.HEX2OCT = function(number, places) {\n  // Return error if number is not hexadecimal or contains more than ten characters (10 digits)\n  if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Convert hexadecimal number to decimal\n  var decimal = parseInt(number, 16);\n\n  // Return error if number is positive and greater than 0x1fffffff (536870911)\n  if (decimal > 536870911 && decimal < 1098974756864) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character octal number if number is negative\n  if (decimal >= 1098974756864) {\n    return (decimal - 1098437885952).toString(8);\n  }\n\n  // Convert decimal number to octal\n  var result = decimal.toString(8);\n\n  // Return octal number using the minimum number of characters necessary if places is undefined\n  if (places === undefined) {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.IMABS = function(inumber) {\n  // Lookup real and imaginary coefficients using exports.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  // Return error if either coefficient is not a number\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return absolute value of complex number\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n};\n\nexports.IMAGINARY = function(inumber) {\n  if (inumber === undefined || inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Return 0 if inumber is equal to 0\n  if (inumber === 0 || inumber === '0') {\n    return 0;\n  }\n\n  // Handle special cases\n  if (['i', 'j'].indexOf(inumber) >= 0) {\n    return 1;\n  }\n\n  // Normalize imaginary coefficient\n  inumber = inumber.replace('+i', '+1i').replace('-i', '-1i').replace('+j', '+1j').replace('-j', '-1j');\n\n  // Lookup sign\n  var plus = inumber.indexOf('+');\n  var minus = inumber.indexOf('-');\n  if (plus === 0) {\n    plus = inumber.indexOf('+', 1);\n  }\n\n  if (minus === 0) {\n    minus = inumber.indexOf('-', 1);\n  }\n\n  // Lookup imaginary unit\n  var last = inumber.substring(inumber.length - 1, inumber.length);\n  var unit = (last === 'i' || last === 'j');\n\n  if (plus >= 0 || minus >= 0) {\n    // Return error if imaginary unit is neither i nor j\n    if (!unit) {\n      return error.num;\n    }\n\n    // Return imaginary coefficient of complex number\n    if (plus >= 0) {\n      return (isNaN(inumber.substring(0, plus)) || isNaN(inumber.substring(plus + 1, inumber.length - 1))) ?\n        error.num :\n        Number(inumber.substring(plus + 1, inumber.length - 1));\n    } else {\n      return (isNaN(inumber.substring(0, minus)) || isNaN(inumber.substring(minus + 1, inumber.length - 1))) ?\n        error.num :\n        -Number(inumber.substring(minus + 1, inumber.length - 1));\n    }\n  } else {\n    if (unit) {\n      return (isNaN(inumber.substring(0, inumber.length - 1))) ? error.num : inumber.substring(0, inumber.length - 1);\n    } else {\n      return (isNaN(inumber)) ? error.num : 0;\n    }\n  }\n};\n\nexports.IMARGUMENT = function(inumber) {\n  // Lookup real and imaginary coefficients using exports.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  // Return error if either coefficient is not a number\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return error if inumber is equal to zero\n  if (x === 0 && y === 0) {\n    return error.div0;\n  }\n\n  // Return PI/2 if x is equal to zero and y is positive\n  if (x === 0 && y > 0) {\n    return Math.PI / 2;\n  }\n\n  // Return -PI/2 if x is equal to zero and y is negative\n  if (x === 0 && y < 0) {\n    return -Math.PI / 2;\n  }\n\n  // Return zero if x is negative and y is equal to zero\n  if (y === 0 && x > 0) {\n    return 0;\n  }\n\n  // Return zero if x is negative and y is equal to zero\n  if (y === 0 && x < 0) {\n    return -Math.PI;\n  }\n\n  // Return argument of complex number\n  if (x > 0) {\n    return Math.atan(y / x);\n  } else if (x < 0 && y >= 0) {\n    return Math.atan(y / x) + Math.PI;\n  } else {\n    return Math.atan(y / x) - Math.PI;\n  }\n};\n\nexports.IMCONJUGATE = function(inumber) {\n  // Lookup real and imaginary coefficients using exports.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return conjugate of complex number\n  return (y !== 0) ? exports.COMPLEX(x, -y, unit) : inumber;\n};\n\nexports.IMCOS = function(inumber) {\n  // Lookup real and imaginary coefficients using exports.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return cosine of complex number\n  return exports.COMPLEX(Math.cos(x) * (Math.exp(y) + Math.exp(-y)) / 2, -Math.sin(x) * (Math.exp(y) - Math.exp(-y)) / 2, unit);\n};\n\nexports.IMCOSH = function(inumber) {\n  // Lookup real and imaginary coefficients using exports.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return hyperbolic cosine of complex number\n  return exports.COMPLEX(Math.cos(y) * (Math.exp(x) + Math.exp(-x)) / 2, Math.sin(y) * (Math.exp(x) - Math.exp(-x)) / 2, unit);\n};\n\nexports.IMCOT = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return cotangent of complex number\n  return exports.IMDIV(exports.IMCOS(inumber), exports.IMSIN(inumber));\n};\n\nexports.IMDIV = function(inumber1, inumber2) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var a = exports.IMREAL(inumber1);\n  var b = exports.IMAGINARY(inumber1);\n  var c = exports.IMREAL(inumber2);\n  var d = exports.IMAGINARY(inumber2);\n\n  if (utils.anyIsError(a, b, c, d)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit1 = inumber1.substring(inumber1.length - 1);\n  var unit2 = inumber2.substring(inumber2.length - 1);\n  var unit = 'i';\n  if (unit1 === 'j') {\n    unit = 'j';\n  } else if (unit2 === 'j') {\n    unit = 'j';\n  }\n\n  // Return error if inumber2 is null\n  if (c === 0 && d === 0) {\n    return error.num;\n  }\n\n  // Return exponential of complex number\n  var den = c * c + d * d;\n  return exports.COMPLEX((a * c + b * d) / den, (b * c - a * d) / den, unit);\n};\n\nexports.IMEXP = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return exponential of complex number\n  var e = Math.exp(x);\n  return exports.COMPLEX(e * Math.cos(y), e * Math.sin(y), unit);\n};\n\nexports.IMLN = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return exponential of complex number\n  return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)), Math.atan(y / x), unit);\n};\n\nexports.IMLOG10 = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return exponential of complex number\n  return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)) / Math.log(10), Math.atan(y / x) / Math.log(10), unit);\n};\n\nexports.IMLOG2 = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return exponential of complex number\n  return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)) / Math.log(2), Math.atan(y / x) / Math.log(2), unit);\n};\n\nexports.IMPOWER = function(inumber, number) {\n  number = utils.parseNumber(number);\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n  if (utils.anyIsError(number, x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Calculate power of modulus\n  var p = Math.pow(exports.IMABS(inumber), number);\n\n  // Calculate argument\n  var t = exports.IMARGUMENT(inumber);\n\n  // Return exponential of complex number\n  return exports.COMPLEX(p * Math.cos(number * t), p * Math.sin(number * t), unit);\n};\n\nexports.IMPRODUCT = function() {\n  // Initialize result\n  var result = arguments[0];\n\n  if (!arguments.length) {\n    return error.value;\n  }\n\n  // Loop on all numbers\n  for (var i = 1; i < arguments.length; i++) {\n    // Lookup coefficients of two complex numbers\n    var a = exports.IMREAL(result);\n    var b = exports.IMAGINARY(result);\n    var c = exports.IMREAL(arguments[i]);\n    var d = exports.IMAGINARY(arguments[i]);\n\n    if (utils.anyIsError(a, b, c, d)) {\n      return error.value;\n    }\n\n    // Complute product of two complex numbers\n    result = exports.COMPLEX(a * c - b * d, a * d + b * c);\n  }\n\n  // Return product of complex numbers\n  return result;\n};\n\nexports.IMREAL = function(inumber) {\n  if (inumber === undefined || inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Return 0 if inumber is equal to 0\n  if (inumber === 0 || inumber === '0') {\n    return 0;\n  }\n\n  // Handle special cases\n  if (['i', '+i', '1i', '+1i', '-i', '-1i', 'j', '+j', '1j', '+1j', '-j', '-1j'].indexOf(inumber) >= 0) {\n    return 0;\n  }\n\n  // Lookup sign\n  var plus = inumber.indexOf('+');\n  var minus = inumber.indexOf('-');\n  if (plus === 0) {\n    plus = inumber.indexOf('+', 1);\n  }\n  if (minus === 0) {\n    minus = inumber.indexOf('-', 1);\n  }\n\n  // Lookup imaginary unit\n  var last = inumber.substring(inumber.length - 1, inumber.length);\n  var unit = (last === 'i' || last === 'j');\n\n  if (plus >= 0 || minus >= 0) {\n    // Return error if imaginary unit is neither i nor j\n    if (!unit) {\n      return error.num;\n    }\n\n    // Return real coefficient of complex number\n    if (plus >= 0) {\n      return (isNaN(inumber.substring(0, plus)) || isNaN(inumber.substring(plus + 1, inumber.length - 1))) ?\n        error.num :\n        Number(inumber.substring(0, plus));\n    } else {\n      return (isNaN(inumber.substring(0, minus)) || isNaN(inumber.substring(minus + 1, inumber.length - 1))) ?\n        error.num :\n        Number(inumber.substring(0, minus));\n    }\n  } else {\n    if (unit) {\n      return (isNaN(inumber.substring(0, inumber.length - 1))) ? error.num : 0;\n    } else {\n      return (isNaN(inumber)) ? error.num : inumber;\n    }\n  }\n};\n\nexports.IMSEC = function(inumber) {\n  // Return error if inumber is a logical value\n  if (inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return secant of complex number\n  return exports.IMDIV('1', exports.IMCOS(inumber));\n};\n\nexports.IMSECH = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return hyperbolic secant of complex number\n  return exports.IMDIV('1', exports.IMCOSH(inumber));\n};\n\nexports.IMSIN = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return sine of complex number\n  return exports.COMPLEX(Math.sin(x) * (Math.exp(y) + Math.exp(-y)) / 2, Math.cos(x) * (Math.exp(y) - Math.exp(-y)) / 2, unit);\n};\n\nexports.IMSINH = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return hyperbolic sine of complex number\n  return exports.COMPLEX(Math.cos(y) * (Math.exp(x) - Math.exp(-x)) / 2, Math.sin(y) * (Math.exp(x) + Math.exp(-x)) / 2, unit);\n};\n\nexports.IMSQRT = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Calculate power of modulus\n  var s = Math.sqrt(exports.IMABS(inumber));\n\n  // Calculate argument\n  var t = exports.IMARGUMENT(inumber);\n\n  // Return exponential of complex number\n  return exports.COMPLEX(s * Math.cos(t / 2), s * Math.sin(t / 2), unit);\n};\n\nexports.IMCSC = function (inumber) {\n  // Return error if inumber is a logical value\n  if (inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  // Return error if either coefficient is not a number\n  if (utils.anyIsError(x, y)) {\n    return error.num;\n  }\n\n  // Return cosecant of complex number\n  return exports.IMDIV('1', exports.IMSIN(inumber));\n};\n\nexports.IMCSCH = function (inumber) {\n  // Return error if inumber is a logical value\n  if (inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  // Return error if either coefficient is not a number\n  if (utils.anyIsError(x, y)) {\n    return error.num;\n  }\n\n  // Return hyperbolic cosecant of complex number\n  return exports.IMDIV('1', exports.IMSINH(inumber));\n};\n\nexports.IMSUB = function(inumber1, inumber2) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var a = this.IMREAL(inumber1);\n  var b = this.IMAGINARY(inumber1);\n  var c = this.IMREAL(inumber2);\n  var d = this.IMAGINARY(inumber2);\n\n  if (utils.anyIsError(a, b, c, d)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit1 = inumber1.substring(inumber1.length - 1);\n  var unit2 = inumber2.substring(inumber2.length - 1);\n  var unit = 'i';\n  if (unit1 === 'j') {\n    unit = 'j';\n  } else if (unit2 === 'j') {\n    unit = 'j';\n  }\n\n  // Return _ of two complex numbers\n  return this.COMPLEX(a - c, b - d, unit);\n};\n\nexports.IMSUM = function() {\n  if (!arguments.length) {\n    return error.value;\n  }\n  var args = utils.flatten(arguments);\n\n  // Initialize result\n  var result = args[0];\n\n  // Loop on all numbers\n  for (var i = 1; i < args.length; i++) {\n    // Lookup coefficients of two complex numbers\n    var a = this.IMREAL(result);\n    var b = this.IMAGINARY(result);\n    var c = this.IMREAL(args[i]);\n    var d = this.IMAGINARY(args[i]);\n\n    if (utils.anyIsError(a, b, c, d)) {\n      return error.value;\n    }\n\n    // Complute product of two complex numbers\n    result = this.COMPLEX(a + c, b + d);\n  }\n\n  // Return sum of complex numbers\n  return result;\n};\n\nexports.IMTAN = function(inumber) {\n  // Return error if inumber is a logical value\n  if (inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return tangent of complex number\n  return this.IMDIV(this.IMSIN(inumber), this.IMCOS(inumber));\n};\n\nexports.OCT2BIN = function(number, places) {\n  // Return error if number is not hexadecimal or contains more than ten characters (10 digits)\n  if (!/^[0-7]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Check if number is negative\n  var negative = (number.length === 10 && number.substring(0, 1) === '7') ? true : false;\n\n  // Convert octal number to decimal\n  var decimal = (negative) ? parseInt(number, 8) - 1073741824 : parseInt(number, 8);\n\n  // Return error if number is lower than -512 or greater than 511\n  if (decimal < -512 || decimal > 511) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character binary number if number is negative\n  if (negative) {\n    return '1' + text.REPT('0', 9 - (512 + decimal).toString(2).length) + (512 + decimal).toString(2);\n  }\n\n  // Convert decimal number to binary\n  var result = decimal.toString(2);\n\n  // Return binary number using the minimum number of characters necessary if places is undefined\n  if (typeof places === 'undefined') {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.OCT2DEC = function(number) {\n  // Return error if number is not octal or contains more than ten characters (10 digits)\n  if (!/^[0-7]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Convert octal number to decimal\n  var decimal = parseInt(number, 8);\n\n  // Return decimal number\n  return (decimal >= 536870912) ? decimal - 1073741824 : decimal;\n};\n\nexports.OCT2HEX = function(number, places) {\n  // Return error if number is not octal or contains more than ten characters (10 digits)\n  if (!/^[0-7]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Convert octal number to decimal\n  var decimal = parseInt(number, 8);\n\n  // Ignore places and return a 10-character octal number if number is negative\n  if (decimal >= 536870912) {\n    return 'ff' + (decimal + 3221225472).toString(16);\n  }\n\n  // Convert decimal number to hexadecimal\n  var result = decimal.toString(16);\n\n  // Return hexadecimal number using the minimum number of characters necessary if places is undefined\n  if (places === undefined) {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nvar SUPPORTED_FORMULAS = ['ABS', 'ACCRINT', 'ACOS', 'ACOSH', 'ACOT', 'ACOTH', 'ADD', 'AGGREGATE', 'AND', 'ARABIC', 'ARGS2ARRAY', 'ASIN', 'ASINH', 'ATAN', 'ATAN2', 'ATANH', 'AVEDEV', 'AVERAGE', 'AVERAGEA', 'AVERAGEIF', 'AVERAGEIFS', 'BASE', 'BESSELI', 'BESSELJ', 'BESSELK', 'BESSELY', 'BETA.DIST', 'BETA.INV', 'BETADIST', 'BETAINV', 'BIN2DEC', 'BIN2HEX', 'BIN2OCT', 'BINOM.DIST', 'BINOM.DIST.RANGE', 'BINOM.INV', 'BINOMDIST', 'BITAND', 'BITLSHIFT', 'BITOR', 'BITRSHIFT', 'BITXOR', 'CEILING', 'CEILINGMATH', 'CEILINGPRECISE', 'CHAR', 'CHISQ.DIST', 'CHISQ.DIST.RT', 'CHISQ.INV', 'CHISQ.INV.RT', 'CHOOSE', 'CHOOSE', 'CLEAN', 'CODE', 'COLUMN', 'COLUMNS', 'COMBIN', 'COMBINA', 'COMPLEX', 'CONCATENATE', 'CONFIDENCE', 'CONFIDENCE.NORM', 'CONFIDENCE.T', 'CONVERT', 'CORREL', 'COS', 'COSH', 'COT', 'COTH', 'COUNT', 'COUNTA', 'COUNTBLANK', 'COUNTIF', 'COUNTIFS', 'COUNTIN', 'COUNTUNIQUE', 'COVARIANCE.P', 'COVARIANCE.S', 'CSC', 'CSCH', 'CUMIPMT', 'CUMPRINC', 'DATE', 'DATEVALUE', 'DAY', 'DAYS', 'DAYS360', 'DB', 'DDB', 'DEC2BIN', 'DEC2HEX', 'DEC2OCT', 'DECIMAL', 'DEGREES', 'DELTA', 'DEVSQ', 'DIVIDE', 'DOLLARDE', 'DOLLARFR', 'E', 'EDATE', 'EFFECT', 'EOMONTH', 'EQ', 'ERF', 'ERFC', 'EVEN', 'EXACT', 'EXP', 'EXPON.DIST', 'EXPONDIST', 'F.DIST', 'F.DIST.RT', 'F.INV', 'F.INV.RT', 'FACT', 'FACTDOUBLE', 'FALSE', 'FDIST', 'FDISTRT', 'FIND', 'FINV', 'FINVRT', 'FISHER', 'FISHERINV', 'FLATTEN', 'FLOOR', 'FORECAST', 'FREQUENCY', 'FV', 'FVSCHEDULE', 'GAMMA', 'GAMMA.DIST', 'GAMMA.INV', 'GAMMADIST', 'GAMMAINV', 'GAMMALN', 'GAMMALN.PRECISE', 'GAUSS', 'GCD', 'GEOMEAN', 'GESTEP', 'GROWTH', 'GTE', 'HARMEAN', 'HEX2BIN', 'HEX2DEC', 'HEX2OCT', 'HOUR', 'HTML2TEXT', 'HYPGEOM.DIST', 'HYPGEOMDIST', 'IF', 'IMABS', 'IMAGINARY', 'IMARGUMENT', 'IMCONJUGATE', 'IMCOS', 'IMCOSH', 'IMCOT', 'IMCSC', 'IMCSCH', 'IMDIV', 'IMEXP', 'IMLN', 'IMLOG10', 'IMLOG2', 'IMPOWER', 'IMPRODUCT', 'IMREAL', 'IMSEC', 'IMSECH', 'IMSIN', 'IMSINH', 'IMSQRT', 'IMSUB', 'IMSUM', 'IMTAN', 'INT', 'INTERCEPT', 'INTERVAL', 'IPMT', 'IRR', 'ISBINARY', 'ISBLANK', 'ISEVEN', 'ISLOGICAL', 'ISNONTEXT', 'ISNUMBER', 'ISODD', 'ISODD', 'ISOWEEKNUM', 'ISPMT', 'ISTEXT', 'JOIN', 'KURT', 'LARGE', 'LCM', 'LEFT', 'LEN', 'LINEST', 'LN', 'LOG', 'LOG10', 'LOGEST', 'LOGNORM.DIST', 'LOGNORM.INV', 'LOGNORMDIST', 'LOGNORMINV', 'LOWER', 'LT', 'LTE', 'MATCH', 'MAX', 'MAXA', 'MEDIAN', 'MID', 'MIN', 'MINA', 'MINUS', 'MINUTE', 'MIRR', 'MOD', 'MODE.MULT', 'MODE.SNGL', 'MODEMULT', 'MODESNGL', 'MONTH', 'MROUND', 'MULTINOMIAL', 'MULTIPLY', 'NE', 'NEGBINOM.DIST', 'NEGBINOMDIST', 'NETWORKDAYS', 'NOMINAL', 'NORM.DIST', 'NORM.INV', 'NORM.S.DIST', 'NORM.S.INV', 'NORMDIST', 'NORMINV', 'NORMSDIST', 'NORMSINV', 'NOT', 'NOW', 'NPER', 'NPV', 'NUMBERS', 'OCT2BIN', 'OCT2DEC', 'OCT2HEX', 'ODD', 'OR', 'PDURATION', 'PEARSON', 'PERCENTILEEXC', 'PERCENTILEINC', 'PERCENTRANKEXC', 'PERCENTRANKINC', 'PERMUT', 'PERMUTATIONA', 'PHI', 'PI', 'PMT', 'POISSON.DIST', 'POISSONDIST', 'POW', 'POWER', 'PPMT', 'PROB', 'PRODUCT', 'PROPER', 'PV', 'QUARTILE.EXC', 'QUARTILE.INC', 'QUARTILEEXC', 'QUARTILEINC', 'QUOTIENT', 'RADIANS', 'RAND', 'RANDBETWEEN', 'RANK.AVG', 'RANK.EQ', 'RANKAVG', 'RANKEQ', 'RATE', 'REFERENCE', 'REGEXEXTRACT', 'REGEXMATCH', 'REGEXREPLACE', 'REPLACE', 'REPT', 'RIGHT', 'ROMAN', 'ROUND', 'ROUNDDOWN', 'ROUNDUP', 'ROW', 'ROWS', 'RRI', 'RSQ', 'SEARCH', 'SEC', 'SECH', 'SECOND', 'SERIESSUM', 'SIGN', 'SIN', 'SINH', 'SKEW', 'SKEW.P', 'SKEWP', 'SLN', 'SLOPE', 'SMALL', 'SPLIT', 'SPLIT', 'SQRT', 'SQRTPI', 'STANDARDIZE', 'STDEV.P', 'STDEV.S', 'STDEVA', 'STDEVP', 'STDEVPA', 'STDEVS', 'STEYX', 'SUBSTITUTE', 'SUBTOTAL', 'SUM', 'SUMIF', 'SUMIFS', 'SUMPRODUCT', 'SUMSQ', 'SUMX2MY2', 'SUMX2PY2', 'SUMXMY2', 'SWITCH', 'SYD', 'T', 'T.DIST', 'T.DIST.2T', 'T.DIST.RT', 'T.INV', 'T.INV.2T', 'TAN', 'TANH', 'TBILLEQ', 'TBILLPRICE', 'TBILLYIELD', 'TDIST', 'TDIST2T', 'TDISTRT', 'TIME', 'TIMEVALUE', 'TINV', 'TINV2T', 'TODAY', 'TRANSPOSE', 'TREND', 'TRIM', 'TRIMMEAN', 'TRUE', 'TRUNC', 'UNICHAR', 'UNICODE', 'UNIQUE', 'UPPER', 'VAR.P', 'VAR.S', 'VARA', 'VARP', 'VARPA', 'VARS', 'WEEKDAY', 'WEEKNUM', 'WEIBULL.DIST', 'WEIBULLDIST', 'WORKDAY', 'XIRR', 'XNPV', 'XOR', 'YEAR', 'YEARFRAC'];\n\nexports['default'] = SUPPORTED_FORMULAS;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.rowLabelToIndex = rowLabelToIndex;\nexports.rowIndexToLabel = rowIndexToLabel;\nexports.columnLabelToIndex = columnLabelToIndex;\nexports.columnIndexToLabel = columnIndexToLabel;\nexports.extractLabel = extractLabel;\nexports.toLabel = toLabel;\n/**\n * Convert row label to index.\n *\n * @param {String} label Row label (eq. '1', '5')\n * @returns {Number} Returns -1 if label is not recognized otherwise proper row index.\n */\nfunction rowLabelToIndex(label) {\n  var result = parseInt(label, 10);\n\n  if (isNaN(result)) {\n    result = -1;\n  } else {\n    result = Math.max(result - 1, -1);\n  }\n\n  return result;\n}\n\n/**\n * Convert row index to label.\n *\n * @param {Number} row Row index.\n * @returns {String} Returns row label (eq. '1', '7').\n */\nfunction rowIndexToLabel(row) {\n  var result = '';\n\n  if (row >= 0) {\n    result = '' + (row + 1);\n  }\n\n  return result;\n}\n\nvar COLUMN_LABEL_BASE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\nvar COLUMN_LABEL_BASE_LENGTH = COLUMN_LABEL_BASE.length;\n\n/**\n * Convert column label to index.\n *\n * @param {String} label Column label (eq. 'ABB', 'CNQ')\n * @returns {Number} Returns -1 if label is not recognized otherwise proper column index.\n */\nfunction columnLabelToIndex(label) {\n  var result = 0;\n\n  if (typeof label === 'string') {\n    label = label.toUpperCase();\n\n    for (var i = 0, j = label.length - 1; i < label.length; i += 1, j -= 1) {\n      result += Math.pow(COLUMN_LABEL_BASE_LENGTH, j) * (COLUMN_LABEL_BASE.indexOf(label[i]) + 1);\n    }\n  }\n  --result;\n\n  return result;\n}\n\n/**\n * Convert column index to label.\n *\n * @param {Number} column Column index.\n * @returns {String} Returns column label (eq. 'ABB', 'CNQ').\n */\nfunction columnIndexToLabel(column) {\n  var result = '';\n\n  while (column >= 0) {\n    result = String.fromCharCode(column % COLUMN_LABEL_BASE_LENGTH + 97) + result;\n    column = Math.floor(column / COLUMN_LABEL_BASE_LENGTH) - 1;\n  }\n\n  return result.toUpperCase();\n}\n\nvar LABEL_EXTRACT_REGEXP = /^([$])?([A-Za-z]+)([$])?([0-9]+)$/;\n\n/**\n * Extract cell coordinates.\n *\n * @param {String} label Cell coordinates (eq. 'A1', '$B6', '$N$98').\n * @returns {Array} Returns an array of objects.\n */\nfunction extractLabel(label) {\n  if (typeof label !== 'string' || !LABEL_EXTRACT_REGEXP.test(label)) {\n    return [];\n  }\n\n  var _label$toUpperCase$ma = label.toUpperCase().match(LABEL_EXTRACT_REGEXP),\n      columnAbs = _label$toUpperCase$ma[1],\n      column = _label$toUpperCase$ma[2],\n      rowAbs = _label$toUpperCase$ma[3],\n      row = _label$toUpperCase$ma[4];\n\n  return [{\n    index: rowLabelToIndex(row),\n    label: row,\n    isAbsolute: rowAbs === '$'\n  }, {\n    index: columnLabelToIndex(column),\n    label: column,\n    isAbsolute: columnAbs === '$'\n  }];\n}\n\n/**\n * Convert row and column indexes into cell label.\n *\n * @param {Object} row Object with `index` and `isAbsolute` properties.\n * @param {Object} column Object with `index` and `isAbsolute` properties.\n * @returns {String} Returns cell label.\n */\nfunction toLabel(row, column) {\n  var rowLabel = (row.isAbsolute ? '$' : '') + rowIndexToLabel(row.index);\n  var columnLabel = (column.isAbsolute ? '$' : '') + columnIndexToLabel(column.index);\n\n  return columnLabel + rowLabel;\n}\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.rowLabelToIndex = exports.rowIndexToLabel = exports.columnLabelToIndex = exports.columnIndexToLabel = exports.toLabel = exports.extractLabel = exports.error = exports.Parser = exports.ERROR_VALUE = exports.ERROR_REF = exports.ERROR_NUM = exports.ERROR_NULL = exports.ERROR_NOT_AVAILABLE = exports.ERROR_NAME = exports.ERROR_DIV_ZERO = exports.ERROR = exports.SUPPORTED_FORMULAS = undefined;\n\nvar _parser = __webpack_require__(16);\n\nvar _parser2 = _interopRequireDefault(_parser);\n\nvar _supportedFormulas = __webpack_require__(13);\n\nvar _supportedFormulas2 = _interopRequireDefault(_supportedFormulas);\n\nvar _error = __webpack_require__(2);\n\nvar _error2 = _interopRequireDefault(_error);\n\nvar _cell = __webpack_require__(14);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports.SUPPORTED_FORMULAS = _supportedFormulas2['default'];\nexports.ERROR = _error.ERROR;\nexports.ERROR_DIV_ZERO = _error.ERROR_DIV_ZERO;\nexports.ERROR_NAME = _error.ERROR_NAME;\nexports.ERROR_NOT_AVAILABLE = _error.ERROR_NOT_AVAILABLE;\nexports.ERROR_NULL = _error.ERROR_NULL;\nexports.ERROR_NUM = _error.ERROR_NUM;\nexports.ERROR_REF = _error.ERROR_REF;\nexports.ERROR_VALUE = _error.ERROR_VALUE;\nexports.Parser = _parser2['default'];\nexports.error = _error2['default'];\nexports.extractLabel = _cell.extractLabel;\nexports.toLabel = _cell.toLabel;\nexports.columnIndexToLabel = _cell.columnIndexToLabel;\nexports.columnLabelToIndex = _cell.columnLabelToIndex;\nexports.rowIndexToLabel = _cell.rowIndexToLabel;\nexports.rowLabelToIndex = _cell.rowLabelToIndex;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _tinyEmitter = __webpack_require__(17);\n\nvar _tinyEmitter2 = _interopRequireDefault(_tinyEmitter);\n\nvar _evaluateByOperator = __webpack_require__(18);\n\nvar _evaluateByOperator2 = _interopRequireDefault(_evaluateByOperator);\n\nvar _grammarParser = __webpack_require__(39);\n\nvar _string = __webpack_require__(40);\n\nvar _number = __webpack_require__(3);\n\nvar _error = __webpack_require__(2);\n\nvar _error2 = _interopRequireDefault(_error);\n\nvar _cell = __webpack_require__(14);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * @class Parser\n */\nvar Parser = function (_Emitter) {\n  _inherits(Parser, _Emitter);\n\n  function Parser() {\n    _classCallCheck(this, Parser);\n\n    var _this = _possibleConstructorReturn(this, _Emitter.call(this));\n\n    _this.parser = new _grammarParser.Parser();\n    _this.parser.yy = {\n      toNumber: _number.toNumber,\n      trimEdges: _string.trimEdges,\n      invertNumber: _number.invertNumber,\n      throwError: function throwError(errorName) {\n        return _this._throwError(errorName);\n      },\n      callVariable: function callVariable(variable) {\n        return _this._callVariable(variable);\n      },\n      evaluateByOperator: _evaluateByOperator2['default'],\n      callFunction: function callFunction(name, params) {\n        return _this._callFunction(name, params);\n      },\n      cellValue: function cellValue(value) {\n        return _this._callCellValue(value);\n      },\n      rangeValue: function rangeValue(start, end) {\n        return _this._callRangeValue(start, end);\n      }\n    };\n    _this.variables = Object.create(null);\n    _this.functions = Object.create(null);\n\n    _this.setVariable('TRUE', true).setVariable('FALSE', false).setVariable('NULL', null);\n    return _this;\n  }\n\n  /**\n   * Parse formula expression.\n   *\n   * @param {String} expression to parse.\n   * @return {*} Returns an object with tow properties `error` and `result`.\n   */\n\n\n  Parser.prototype.parse = function parse(expression) {\n    var result = null;\n    var error = null;\n\n    try {\n      if (expression === '') {\n        result = '';\n      } else {\n        result = this.parser.parse(expression);\n      }\n    } catch (ex) {\n      var message = (0, _error2['default'])(ex.message);\n\n      if (message) {\n        error = message;\n      } else {\n        error = (0, _error2['default'])(_error.ERROR);\n      }\n    }\n\n    if (result instanceof Error) {\n      error = (0, _error2['default'])(result.message) || (0, _error2['default'])(_error.ERROR);\n      result = null;\n    }\n\n    return {\n      error: error,\n      result: result\n    };\n  };\n\n  /**\n   * Set predefined variable name which can be visible while parsing formula expression.\n   *\n   * @param {String} name Variable name.\n   * @param {*} value Variable value.\n   * @returns {Parser}\n   */\n\n\n  Parser.prototype.setVariable = function setVariable(name, value) {\n    this.variables[name] = value;\n\n    return this;\n  };\n\n  /**\n   * Get variable name.\n   *\n   * @param {String} name Variable name.\n   * @returns {*}\n   */\n\n\n  Parser.prototype.getVariable = function getVariable(name) {\n    return this.variables[name];\n  };\n\n  /**\n   * Retrieve variable value by its name.\n   *\n   * @param name Variable name.\n   * @returns {*}\n   * @private\n   */\n\n\n  Parser.prototype._callVariable = function _callVariable(name) {\n    var value = this.getVariable(name);\n\n    this.emit('callVariable', name, function (newValue) {\n      if (newValue !== void 0) {\n        value = newValue;\n      }\n    });\n\n    if (value === void 0) {\n      throw Error(_error.ERROR_NAME);\n    }\n\n    return value;\n  };\n\n  /**\n   * Set custom function which can be visible while parsing formula expression.\n   *\n   * @param {String} name Custom function name.\n   * @param {Function} fn Custom function.\n   * @returns {Parser}\n   */\n\n\n  Parser.prototype.setFunction = function setFunction(name, fn) {\n    this.functions[name] = fn;\n\n    return this;\n  };\n\n  /**\n   * Get custom function.\n   *\n   * @param {String} name Custom function name.\n   * @returns {*}\n   */\n\n\n  Parser.prototype.getFunction = function getFunction(name) {\n    return this.functions[name];\n  };\n\n  /**\n   * Call function with provided params.\n   *\n   * @param name Function name.\n   * @param params Function params.\n   * @returns {*}\n   * @private\n   */\n\n\n  Parser.prototype._callFunction = function _callFunction(name) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var fn = this.getFunction(name);\n    var value = void 0;\n\n    if (fn) {\n      value = fn(params);\n    }\n\n    this.emit('callFunction', name, params, function (newValue) {\n      if (newValue !== void 0) {\n        value = newValue;\n      }\n    });\n\n    return value === void 0 ? (0, _evaluateByOperator2['default'])(name, params) : value;\n  };\n\n  /**\n   * Retrieve value by its label (`B3`, `B$3`, `B$3`, `$B$3`).\n   *\n   * @param {String} label Coordinates.\n   * @returns {*}\n   * @private\n   */\n\n\n  Parser.prototype._callCellValue = function _callCellValue(label) {\n    label = label.toUpperCase();\n\n    var _extractLabel = (0, _cell.extractLabel)(label),\n        row = _extractLabel[0],\n        column = _extractLabel[1];\n\n    var value = void 0;\n\n    this.emit('callCellValue', { label: label, row: row, column: column }, function (_value) {\n      value = _value;\n    });\n\n    return value;\n  };\n\n  /**\n   * Retrieve value by its label (`B3:A1`, `B$3:A1`, `B$3:$A1`, `$B$3:A$1`).\n   *\n   * @param {String} startLabel Coordinates of the first cell.\n   * @param {String} endLabel Coordinates of the last cell.\n   * @returns {Array} Returns an array of mixed values.\n   * @private\n   */\n\n\n  Parser.prototype._callRangeValue = function _callRangeValue(startLabel, endLabel) {\n    startLabel = startLabel.toUpperCase();\n    endLabel = endLabel.toUpperCase();\n\n    var _extractLabel2 = (0, _cell.extractLabel)(startLabel),\n        startRow = _extractLabel2[0],\n        startColumn = _extractLabel2[1];\n\n    var _extractLabel3 = (0, _cell.extractLabel)(endLabel),\n        endRow = _extractLabel3[0],\n        endColumn = _extractLabel3[1];\n\n    var startCell = {};\n    var endCell = {};\n\n    if (startRow.index <= endRow.index) {\n      startCell.row = startRow;\n      endCell.row = endRow;\n    } else {\n      startCell.row = endRow;\n      endCell.row = startRow;\n    }\n\n    if (startColumn.index <= endColumn.index) {\n      startCell.column = startColumn;\n      endCell.column = endColumn;\n    } else {\n      startCell.column = endColumn;\n      endCell.column = startColumn;\n    }\n\n    startCell.label = (0, _cell.toLabel)(startCell.row, startCell.column);\n    endCell.label = (0, _cell.toLabel)(endCell.row, endCell.column);\n\n    var value = [];\n\n    this.emit('callRangeValue', startCell, endCell, function () {\n      var _value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      value = _value;\n    });\n\n    return value;\n  };\n\n  /**\n   * Try to throw error by its name.\n   *\n   * @param {String} errorName Error name.\n   * @returns {String}\n   * @private\n   */\n\n\n  Parser.prototype._throwError = function _throwError(errorName) {\n    if ((0, _error.isValidStrict)(errorName)) {\n      throw Error(errorName);\n    }\n\n    throw Error(_error.ERROR);\n  };\n\n  return Parser;\n}(_tinyEmitter2['default']);\n\nexports['default'] = Parser;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports['default'] = evaluateByOperator;\nexports.registerOperation = registerOperation;\n\nvar _add = __webpack_require__(19);\n\nvar _add2 = _interopRequireDefault(_add);\n\nvar _ampersand = __webpack_require__(20);\n\nvar _ampersand2 = _interopRequireDefault(_ampersand);\n\nvar _divide = __webpack_require__(21);\n\nvar _divide2 = _interopRequireDefault(_divide);\n\nvar _equal = __webpack_require__(22);\n\nvar _equal2 = _interopRequireDefault(_equal);\n\nvar _formulaFunction = __webpack_require__(23);\n\nvar _formulaFunction2 = _interopRequireDefault(_formulaFunction);\n\nvar _greaterThan = __webpack_require__(31);\n\nvar _greaterThan2 = _interopRequireDefault(_greaterThan);\n\nvar _greaterThanOrEqual = __webpack_require__(32);\n\nvar _greaterThanOrEqual2 = _interopRequireDefault(_greaterThanOrEqual);\n\nvar _lessThan = __webpack_require__(33);\n\nvar _lessThan2 = _interopRequireDefault(_lessThan);\n\nvar _lessThanOrEqual = __webpack_require__(34);\n\nvar _lessThanOrEqual2 = _interopRequireDefault(_lessThanOrEqual);\n\nvar _minus = __webpack_require__(35);\n\nvar _minus2 = _interopRequireDefault(_minus);\n\nvar _multiply = __webpack_require__(36);\n\nvar _multiply2 = _interopRequireDefault(_multiply);\n\nvar _notEqual = __webpack_require__(37);\n\nvar _notEqual2 = _interopRequireDefault(_notEqual);\n\nvar _power = __webpack_require__(38);\n\nvar _power2 = _interopRequireDefault(_power);\n\nvar _error = __webpack_require__(2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/* eslint-disable import/no-named-as-default-member */\nvar availableOperators = Object.create(null);\n\n/**\n * Evaluate values by operator id.git\n *\n * @param {String} operator Operator id.\n * @param {Array} [params=[]] Arguments to evaluate.\n * @returns {*}\n */\nfunction evaluateByOperator(operator) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  operator = operator.toUpperCase();\n\n  if (!availableOperators[operator]) {\n    throw Error(_error.ERROR_NAME);\n  }\n\n  return availableOperators[operator].apply(availableOperators, params);\n}\n\n/**\n * Register operator.\n *\n * @param {String|Array} symbol Symbol to register.\n * @param {Function} func Logic to register for this symbol.\n */\nfunction registerOperation(symbol, func) {\n  if (!Array.isArray(symbol)) {\n    symbol = [symbol.toUpperCase()];\n  }\n  symbol.forEach(function (s) {\n    if (func.isFactory) {\n      availableOperators[s] = func(s);\n    } else {\n      availableOperators[s] = func;\n    }\n  });\n}\n\nregisterOperation(_add2['default'].SYMBOL, _add2['default']);\nregisterOperation(_ampersand2['default'].SYMBOL, _ampersand2['default']);\nregisterOperation(_divide2['default'].SYMBOL, _divide2['default']);\nregisterOperation(_equal2['default'].SYMBOL, _equal2['default']);\nregisterOperation(_power2['default'].SYMBOL, _power2['default']);\nregisterOperation(_formulaFunction2['default'].SYMBOL, _formulaFunction2['default']);\nregisterOperation(_greaterThan2['default'].SYMBOL, _greaterThan2['default']);\nregisterOperation(_greaterThanOrEqual2['default'].SYMBOL, _greaterThanOrEqual2['default']);\nregisterOperation(_lessThan2['default'].SYMBOL, _lessThan2['default']);\nregisterOperation(_lessThanOrEqual2['default'].SYMBOL, _lessThanOrEqual2['default']);\nregisterOperation(_multiply2['default'].SYMBOL, _multiply2['default']);\nregisterOperation(_notEqual2['default'].SYMBOL, _notEqual2['default']);\nregisterOperation(_minus2['default'].SYMBOL, _minus2['default']);\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.SYMBOL = undefined;\nexports['default'] = func;\n\nvar _number = __webpack_require__(3);\n\nvar _error = __webpack_require__(2);\n\nvar SYMBOL = exports.SYMBOL = '+';\n\nfunction func(first) {\n  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  var result = rest.reduce(function (acc, value) {\n    return acc + (0, _number.toNumber)(value);\n  }, (0, _number.toNumber)(first));\n\n  if (isNaN(result)) {\n    throw Error(_error.ERROR_VALUE);\n  }\n\n  return result;\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports['default'] = func;\nvar SYMBOL = exports.SYMBOL = '&';\n\nfunction func() {\n  for (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {\n    params[_key] = arguments[_key];\n  }\n\n  return params.reduce(function (acc, value) {\n    return acc + value.toString();\n  }, '');\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.SYMBOL = undefined;\nexports['default'] = func;\n\nvar _number = __webpack_require__(3);\n\nvar _error = __webpack_require__(2);\n\nvar SYMBOL = exports.SYMBOL = '/';\n\nfunction func(first) {\n  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  var result = rest.reduce(function (acc, value) {\n    return acc / (0, _number.toNumber)(value);\n  }, (0, _number.toNumber)(first));\n\n  if (result === Infinity) {\n    throw Error(_error.ERROR_DIV_ZERO);\n  }\n  if (isNaN(result)) {\n    throw Error(_error.ERROR_VALUE);\n  }\n\n  return result;\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports['default'] = func;\nvar SYMBOL = exports.SYMBOL = '=';\n\nfunction func(exp1, exp2) {\n  return exp1 === exp2;\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.SYMBOL = undefined;\nexports['default'] = func;\n\nvar _formulajs = __webpack_require__(24);\n\nvar formulajs = _interopRequireWildcard(_formulajs);\n\nvar _supportedFormulas = __webpack_require__(13);\n\nvar _supportedFormulas2 = _interopRequireDefault(_supportedFormulas);\n\nvar _error = __webpack_require__(2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar SYMBOL = exports.SYMBOL = _supportedFormulas2['default'];\n\nfunction func(symbol) {\n  return function __formulaFunction() {\n    symbol = symbol.toUpperCase();\n\n    var symbolParts = symbol.split('.');\n    var foundFormula = false;\n    var result = void 0;\n\n    if (symbolParts.length === 1) {\n      if (formulajs[symbolParts[0]]) {\n        foundFormula = true;\n        result = formulajs[symbolParts[0]].apply(formulajs, arguments);\n      }\n    } else {\n      var length = symbolParts.length;\n      var index = 0;\n      var nestedFormula = formulajs;\n\n      while (index < length) {\n        nestedFormula = nestedFormula[symbolParts[index]];\n        index++;\n\n        if (!nestedFormula) {\n          nestedFormula = null;\n          break;\n        }\n      }\n      if (nestedFormula) {\n        foundFormula = true;\n        result = nestedFormula.apply(undefined, arguments);\n      }\n    }\n\n    if (!foundFormula) {\n      throw Error(_error.ERROR_NAME);\n    }\n\n    return result;\n  };\n}\n\nfunc.isFactory = true;\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar categories = [\n  __webpack_require__(25),\n  __webpack_require__(27),\n  __webpack_require__(12),\n  __webpack_require__(28),\n  __webpack_require__(4),\n  __webpack_require__(6),\n  __webpack_require__(9),\n  __webpack_require__(29),\n  __webpack_require__(8),\n  __webpack_require__(30),\n  __webpack_require__(5),\n  __webpack_require__(11)\n];\n\nfor (var c in categories) {\n  var category = categories[c];\n  for (var f in category) {\n    exports[f] = exports[f] || category[f];\n  }\n}\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar mathTrig = __webpack_require__(4);\nvar statistical = __webpack_require__(5);\nvar engineering = __webpack_require__(12);\nvar dateTime = __webpack_require__(9);\n\nfunction set(fn, root) {\n  if (root) {\n    for (var i in root) {\n      fn[i] = root[i];\n    }\n  }\n\n  return fn;\n}\n\nexports.BETADIST = statistical.BETA.DIST;\nexports.BETAINV = statistical.BETA.INV;\nexports.BINOMDIST = statistical.BINOM.DIST;\nexports.CEILING = exports.ISOCEILING = set(mathTrig.CEILING.MATH, mathTrig.CEILING);\nexports.CEILINGMATH = mathTrig.CEILING.MATH;\nexports.CEILINGPRECISE = mathTrig.CEILING.PRECISE;\nexports.CHIDIST = statistical.CHISQ.DIST;\nexports.CHIDISTRT = statistical.CHISQ.DIST.RT;\nexports.CHIINV = statistical.CHISQ.INV;\nexports.CHIINVRT = statistical.CHISQ.INV.RT;\nexports.CHITEST = statistical.CHISQ.TEST;\nexports.CONFIDENCE = set(statistical.CONFIDENCE.NORM, statistical.CONFIDENCE);\nexports.COVAR = statistical.COVARIANCE.P;\nexports.COVARIANCEP = statistical.COVARIANCE.P;\nexports.COVARIANCES = statistical.COVARIANCE.S;\nexports.CRITBINOM = statistical.BINOM.INV;\nexports.EXPONDIST = statistical.EXPON.DIST;\nexports.ERFCPRECISE = engineering.ERFC.PRECISE;\nexports.ERFPRECISE = engineering.ERF.PRECISE;\nexports.FDIST = statistical.F.DIST;\nexports.FDISTRT = statistical.F.DIST.RT;\nexports.FINVRT = statistical.F.INV.RT;\nexports.FINV = statistical.F.INV;\nexports.FLOOR = set(mathTrig.FLOOR.MATH, mathTrig.FLOOR);\nexports.FLOORMATH = mathTrig.FLOOR.MATH;\nexports.FLOORPRECISE = mathTrig.FLOOR.PRECISE;\nexports.FTEST = statistical.F.TEST;\nexports.GAMMADIST = statistical.GAMMA.DIST;\nexports.GAMMAINV = statistical.GAMMA.INV;\nexports.GAMMALNPRECISE = statistical.GAMMALN.PRECISE;\nexports.HYPGEOMDIST = statistical.HYPGEOM.DIST;\nexports.LOGINV = statistical.LOGNORM.INV;\nexports.LOGNORMINV = statistical.LOGNORM.INV;\nexports.LOGNORMDIST = statistical.LOGNORM.DIST;\nexports.MODE = set(statistical.MODE.SNGL, statistical.MODE);\nexports.MODEMULT = statistical.MODE.MULT;\nexports.MODESNGL = statistical.MODE.SNGL;\nexports.NEGBINOMDIST = statistical.NEGBINOM.DIST;\nexports.NETWORKDAYSINTL = dateTime.NETWORKDAYS.INTL;\nexports.NORMDIST = statistical.NORM.DIST;\nexports.NORMINV = statistical.NORM.INV;\nexports.NORMSDIST = statistical.NORM.S.DIST;\nexports.NORMSINV = statistical.NORM.S.INV;\nexports.PERCENTILE = set(statistical.PERCENTILE.EXC, statistical.PERCENTILE);\nexports.PERCENTILEEXC = statistical.PERCENTILE.EXC;\nexports.PERCENTILEINC = statistical.PERCENTILE.INC;\nexports.PERCENTRANK = set(statistical.PERCENTRANK.INC, statistical.PERCENTRANK);\nexports.PERCENTRANKEXC = statistical.PERCENTRANK.EXC;\nexports.PERCENTRANKINC = statistical.PERCENTRANK.INC;\nexports.POISSON = set(statistical.POISSON.DIST, statistical.POISSON);\nexports.POISSONDIST = statistical.POISSON.DIST;\nexports.QUARTILE = set(statistical.QUARTILE.INC, statistical.QUARTILE);\nexports.QUARTILEEXC = statistical.QUARTILE.EXC;\nexports.QUARTILEINC = statistical.QUARTILE.INC;\nexports.RANK = set(statistical.RANK.EQ, statistical.RANK);\nexports.RANKAVG = statistical.RANK.AVG;\nexports.RANKEQ = statistical.RANK.EQ;\nexports.SKEWP = statistical.SKEW.P;\nexports.STDEV = set(statistical.STDEV.S, statistical.STDEV);\nexports.STDEVP = statistical.STDEV.P;\nexports.STDEVS = statistical.STDEV.S;\nexports.TDIST = statistical.T.DIST;\nexports.TDISTRT = statistical.T.DIST.RT;\nexports.TINV = statistical.T.INV;\nexports.TTEST = statistical.T.TEST;\nexports.VAR = set(statistical.VAR.S, statistical.VAR);\nexports.VARP = statistical.VAR.P;\nexports.VARS = statistical.VAR.S;\nexports.WEIBULL = set(statistical.WEIBULL.DIST, statistical.WEIBULL);\nexports.WEIBULLDIST = statistical.WEIBULL.DIST;\nexports.WORKDAYINTL = dateTime.WORKDAY.INTL;\nexports.ZTEST = statistical.Z.TEST;\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* bessel.js (C) 2013-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*exported BESSEL */\nvar BESSEL;\n(function (factory) {\n  /*jshint ignore:start */\n  if(typeof DO_NOT_EXPORT_BESSEL === 'undefined') {\n    if(true) {\n      factory(exports);\n    } else if ('function' === typeof define && define.amd) {\n      define(function () {\n        var module = {};\n        factory(module);\n        return module;\n      });\n    } else {\n      factory(BESSEL = {});\n    }\n  } else {\n    factory(BESSEL = {});\n  }\n  /*jshint ignore:end */\n}(function(BESSEL) {\nBESSEL.version = '1.0.2';\nvar M = Math;\n\nfunction _horner(arr, v) { for(var i = 0, z = 0; i < arr.length; ++i) z = v * z + arr[i]; return z; }\nfunction _bessel_iter(x, n, f0, f1, sign) {\n  if(n === 0) return f0;\n  if(n === 1) return f1;\n  var tdx = 2 / x, f2 = f1;\n  for(var o = 1; o < n; ++o) {\n    f2 = f1 * o * tdx + sign * f0;\n    f0 = f1; f1 = f2;\n  }\n  return f2;\n}\nfunction _bessel_wrap(bessel0, bessel1, name, nonzero, sign) {\n  return function bessel(x,n) {\n    if(nonzero) {\n      if(x === 0) return (nonzero == 1 ? -Infinity : Infinity);\n      else if(x < 0) return NaN;\n    }\n    if(n === 0) return bessel0(x);\n    if(n === 1) return bessel1(x);\n    if(n < 0) return NaN;\n    n|=0;\n    var b0 = bessel0(x), b1 = bessel1(x);\n    return _bessel_iter(x, n, b0, b1, sign);\n  };\n}\nvar besselj = (function() {\n  var W = 0.636619772; // 2 / Math.PI\n\n  var b0_a1a = [57568490574.0, -13362590354.0, 651619640.7, -11214424.18, 77392.33017, -184.9052456].reverse();\n  var b0_a2a = [57568490411.0, 1029532985.0, 9494680.718, 59272.64853, 267.8532712, 1.0].reverse();\n  var b0_a1b = [1.0, -0.1098628627e-2, 0.2734510407e-4, -0.2073370639e-5, 0.2093887211e-6].reverse();\n  var b0_a2b = [-0.1562499995e-1, 0.1430488765e-3, -0.6911147651e-5, 0.7621095161e-6, -0.934935152e-7].reverse();\n\n  function bessel0(x) {\n    var a=0, a1=0, a2=0, y = x * x;\n    if(x < 8) {\n      a1 = _horner(b0_a1a, y);\n      a2 = _horner(b0_a2a, y);\n      a = a1 / a2;\n    } else {\n      var xx = x - 0.785398164;\n      y = 64 / y;\n      a1 = _horner(b0_a1b, y);\n      a2 = _horner(b0_a2b, y);\n      a = M.sqrt(W/x)*(M.cos(xx)*a1-M.sin(xx)*a2*8/x);\n    }\n    return a;\n  }\n\n  var b1_a1a = [72362614232.0, -7895059235.0, 242396853.1, -2972611.439, 15704.48260, -30.16036606].reverse();\n  var b1_a2a = [144725228442.0, 2300535178.0, 18583304.74, 99447.43394, 376.9991397, 1.0].reverse();\n  var b1_a1b = [1.0, 0.183105e-2, -0.3516396496e-4, 0.2457520174e-5, -0.240337019e-6].reverse();\n  var b1_a2b = [0.04687499995, -0.2002690873e-3, 0.8449199096e-5, -0.88228987e-6, 0.105787412e-6].reverse();\n\n  function bessel1(x) {\n    var a=0, a1=0, a2=0, y = x*x, xx = M.abs(x) - 2.356194491;\n    if(Math.abs(x)< 8) {\n      a1 = x*_horner(b1_a1a, y);\n      a2 = _horner(b1_a2a, y);\n      a = a1 / a2;\n    } else {\n      y = 64 / y;\n      a1=_horner(b1_a1b, y);\n      a2=_horner(b1_a2b, y);\n      a=M.sqrt(W/M.abs(x))*(M.cos(xx)*a1-M.sin(xx)*a2*8/M.abs(x));\n      if(x < 0) a = -a;\n    }\n    return a;\n  }\n\n  return function besselj(x, n) {\n    n = Math.round(n);\n    if(!isFinite(x)) return isNaN(x) ? x : 0;\n    if(n < 0) return ((n%2)?-1:1)*besselj(x, -n);\n    if(x < 0) return ((n%2)?-1:1)*besselj(-x, n);\n    if(n === 0) return bessel0(x);\n    if(n === 1) return bessel1(x);\n    if(x === 0) return 0;\n\n    var ret=0.0;\n    if(x > n) {\n      ret = _bessel_iter(x, n, bessel0(x), bessel1(x),-1);\n    } else {\n      var m=2*M.floor((n+M.floor(M.sqrt(40*n)))/2);\n      var jsum=false;\n      var bjp=0.0, sum=0.0;\n      var bj=1.0, bjm = 0.0;\n      var tox = 2 / x;\n      for (var j=m;j>0;j--) {\n        bjm=j*tox*bj-bjp;\n        bjp=bj;\n        bj=bjm;\n        if (M.abs(bj) > 1E10) {\n          bj *= 1E-10;\n          bjp *= 1E-10;\n          ret *= 1E-10;\n          sum *= 1E-10;\n        }\n        if (jsum) sum += bj;\n        jsum=!jsum;\n        if (j == n) ret=bjp;\n      }\n      sum=2.0*sum-bj;\n      ret /= sum;\n    }\n    return ret;\n  };\n})();\nvar bessely = (function() {\n  var W = 0.636619772;\n\n  var b0_a1a = [-2957821389.0, 7062834065.0, -512359803.6, 10879881.29, -86327.92757, 228.4622733].reverse();\n  var b0_a2a = [40076544269.0, 745249964.8, 7189466.438, 47447.26470, 226.1030244, 1.0].reverse();\n  var b0_a1b = [1.0, -0.1098628627e-2, 0.2734510407e-4, -0.2073370639e-5, 0.2093887211e-6].reverse();\n  var b0_a2b = [-0.1562499995e-1, 0.1430488765e-3, -0.6911147651e-5, 0.7621095161e-6, -0.934945152e-7].reverse();\n\n  function bessel0(x) {\n    var a=0, a1=0, a2=0, y = x * x, xx = x - 0.785398164;\n    if(x < 8) {\n      a1 = _horner(b0_a1a, y);\n      a2 = _horner(b0_a2a, y);\n      a = a1/a2 + W * besselj(x,0) * M.log(x);\n    } else {\n      y = 64 / y;\n      a1 = _horner(b0_a1b, y);\n      a2 = _horner(b0_a2b, y);\n      a = M.sqrt(W/x)*(M.sin(xx)*a1+M.cos(xx)*a2*8/x);\n    }\n    return a;\n  }\n\n  var b1_a1a = [-0.4900604943e13, 0.1275274390e13, -0.5153438139e11, 0.7349264551e9, -0.4237922726e7, 0.8511937935e4].reverse();\n  var b1_a2a = [0.2499580570e14, 0.4244419664e12, 0.3733650367e10, 0.2245904002e8, 0.1020426050e6, 0.3549632885e3, 1].reverse();\n  var b1_a1b = [1.0, 0.183105e-2, -0.3516396496e-4, 0.2457520174e-5, -0.240337019e-6].reverse();\n  var b1_a2b = [0.04687499995, -0.2002690873e-3, 0.8449199096e-5, -0.88228987e-6, 0.105787412e-6].reverse();\n\n  function bessel1(x) {\n    var a=0, a1=0, a2=0, y = x*x, xx = x - 2.356194491;\n    if(x < 8) {\n      a1 = x*_horner(b1_a1a, y);\n      a2 = _horner(b1_a2a, y);\n      a = a1/a2 + W * (besselj(x,1) * M.log(x) - 1 / x);\n    } else {\n      y = 64 / y;\n      a1=_horner(b1_a1b, y);\n      a2=_horner(b1_a2b, y);\n      a=M.sqrt(W/x)*(M.sin(xx)*a1+M.cos(xx)*a2*8/x);\n    }\n    return a;\n  }\n\n  return _bessel_wrap(bessel0, bessel1, 'BESSELY', 1, -1);\n})();\nvar besseli = (function() {\n  var b0_a = [1.0, 3.5156229, 3.0899424, 1.2067492, 0.2659732, 0.360768e-1, 0.45813e-2].reverse();\n  var b0_b = [0.39894228, 0.1328592e-1, 0.225319e-2, -0.157565e-2, 0.916281e-2, -0.2057706e-1, 0.2635537e-1, -0.1647633e-1, 0.392377e-2].reverse();\n\n  function bessel0(x) {\n    if(x <= 3.75) return _horner(b0_a, x*x/(3.75*3.75));\n    return M.exp(M.abs(x))/M.sqrt(M.abs(x))*_horner(b0_b, 3.75/M.abs(x));\n  }\n\n  var b1_a = [0.5, 0.87890594, 0.51498869, 0.15084934, 0.2658733e-1, 0.301532e-2, 0.32411e-3].reverse();\n  var b1_b = [0.39894228, -0.3988024e-1, -0.362018e-2, 0.163801e-2, -0.1031555e-1, 0.2282967e-1, -0.2895312e-1, 0.1787654e-1, -0.420059e-2].reverse();\n\n  function bessel1(x) {\n    if(x < 3.75) return x * _horner(b1_a, x*x/(3.75*3.75));\n    return (x < 0 ? -1 : 1) * M.exp(M.abs(x))/M.sqrt(M.abs(x))*_horner(b1_b, 3.75/M.abs(x));\n  }\n\n  return function besseli(x, n) {\n    n = Math.round(n);\n    if(n === 0) return bessel0(x);\n    if(n === 1) return bessel1(x);\n    if(n < 0) return NaN;\n    if(M.abs(x) === 0) return 0;\n    if(x == Infinity) return Infinity;\n\n    var ret = 0.0, j, tox = 2 / M.abs(x), bip = 0.0, bi=1.0, bim=0.0;\n    var m=2*M.round((n+M.round(M.sqrt(40*n)))/2);\n    for (j=m;j>0;j--) {\n      bim=j*tox*bi + bip;\n      bip=bi; bi=bim;\n      if (M.abs(bi) > 1E10) {\n        bi *= 1E-10;\n        bip *= 1E-10;\n        ret *= 1E-10;\n      }\n      if(j == n) ret = bip;\n    }\n    ret *= besseli(x, 0) / bi;\n    return x < 0 && (n%2) ? -ret : ret;\n  };\n\n})();\n\nvar besselk = (function() {\n  var b0_a = [-0.57721566, 0.42278420, 0.23069756, 0.3488590e-1, 0.262698e-2, 0.10750e-3, 0.74e-5].reverse();\n  var b0_b = [1.25331414, -0.7832358e-1, 0.2189568e-1, -0.1062446e-1, 0.587872e-2, -0.251540e-2, 0.53208e-3].reverse();\n\n  function bessel0(x) {\n    if(x <= 2) return -M.log(x/2) * besseli(x,0) + _horner(b0_a, x*x/4);\n    return M.exp(-x) / M.sqrt(x) * _horner(b0_b, 2/x);\n  }\n\n  var b1_a = [1.0, 0.15443144, -0.67278579, -0.18156897, -0.1919402e-1, -0.110404e-2, -0.4686e-4].reverse();\n  var b1_b = [1.25331414, 0.23498619, -0.3655620e-1, 0.1504268e-1, -0.780353e-2, 0.325614e-2, -0.68245e-3].reverse();\n\n  function bessel1(x) {\n    if(x <= 2) return M.log(x/2) * besseli(x,1) + (1/x) * _horner(b1_a, x*x/4);\n    return M.exp(-x)/M.sqrt(x)*_horner(b1_b, 2/x);\n  }\n\n  return _bessel_wrap(bessel0, bessel1, 'BESSELK', 2, 1);\n})();\nBESSEL.besselj = besselj;\nBESSEL.bessely = bessely;\nBESSEL.besseli = besseli;\nBESSEL.besselk = besselk;\n}));\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar error = __webpack_require__(0);\nvar stats = __webpack_require__(5);\nvar maths = __webpack_require__(4);\nvar utils = __webpack_require__(1);\nvar evalExpression = __webpack_require__(7);\n\nfunction compact(array) {\n  var result = [];\n\n  utils.arrayEach(array, function(value) {\n    if (value) {\n      result.push(value);\n    }\n  });\n\n  return result;\n}\n\nexports.FINDFIELD = function(database, title) {\n  var index = null;\n\n  utils.arrayEach(database, function(value, i) {\n    if (value[0] === title) {\n      index = i;\n      return false;\n    }\n  });\n\n  // Return error if the input field title is incorrect\n  if (index == null) {\n    return error.value;\n  }\n\n  return index;\n};\n\nfunction findResultIndex(database, criterias) {\n  var matches = {};\n  for (var i = 1; i < database[0].length; ++i) {\n    matches[i] = true;\n  }\n  var maxCriteriaLength = criterias[0].length;\n  for (i = 1; i < criterias.length; ++i) {\n    if (criterias[i].length > maxCriteriaLength) {\n      maxCriteriaLength = criterias[i].length;\n    }\n  }\n\n  for (var k = 1; k < database.length; ++k) {\n    for (var l = 1; l < database[k].length; ++l) {\n      var currentCriteriaResult = false;\n      var hasMatchingCriteria   = false;\n      for (var j = 0; j < criterias.length; ++j) {\n        var criteria = criterias[j];\n        if (criteria.length < maxCriteriaLength) {\n          continue;\n        }\n\n        var criteriaField = criteria[0];\n        if (database[k][0] !== criteriaField) {\n          continue;\n        }\n        hasMatchingCriteria = true;\n        for (var p = 1; p < criteria.length; ++p) {\n          if (!currentCriteriaResult) {\n            var isWildcard = criteria[p] === void 0 || criteria[p] === '*';\n\n            if (isWildcard) {\n              currentCriteriaResult = true;\n            } else {\n              var tokenizedCriteria = evalExpression.parse(criteria[p] + '');\n              var tokens = [evalExpression.createToken(database[k][l], evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n              currentCriteriaResult = evalExpression.compute(tokens);\n            }\n          }\n        }\n      }\n      if (hasMatchingCriteria) {\n        matches[l] = matches[l] && currentCriteriaResult;\n      }\n    }\n  }\n\n  var result = [];\n  for (var n = 0; n < database[0].length; ++n) {\n    if (matches[n]) {\n      result.push(n - 1);\n    }\n  }\n\n  return result;\n}\n\n// Database functions\nexports.DAVERAGE = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n  var sum = 0;\n\n  utils.arrayEach(resultIndexes, function(value) {\n    sum += targetFields[value];\n  });\n\n  return resultIndexes.length === 0 ? error.div0 : sum / resultIndexes.length;\n};\n\nexports.DCOUNT = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n\n  return stats.COUNT(targetValues);\n};\n\nexports.DCOUNTA = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n\n  return stats.COUNTA(targetValues);\n};\n\nexports.DGET = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  // Return error if no record meets the criteria\n  if (resultIndexes.length === 0) {\n    return error.value;\n  }\n  // Returns the #NUM! error value because more than one record meets the\n  // criteria\n  if (resultIndexes.length > 1) {\n    return error.num;\n  }\n\n  return targetFields[resultIndexes[0]];\n};\n\nexports.DMAX = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var maxValue = targetFields[resultIndexes[0]];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    if (maxValue < targetFields[value]) {\n      maxValue = targetFields[value];\n    }\n  });\n\n  return maxValue;\n};\n\nexports.DMIN = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var minValue = targetFields[resultIndexes[0]];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    if (minValue > targetFields[value]) {\n      minValue = targetFields[value];\n    }\n  });\n\n  return minValue;\n};\n\nexports.DPRODUCT = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n  targetValues = compact(targetValues);\n\n  var result = 1;\n\n  utils.arrayEach(targetValues, function(value) {\n    result *= value;\n  });\n\n  return result;\n};\n\nexports.DSTDEV = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n  targetValues = compact(targetValues);\n\n  return stats.STDEV.S(targetValues);\n};\n\nexports.DSTDEVP = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n  targetValues = compact(targetValues);\n\n  return stats.STDEV.P(targetValues);\n};\n\nexports.DSUM = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n\n  return maths.SUM(targetValues);\n};\n\nexports.DVAR = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n\n  return stats.VAR.S(targetValues);\n};\n\nexports.DVARP = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n\n  return stats.VAR.P(targetValues);\n};\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar error = __webpack_require__(0);\nvar utils = __webpack_require__(1);\nvar information = __webpack_require__(8);\n\nexports.AND = function() {\n  var args = utils.flatten(arguments);\n  var result = true;\n  for (var i = 0; i < args.length; i++) {\n    if (!args[i]) {\n      result = false;\n    }\n  }\n  return result;\n};\n\nexports.CHOOSE = function() {\n  if (arguments.length < 2) {\n    return error.na;\n  }\n\n  var index = arguments[0];\n  if (index < 1 || index > 254) {\n    return error.value;\n  }\n\n  if (arguments.length < index + 1) {\n    return error.value;\n  }\n\n  return arguments[index];\n};\n\nexports.FALSE = function() {\n  return false;\n};\n\nexports.IF = function(test, then_value, otherwise_value) {\n  return test ? then_value : otherwise_value;\n};\n\nexports.IFERROR = function(value, valueIfError) {\n  if (information.ISERROR(value)) {\n    return valueIfError;\n  }\n  return value;\n};\n\nexports.IFNA = function(value, value_if_na) {\n  return value === error.na ? value_if_na : value;\n};\n\nexports.NOT = function(logical) {\n  return !logical;\n};\n\nexports.OR = function() {\n  var args = utils.flatten(arguments);\n  var result = false;\n  for (var i = 0; i < args.length; i++) {\n    if (args[i]) {\n      result = true;\n    }\n  }\n  return result;\n};\n\nexports.TRUE = function() {\n  return true;\n};\n\nexports.XOR = function() {\n  var args = utils.flatten(arguments);\n  var result = 0;\n  for (var i = 0; i < args.length; i++) {\n    if (args[i]) {\n      result++;\n    }\n  }\n  return (Math.floor(Math.abs(result)) & 1) ? true : false;\n};\n\nexports.SWITCH = function () {\n  var result;\n\n  if (arguments.length > 0)  {\n    var targetValue = arguments[0];\n    var argc = arguments.length - 1;\n    var switchCount = Math.floor(argc / 2);\n    var switchSatisfied = false;\n    var hasDefaultClause = argc % 2 !== 0;\n    var defaultClause = argc % 2 === 0 ? null : arguments[arguments.length - 1];\n\n    if (switchCount) {\n      for (var index = 0; index < switchCount; index++) {\n        if (targetValue === arguments[index * 2 + 1]) {\n          result = arguments[index * 2 + 2];\n          switchSatisfied = true;\n          break;\n        }\n      }\n    }\n\n    if (!switchSatisfied) {\n      result = hasDefaultClause ? defaultClause : error.na;\n    }\n  } else {\n    result = error.value;\n  }\n\n  return result;\n};\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar error = __webpack_require__(0);\nvar dateTime = __webpack_require__(9);\nvar utils = __webpack_require__(1);\n\nfunction validDate(d) {\n  return d && d.getTime && !isNaN(d.getTime());\n}\n\nfunction ensureDate(d) {\n  return (d instanceof Date)?d:new Date(d);\n}\n\nexports.ACCRINT = function(issue, first, settlement, rate, par, frequency, basis) {\n  // Return error if either date is invalid\n  issue      = ensureDate(issue);\n  first      = ensureDate(first);\n  settlement = ensureDate(settlement);\n  if (!validDate(issue) || !validDate(first) || !validDate(settlement)) {\n    return error.value;\n  }\n\n  // Return error if either rate or par are lower than or equal to zero\n  if (rate <= 0 || par <= 0) {\n    return error.num;\n  }\n\n  // Return error if frequency is neither 1, 2, or 4\n  if ([1, 2, 4].indexOf(frequency) === -1) {\n    return error.num;\n  }\n\n  // Return error if basis is neither 0, 1, 2, 3, or 4\n  if ([0, 1, 2, 3, 4].indexOf(basis) === -1) {\n    return error.num;\n  }\n\n  // Return error if settlement is before or equal to issue\n  if (settlement <= issue) {\n    return error.num;\n  }\n\n  // Set default values\n  par   = par   || 0;\n  basis = basis || 0;\n\n  // Compute accrued interest\n  return par * rate * dateTime.YEARFRAC(issue, settlement, basis);\n};\n\n// TODO\nexports.ACCRINTM = function() {\n  throw new Error('ACCRINTM is not implemented');\n};\n\n// TODO\nexports.AMORDEGRC = function() {\n  throw new Error('AMORDEGRC is not implemented');\n};\n\n// TODO\nexports.AMORLINC = function() {\n  throw new Error('AMORLINC is not implemented');\n};\n\n// TODO\nexports.COUPDAYBS = function() {\n  throw new Error('COUPDAYBS is not implemented');\n};\n\n// TODO\nexports.COUPDAYS = function() {\n  throw new Error('COUPDAYS is not implemented');\n};\n\n// TODO\nexports.COUPDAYSNC = function() {\n  throw new Error('COUPDAYSNC is not implemented');\n};\n\n// TODO\nexports.COUPNCD = function() {\n  throw new Error('COUPNCD is not implemented');\n};\n\n// TODO\nexports.COUPNUM = function() {\n  throw new Error('COUPNUM is not implemented');\n};\n\n// TODO\nexports.COUPPCD = function() {\n  throw new Error('COUPPCD is not implemented');\n};\n\nexports.CUMIPMT = function(rate, periods, value, start, end, type) {\n  // Credits: algorithm inspired by Apache OpenOffice\n  // Credits: Hannes Stiebitzhofer for the translations of function and variable names\n  // Requires exports.FV() and exports.PMT() from exports.js [http://stoic.com/exports/]\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  value = utils.parseNumber(value);\n  if (utils.anyIsError(rate, periods, value)) {\n    return error.value;\n  }\n\n  // Return error if either rate, periods, or value are lower than or equal to zero\n  if (rate <= 0 || periods <= 0 || value <= 0) {\n    return error.num;\n  }\n\n  // Return error if start < 1, end < 1, or start > end\n  if (start < 1 || end < 1 || start > end) {\n    return error.num;\n  }\n\n  // Return error if type is neither 0 nor 1\n  if (type !== 0 && type !== 1) {\n    return error.num;\n  }\n\n  // Compute cumulative interest\n  var payment = exports.PMT(rate, periods, value, 0, type);\n  var interest = 0;\n\n  if (start === 1) {\n    if (type === 0) {\n      interest = -value;\n      start++;\n    }\n  }\n\n  for (var i = start; i <= end; i++) {\n    if (type === 1) {\n      interest += exports.FV(rate, i - 2, payment, value, 1) - payment;\n    } else {\n      interest += exports.FV(rate, i - 1, payment, value, 0);\n    }\n  }\n  interest *= rate;\n\n  // Return cumulative interest\n  return interest;\n};\n\nexports.CUMPRINC = function(rate, periods, value, start, end, type) {\n  // Credits: algorithm inspired by Apache OpenOffice\n  // Credits: Hannes Stiebitzhofer for the translations of function and variable names\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  value = utils.parseNumber(value);\n  if (utils.anyIsError(rate, periods, value)) {\n    return error.value;\n  }\n\n  // Return error if either rate, periods, or value are lower than or equal to zero\n  if (rate <= 0 || periods <= 0 || value <= 0) {\n    return error.num;\n  }\n\n  // Return error if start < 1, end < 1, or start > end\n  if (start < 1 || end < 1 || start > end) {\n    return error.num;\n  }\n\n  // Return error if type is neither 0 nor 1\n  if (type !== 0 && type !== 1) {\n    return error.num;\n  }\n\n  // Compute cumulative principal\n  var payment = exports.PMT(rate, periods, value, 0, type);\n  var principal = 0;\n  if (start === 1) {\n    if (type === 0) {\n      principal = payment + value * rate;\n    } else {\n      principal = payment;\n    }\n    start++;\n  }\n  for (var i = start; i <= end; i++) {\n    if (type > 0) {\n      principal += payment - (exports.FV(rate, i - 2, payment, value, 1) - payment) * rate;\n    } else {\n      principal += payment - exports.FV(rate, i - 1, payment, value, 0) * rate;\n    }\n  }\n\n  // Return cumulative principal\n  return principal;\n};\n\nexports.DB = function(cost, salvage, life, period, month) {\n  // Initialize month\n  month = (month === undefined) ? 12 : month;\n\n  cost = utils.parseNumber(cost);\n  salvage = utils.parseNumber(salvage);\n  life = utils.parseNumber(life);\n  period = utils.parseNumber(period);\n  month = utils.parseNumber(month);\n  if (utils.anyIsError(cost, salvage, life, period, month)) {\n    return error.value;\n  }\n\n  // Return error if any of the parameters is negative\n  if (cost < 0 || salvage < 0 || life < 0 || period < 0) {\n    return error.num;\n  }\n\n  // Return error if month is not an integer between 1 and 12\n  if ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].indexOf(month) === -1) {\n    return error.num;\n  }\n\n  // Return error if period is greater than life\n  if (period > life) {\n    return error.num;\n  }\n\n  // Return 0 (zero) if salvage is greater than or equal to cost\n  if (salvage >= cost) {\n    return 0;\n  }\n\n  // Rate is rounded to three decimals places\n  var rate = (1 - Math.pow(salvage / cost, 1 / life)).toFixed(3);\n\n  // Compute initial depreciation\n  var initial = cost * rate * month / 12;\n\n  // Compute total depreciation\n  var total = initial;\n  var current = 0;\n  var ceiling = (period === life) ? life - 1 : period;\n  for (var i = 2; i <= ceiling; i++) {\n    current = (cost - total) * rate;\n    total += current;\n  }\n\n  // Depreciation for the first and last periods are special cases\n  if (period === 1) {\n    // First period\n    return initial;\n  } else if (period === life) {\n    // Last period\n    return (cost - total) * rate;\n  } else {\n    return current;\n  }\n};\n\nexports.DDB = function(cost, salvage, life, period, factor) {\n  // Initialize factor\n  factor = (factor === undefined) ? 2 : factor;\n\n  cost = utils.parseNumber(cost);\n  salvage = utils.parseNumber(salvage);\n  life = utils.parseNumber(life);\n  period = utils.parseNumber(period);\n  factor = utils.parseNumber(factor);\n  if (utils.anyIsError(cost, salvage, life, period, factor)) {\n    return error.value;\n  }\n\n  // Return error if any of the parameters is negative or if factor is null\n  if (cost < 0 || salvage < 0 || life < 0 || period < 0 || factor <= 0) {\n    return error.num;\n  }\n\n  // Return error if period is greater than life\n  if (period > life) {\n    return error.num;\n  }\n\n  // Return 0 (zero) if salvage is greater than or equal to cost\n  if (salvage >= cost) {\n    return 0;\n  }\n\n  // Compute depreciation\n  var total = 0;\n  var current = 0;\n  for (var i = 1; i <= period; i++) {\n    current = Math.min((cost - total) * (factor / life), (cost - salvage - total));\n    total += current;\n  }\n\n  // Return depreciation\n  return current;\n};\n\n// TODO\nexports.DISC = function() {\n  throw new Error('DISC is not implemented');\n};\n\nexports.DOLLARDE = function(dollar, fraction) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  dollar = utils.parseNumber(dollar);\n  fraction = utils.parseNumber(fraction);\n  if (utils.anyIsError(dollar, fraction)) {\n    return error.value;\n  }\n\n  // Return error if fraction is negative\n  if (fraction < 0) {\n    return error.num;\n  }\n\n  // Return error if fraction is greater than or equal to 0 and less than 1\n  if (fraction >= 0 && fraction < 1) {\n    return error.div0;\n  }\n\n  // Truncate fraction if it is not an integer\n  fraction = parseInt(fraction, 10);\n\n  // Compute integer part\n  var result = parseInt(dollar, 10);\n\n  // Add decimal part\n  result += (dollar % 1) * Math.pow(10, Math.ceil(Math.log(fraction) / Math.LN10)) / fraction;\n\n  // Round result\n  var power = Math.pow(10, Math.ceil(Math.log(fraction) / Math.LN2) + 1);\n  result = Math.round(result * power) / power;\n\n  // Return converted dollar price\n  return result;\n};\n\nexports.DOLLARFR = function(dollar, fraction) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  dollar = utils.parseNumber(dollar);\n  fraction = utils.parseNumber(fraction);\n  if (utils.anyIsError(dollar, fraction)) {\n    return error.value;\n  }\n\n  // Return error if fraction is negative\n  if (fraction < 0) {\n    return error.num;\n  }\n\n  // Return error if fraction is greater than or equal to 0 and less than 1\n  if (fraction >= 0 && fraction < 1) {\n    return error.div0;\n  }\n\n  // Truncate fraction if it is not an integer\n  fraction = parseInt(fraction, 10);\n\n  // Compute integer part\n  var result = parseInt(dollar, 10);\n\n  // Add decimal part\n  result += (dollar % 1) * Math.pow(10, -Math.ceil(Math.log(fraction) / Math.LN10)) * fraction;\n\n  // Return converted dollar price\n  return result;\n};\n\n// TODO\nexports.DURATION = function() {\n  throw new Error('DURATION is not implemented');\n};\n\nexports.EFFECT = function(rate, periods) {\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  if (utils.anyIsError(rate, periods)) {\n    return error.value;\n  }\n\n  // Return error if rate <=0 or periods < 1\n  if (rate <= 0 || periods < 1) {\n    return error.num;\n  }\n\n  // Truncate periods if it is not an integer\n  periods = parseInt(periods, 10);\n\n  // Return effective annual interest rate\n  return Math.pow(1 + rate / periods, periods) - 1;\n};\n\nexports.FV = function(rate, periods, payment, value, type) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  value = value || 0;\n  type = type || 0;\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  payment = utils.parseNumber(payment);\n  value = utils.parseNumber(value);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, periods, payment, value, type)) {\n    return error.value;\n  }\n\n  // Return future value\n  var result;\n  if (rate === 0) {\n    result = value + payment * periods;\n  } else {\n    var term = Math.pow(1 + rate, periods);\n    if (type === 1) {\n      result = value * term + payment * (1 + rate) * (term - 1) / rate;\n    } else {\n      result = value * term + payment * (term - 1) / rate;\n    }\n  }\n  return -result;\n};\n\nexports.FVSCHEDULE = function(principal, schedule) {\n  principal = utils.parseNumber(principal);\n  schedule = utils.parseNumberArray(utils.flatten(schedule));\n  if (utils.anyIsError(principal, schedule)) {\n    return error.value;\n  }\n\n  var n = schedule.length;\n  var future = principal;\n\n  // Apply all interests in schedule\n  for (var i = 0; i < n; i++) {\n    // Apply scheduled interest\n    future *= 1 + schedule[i];\n  }\n\n  // Return future value\n  return future;\n};\n\n// TODO\nexports.INTRATE = function() {\n  throw new Error('INTRATE is not implemented');\n};\n\nexports.IPMT = function(rate, period, periods, present, future, type) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  future = future || 0;\n  type = type || 0;\n\n  rate = utils.parseNumber(rate);\n  period = utils.parseNumber(period);\n  periods = utils.parseNumber(periods);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, period, periods, present, future, type)) {\n    return error.value;\n  }\n\n  // Compute payment\n  var payment = exports.PMT(rate, periods, present, future, type);\n\n  // Compute interest\n  var interest;\n  if (period === 1) {\n    if (type === 1) {\n      interest = 0;\n    } else {\n      interest = -present;\n    }\n  } else {\n    if (type === 1) {\n      interest = exports.FV(rate, period - 2, payment, present, 1) - payment;\n    } else {\n      interest = exports.FV(rate, period - 1, payment, present, 0);\n    }\n  }\n\n  // Return interest\n  return interest * rate;\n};\n\nexports.IRR = function(values, guess) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  guess = guess || 0;\n\n  values = utils.parseNumberArray(utils.flatten(values));\n  guess = utils.parseNumber(guess);\n  if (utils.anyIsError(values, guess)) {\n    return error.value;\n  }\n\n  // Calculates the resulting amount\n  var irrResult = function(values, dates, rate) {\n    var r = rate + 1;\n    var result = values[0];\n    for (var i = 1; i < values.length; i++) {\n      result += values[i] / Math.pow(r, (dates[i] - dates[0]) / 365);\n    }\n    return result;\n  };\n\n  // Calculates the first derivation\n  var irrResultDeriv = function(values, dates, rate) {\n    var r = rate + 1;\n    var result = 0;\n    for (var i = 1; i < values.length; i++) {\n      var frac = (dates[i] - dates[0]) / 365;\n      result -= frac * values[i] / Math.pow(r, frac + 1);\n    }\n    return result;\n  };\n\n  // Initialize dates and check that values contains at least one positive value and one negative value\n  var dates = [];\n  var positive = false;\n  var negative = false;\n  for (var i = 0; i < values.length; i++) {\n    dates[i] = (i === 0) ? 0 : dates[i - 1] + 365;\n    if (values[i] > 0) {\n      positive = true;\n    }\n    if (values[i] < 0) {\n      negative = true;\n    }\n  }\n\n  // Return error if values does not contain at least one positive value and one negative value\n  if (!positive || !negative) {\n    return error.num;\n  }\n\n  // Initialize guess and resultRate\n  guess = (guess === undefined) ? 0.1 : guess;\n  var resultRate = guess;\n\n  // Set maximum epsilon for end of iteration\n  var epsMax = 1e-10;\n\n  // Implement Newton's method\n  var newRate, epsRate, resultValue;\n  var contLoop = true;\n  do {\n    resultValue = irrResult(values, dates, resultRate);\n    newRate = resultRate - resultValue / irrResultDeriv(values, dates, resultRate);\n    epsRate = Math.abs(newRate - resultRate);\n    resultRate = newRate;\n    contLoop = (epsRate > epsMax) && (Math.abs(resultValue) > epsMax);\n  } while (contLoop);\n\n  // Return internal rate of return\n  return resultRate;\n};\n\nexports.ISPMT = function(rate, period, periods, value) {\n  rate = utils.parseNumber(rate);\n  period = utils.parseNumber(period);\n  periods = utils.parseNumber(periods);\n  value = utils.parseNumber(value);\n  if (utils.anyIsError(rate, period, periods, value)) {\n    return error.value;\n  }\n\n  // Return interest\n  return value * rate * (period / periods - 1);\n};\n\n// TODO\nexports.MDURATION = function() {\n  throw new Error('MDURATION is not implemented');\n};\n\nexports.MIRR = function(values, finance_rate, reinvest_rate) {\n  values = utils.parseNumberArray(utils.flatten(values));\n  finance_rate = utils.parseNumber(finance_rate);\n  reinvest_rate = utils.parseNumber(reinvest_rate);\n  if (utils.anyIsError(values, finance_rate, reinvest_rate)) {\n    return error.value;\n  }\n\n  // Initialize number of values\n  var n = values.length;\n\n  // Lookup payments (negative values) and incomes (positive values)\n  var payments = [];\n  var incomes = [];\n  for (var i = 0; i < n; i++) {\n    if (values[i] < 0) {\n      payments.push(values[i]);\n    } else {\n      incomes.push(values[i]);\n    }\n  }\n\n  // Return modified internal rate of return\n  var num = -exports.NPV(reinvest_rate, incomes) * Math.pow(1 + reinvest_rate, n - 1);\n  var den = exports.NPV(finance_rate, payments) * (1 + finance_rate);\n  return Math.pow(num / den, 1 / (n - 1)) - 1;\n};\n\nexports.NOMINAL = function(rate, periods) {\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  if (utils.anyIsError(rate, periods)) {\n    return error.value;\n  }\n\n  // Return error if rate <=0 or periods < 1\n  if (rate <= 0 || periods < 1) {\n    return error.num;\n  }\n\n  // Truncate periods if it is not an integer\n  periods = parseInt(periods, 10);\n\n  // Return nominal annual interest rate\n  return (Math.pow(rate + 1, 1 / periods) - 1) * periods;\n};\n\nexports.NPER = function(rate, payment, present, future, type) {\n  type = (type === undefined) ? 0 : type;\n  future = (future === undefined) ? 0 : future;\n\n  rate = utils.parseNumber(rate);\n  payment = utils.parseNumber(payment);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, payment, present, future, type)) {\n    return error.value;\n  }\n\n  // Return number of periods\n  var num = payment * (1 + rate * type) - future * rate;\n  var den = (present * rate + payment * (1 + rate * type));\n  return Math.log(num / den) / Math.log(1 + rate);\n};\n\nexports.NPV = function() {\n  var args = utils.parseNumberArray(utils.flatten(arguments));\n  if (args instanceof Error) {\n    return args;\n  }\n\n  // Lookup rate\n  var rate = args[0];\n\n  // Initialize net present value\n  var value = 0;\n\n  // Loop on all values\n  for (var j = 1; j < args.length; j++) {\n    value += args[j] / Math.pow(1 + rate, j);\n  }\n\n  // Return net present value\n  return value;\n};\n\n// TODO\nexports.ODDFPRICE = function() {\n  throw new Error('ODDFPRICE is not implemented');\n};\n\n// TODO\nexports.ODDFYIELD = function() {\n  throw new Error('ODDFYIELD is not implemented');\n};\n\n// TODO\nexports.ODDLPRICE = function() {\n  throw new Error('ODDLPRICE is not implemented');\n};\n\n// TODO\nexports.ODDLYIELD = function() {\n  throw new Error('ODDLYIELD is not implemented');\n};\n\nexports.PDURATION = function(rate, present, future) {\n  rate = utils.parseNumber(rate);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  if (utils.anyIsError(rate, present, future)) {\n    return error.value;\n  }\n\n  // Return error if rate <=0\n  if (rate <= 0) {\n    return error.num;\n  }\n\n  // Return number of periods\n  return (Math.log(future) - Math.log(present)) / Math.log(1 + rate);\n};\n\nexports.PMT = function(rate, periods, present, future, type) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  future = future || 0;\n  type = type || 0;\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, periods, present, future, type)) {\n    return error.value;\n  }\n\n  // Return payment\n  var result;\n  if (rate === 0) {\n    result = (present + future) / periods;\n  } else {\n    var term = Math.pow(1 + rate, periods);\n    if (type === 1) {\n      result = (future * rate / (term - 1) + present * rate / (1 - 1 / term)) / (1 + rate);\n    } else {\n      result = future * rate / (term - 1) + present * rate / (1 - 1 / term);\n    }\n  }\n  return -result;\n};\n\nexports.PPMT = function(rate, period, periods, present, future, type) {\n  future = future || 0;\n  type = type || 0;\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, periods, present, future, type)) {\n    return error.value;\n  }\n\n  return exports.PMT(rate, periods, present, future, type) - exports.IPMT(rate, period, periods, present, future, type);\n};\n\n// TODO\nexports.PRICE = function() {\n  throw new Error('PRICE is not implemented');\n};\n\n// TODO\nexports.PRICEDISC = function() {\n  throw new Error('PRICEDISC is not implemented');\n};\n\n// TODO\nexports.PRICEMAT = function() {\n  throw new Error('PRICEMAT is not implemented');\n};\n\nexports.PV = function(rate, periods, payment, future, type) {\n  future = future || 0;\n  type = type || 0;\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  payment = utils.parseNumber(payment);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, periods, payment, future, type)) {\n    return error.value;\n  }\n\n  // Return present value\n  if (rate === 0) {\n    return -payment * periods - future;\n  } else {\n    return (((1 - Math.pow(1 + rate, periods)) / rate) * payment * (1 + rate * type) - future) / Math.pow(1 + rate, periods);\n  }\n};\n\nexports.RATE = function(periods, payment, present, future, type, guess) {\n  // Credits: rabugento\n\n  guess = (guess === undefined) ? 0.01 : guess;\n  future = (future === undefined) ? 0 : future;\n  type = (type === undefined) ? 0 : type;\n\n  periods = utils.parseNumber(periods);\n  payment = utils.parseNumber(payment);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  guess = utils.parseNumber(guess);\n  if (utils.anyIsError(periods, payment, present, future, type, guess)) {\n    return error.value;\n  }\n\n  // Set maximum epsilon for end of iteration\n  var epsMax = 1e-10;\n\n  // Set maximum number of iterations\n  var iterMax = 50;\n\n  // Implement Newton's method\n  var y, y0, y1, x0, x1 = 0,\n    f = 0,\n    i = 0;\n  var rate = guess;\n  if (Math.abs(rate) < epsMax) {\n    y = present * (1 + periods * rate) + payment * (1 + rate * type) * periods + future;\n  } else {\n    f = Math.exp(periods * Math.log(1 + rate));\n    y = present * f + payment * (1 / rate + type) * (f - 1) + future;\n  }\n  y0 = present + payment * periods + future;\n  y1 = present * f + payment * (1 / rate + type) * (f - 1) + future;\n  i = x0 = 0;\n  x1 = rate;\n  while ((Math.abs(y0 - y1) > epsMax) && (i < iterMax)) {\n    rate = (y1 * x0 - y0 * x1) / (y1 - y0);\n    x0 = x1;\n    x1 = rate;\n    if (Math.abs(rate) < epsMax) {\n      y = present * (1 + periods * rate) + payment * (1 + rate * type) * periods + future;\n    } else {\n      f = Math.exp(periods * Math.log(1 + rate));\n      y = present * f + payment * (1 / rate + type) * (f - 1) + future;\n    }\n    y0 = y1;\n    y1 = y;\n    ++i;\n  }\n  return rate;\n};\n\n// TODO\nexports.RECEIVED = function() {\n  throw new Error('RECEIVED is not implemented');\n};\n\nexports.RRI = function(periods, present, future) {\n  periods = utils.parseNumber(periods);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  if (utils.anyIsError(periods, present, future)) {\n    return error.value;\n  }\n\n  // Return error if periods or present is equal to 0 (zero)\n  if (periods === 0 || present === 0) {\n    return error.num;\n  }\n\n  // Return equivalent interest rate\n  return Math.pow(future / present, 1 / periods) - 1;\n};\n\nexports.SLN = function(cost, salvage, life) {\n  cost = utils.parseNumber(cost);\n  salvage = utils.parseNumber(salvage);\n  life = utils.parseNumber(life);\n  if (utils.anyIsError(cost, salvage, life)) {\n    return error.value;\n  }\n\n  // Return error if life equal to 0 (zero)\n  if (life === 0) {\n    return error.num;\n  }\n\n  // Return straight-line depreciation\n  return (cost - salvage) / life;\n};\n\nexports.SYD = function(cost, salvage, life, period) {\n  // Return error if any of the parameters is not a number\n  cost = utils.parseNumber(cost);\n  salvage = utils.parseNumber(salvage);\n  life = utils.parseNumber(life);\n  period = utils.parseNumber(period);\n  if (utils.anyIsError(cost, salvage, life, period)) {\n    return error.value;\n  }\n\n  // Return error if life equal to 0 (zero)\n  if (life === 0) {\n    return error.num;\n  }\n\n  // Return error if period is lower than 1 or greater than life\n  if (period < 1 || period > life) {\n    return error.num;\n  }\n\n  // Truncate period if it is not an integer\n  period = parseInt(period, 10);\n\n  // Return straight-line depreciation\n  return ((cost - salvage) * (life - period + 1) * 2) / (life * (life + 1));\n};\n\nexports.TBILLEQ = function(settlement, maturity, discount) {\n  settlement = utils.parseDate(settlement);\n  maturity = utils.parseDate(maturity);\n  discount = utils.parseNumber(discount);\n  if (utils.anyIsError(settlement, maturity, discount)) {\n    return error.value;\n  }\n\n  // Return error if discount is lower than or equal to zero\n  if (discount <= 0) {\n    return error.num;\n  }\n\n  // Return error if settlement is greater than maturity\n  if (settlement > maturity) {\n    return error.num;\n  }\n\n  // Return error if maturity is more than one year after settlement\n  if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {\n    return error.num;\n  }\n\n  // Return bond-equivalent yield\n  return (365 * discount) / (360 - discount * dateTime.DAYS360(settlement, maturity, false));\n};\n\nexports.TBILLPRICE = function(settlement, maturity, discount) {\n  settlement = utils.parseDate(settlement);\n  maturity = utils.parseDate(maturity);\n  discount = utils.parseNumber(discount);\n  if (utils.anyIsError(settlement, maturity, discount)) {\n    return error.value;\n  }\n\n  // Return error if discount is lower than or equal to zero\n  if (discount <= 0) {\n    return error.num;\n  }\n\n  // Return error if settlement is greater than maturity\n  if (settlement > maturity) {\n    return error.num;\n  }\n\n  // Return error if maturity is more than one year after settlement\n  if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {\n    return error.num;\n  }\n\n  // Return bond-equivalent yield\n  return 100 * (1 - discount * dateTime.DAYS360(settlement, maturity, false) / 360);\n};\n\nexports.TBILLYIELD = function(settlement, maturity, price) {\n  settlement = utils.parseDate(settlement);\n  maturity = utils.parseDate(maturity);\n  price = utils.parseNumber(price);\n  if (utils.anyIsError(settlement, maturity, price)) {\n    return error.value;\n  }\n\n  // Return error if price is lower than or equal to zero\n  if (price <= 0) {\n    return error.num;\n  }\n\n  // Return error if settlement is greater than maturity\n  if (settlement > maturity) {\n    return error.num;\n  }\n\n  // Return error if maturity is more than one year after settlement\n  if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {\n    return error.num;\n  }\n\n  // Return bond-equivalent yield\n  return (100 - price) * 360 / (price * dateTime.DAYS360(settlement, maturity, false));\n};\n\n// TODO\nexports.VDB = function() {\n  throw new Error('VDB is not implemented');\n};\n\n// TODO needs better support for date\n// exports.XIRR = function(values, dates, guess) {\n//   // Credits: algorithm inspired by Apache OpenOffice\n//\n//   values = utils.parseNumberArray(utils.flatten(values));\n//   dates = utils.parseDateArray(utils.flatten(dates));\n//   guess = utils.parseNumber(guess);\n//\n//   if (utils.anyIsError(values, dates, guess)) {\n//     return error.value;\n//   }\n//\n//   // Calculates the resulting amount\n//   var irrResult = function(values, dates, rate) {\n//     var r = rate + 1;\n//     var result = values[0];\n//     for (var i = 1; i < values.length; i++) {\n//       result += values[i] / Math.pow(r, dateTime.DAYS(dates[i], dates[0]) / 365);\n//     }\n//     return result;\n//   };\n//\n//   // Calculates the first derivation\n//   var irrResultDeriv = function(values, dates, rate) {\n//     var r = rate + 1;\n//     var result = 0;\n//     for (var i = 1; i < values.length; i++) {\n//       var frac = dateTime.DAYS(dates[i], dates[0]) / 365;\n//       result -= frac * values[i] / Math.pow(r, frac + 1);\n//     }\n//     return result;\n//   };\n//\n//   // Check that values contains at least one positive value and one negative value\n//   var positive = false;\n//   var negative = false;\n//   for (var i = 0; i < values.length; i++) {\n//     if (values[i] > 0) {\n//       positive = true;\n//     }\n//     if (values[i] < 0) {\n//       negative = true;\n//     }\n//   }\n//\n//   // Return error if values does not contain at least one positive value and one negative value\n//   if (!positive || !negative) {\n//     return error.num;\n//   }\n//\n//   // Initialize guess and resultRate\n//   guess = guess || 0.1;\n//   var resultRate = guess;\n//\n//   // Set maximum epsilon for end of iteration\n//   var epsMax = 1e-10;\n//\n//   // Implement Newton's method\n//   var newRate, epsRate, resultValue;\n//   var contLoop = true;\n//   do {\n//     resultValue = irrResult(values, dates, resultRate);\n//     newRate = resultRate - resultValue / irrResultDeriv(values, dates, resultRate);\n//     epsRate = Math.abs(newRate - resultRate);\n//     resultRate = newRate;\n//     contLoop = (epsRate > epsMax) && (Math.abs(resultValue) > epsMax);\n//   } while (contLoop);\n//\n//   // Return internal rate of return\n//   return resultRate;\n// };\n\nexports.XNPV = function(rate, values, dates) {\n  rate = utils.parseNumber(rate);\n  values = utils.parseNumberArray(utils.flatten(values));\n  dates = utils.parseDateArray(utils.flatten(dates));\n  if (utils.anyIsError(rate, values, dates)) {\n    return error.value;\n  }\n\n  var result = 0;\n  for (var i = 0; i < values.length; i++) {\n    result += values[i] / Math.pow(1 + rate, dateTime.DAYS(dates[i], dates[0]) / 365);\n  }\n  return result;\n};\n\n// TODO\nexports.YIELD = function() {\n  throw new Error('YIELD is not implemented');\n};\n\n// TODO\nexports.YIELDDISC = function() {\n  throw new Error('YIELDDISC is not implemented');\n};\n\n// TODO\nexports.YIELDMAT = function() {\n  throw new Error('YIELDMAT is not implemented');\n};\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar error = __webpack_require__(0);\nvar utils = __webpack_require__(1);\n\nexports.MATCH = function(lookupValue, lookupArray, matchType) {\n  if (!lookupValue && !lookupArray) {\n    return error.na;\n  }\n\n  if (arguments.length === 2) {\n    matchType = 1;\n  }\n  if (!(lookupArray instanceof Array)) {\n    return error.na;\n  }\n\n  if (matchType !== -1 && matchType !== 0 && matchType !== 1) {\n    return error.na;\n  }\n  var index;\n  var indexValue;\n  for (var idx = 0; idx < lookupArray.length; idx++) {\n    if (matchType === 1) {\n      if (lookupArray[idx] === lookupValue) {\n        return idx + 1;\n      } else if (lookupArray[idx] < lookupValue) {\n        if (!indexValue) {\n          index = idx + 1;\n          indexValue = lookupArray[idx];\n        } else if (lookupArray[idx] > indexValue) {\n          index = idx + 1;\n          indexValue = lookupArray[idx];\n        }\n      }\n    } else if (matchType === 0) {\n      if (typeof lookupValue === 'string') {\n        lookupValue = lookupValue.replace(/\\?/g, '.');\n        if (lookupArray[idx].toLowerCase().match(lookupValue.toLowerCase())) {\n          return idx + 1;\n        }\n      } else {\n        if (lookupArray[idx] === lookupValue) {\n          return idx + 1;\n        }\n      }\n    } else if (matchType === -1) {\n      if (lookupArray[idx] === lookupValue) {\n        return idx + 1;\n      } else if (lookupArray[idx] > lookupValue) {\n        if (!indexValue) {\n          index = idx + 1;\n          indexValue = lookupArray[idx];\n        } else if (lookupArray[idx] < indexValue) {\n          index = idx + 1;\n          indexValue = lookupArray[idx];\n        }\n      }\n    }\n  }\n\n  return index ? index : error.na;\n};\n\nexports.VLOOKUP = function (needle, table, index, rangeLookup) {\n  if (!needle || !table || !index) {\n    return error.na;\n  }\n\n  rangeLookup = rangeLookup || false;\n  for (var i = 0; i < table.length; i++) {\n    var row = table[i];\n    if ((!rangeLookup && row[0] === needle) ||\n      ((row[0] === needle) ||\n        (rangeLookup && typeof row[0] === \"string\" && row[0].toLowerCase().indexOf(needle.toLowerCase()) !== -1))) {\n      return (index < (row.length + 1) ? row[index - 1] : error.ref);\n    }\n  }\n\n  return error.na;\n};\n\nexports.HLOOKUP = function (needle, table, index, rangeLookup) {\n  if (!needle || !table || !index) {\n    return error.na;\n  }\n\n  rangeLookup = rangeLookup || false;\n\n  var transposedTable = utils.transpose(table);\n\n  for (var i = 0; i < transposedTable.length; i++) {\n    var row = transposedTable[i];\n    if ((!rangeLookup && row[0] === needle) ||\n      ((row[0] === needle) ||\n        (rangeLookup && typeof row[0] === \"string\" && row[0].toLowerCase().indexOf(needle.toLowerCase()) !== -1))) {\n      return (index < (row.length + 1) ? row[index - 1] : error.ref);\n    }\n  }\n\n  return error.na;\n};\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports['default'] = func;\nvar SYMBOL = exports.SYMBOL = '>';\n\nfunction func(exp1, exp2) {\n  return exp1 > exp2;\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports['default'] = func;\nvar SYMBOL = exports.SYMBOL = '>=';\n\nfunction func(exp1, exp2) {\n  return exp1 >= exp2;\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports['default'] = func;\nvar SYMBOL = exports.SYMBOL = '<';\n\nfunction func(exp1, exp2) {\n  return exp1 < exp2;\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports['default'] = func;\nvar SYMBOL = exports.SYMBOL = '<=';\n\nfunction func(exp1, exp2) {\n  return exp1 <= exp2;\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.SYMBOL = undefined;\nexports['default'] = func;\n\nvar _number = __webpack_require__(3);\n\nvar _error = __webpack_require__(2);\n\nvar SYMBOL = exports.SYMBOL = '-';\n\nfunction func(first) {\n  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  var result = rest.reduce(function (acc, value) {\n    return acc - (0, _number.toNumber)(value);\n  }, (0, _number.toNumber)(first));\n\n  if (isNaN(result)) {\n    throw Error(_error.ERROR_VALUE);\n  }\n\n  return result;\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.SYMBOL = undefined;\nexports['default'] = func;\n\nvar _number = __webpack_require__(3);\n\nvar _error = __webpack_require__(2);\n\nvar SYMBOL = exports.SYMBOL = '*';\n\nfunction func(first) {\n  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  var result = rest.reduce(function (acc, value) {\n    return acc * (0, _number.toNumber)(value);\n  }, (0, _number.toNumber)(first));\n\n  if (isNaN(result)) {\n    throw Error(_error.ERROR_VALUE);\n  }\n\n  return result;\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports['default'] = func;\nvar SYMBOL = exports.SYMBOL = '<>';\n\nfunction func(exp1, exp2) {\n  return exp1 !== exp2;\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.SYMBOL = undefined;\nexports['default'] = func;\n\nvar _number = __webpack_require__(3);\n\nvar _error = __webpack_require__(2);\n\nvar SYMBOL = exports.SYMBOL = '^';\n\nfunction func(exp1, exp2) {\n  var result = Math.pow((0, _number.toNumber)(exp1), (0, _number.toNumber)(exp2));\n\n  if (isNaN(result)) {\n    throw Error(_error.ERROR_VALUE);\n  }\n\n  return result;\n}\n\nfunc.SYMBOL = SYMBOL;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar grammarParser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,5],$V1=[1,8],$V2=[1,6],$V3=[1,7],$V4=[1,9],$V5=[1,14],$V6=[1,15],$V7=[1,16],$V8=[1,12],$V9=[1,13],$Va=[1,17],$Vb=[1,19],$Vc=[1,20],$Vd=[1,21],$Ve=[1,22],$Vf=[1,23],$Vg=[1,24],$Vh=[1,25],$Vi=[1,26],$Vj=[1,27],$Vk=[1,28],$Vl=[5,9,10,11,13,14,15,16,17,18,19,20,29,30],$Vm=[5,9,10,11,13,14,15,16,17,18,19,20,29,30,32],$Vn=[5,9,10,11,13,14,15,16,17,18,19,20,29,30,34],$Vo=[5,10,11,13,14,15,16,17,29,30],$Vp=[5,10,13,14,15,16,29,30],$Vq=[5,10,11,13,14,15,16,17,18,19,29,30],$Vr=[13,29,30];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"expressions\":3,\"expression\":4,\"EOF\":5,\"variableSequence\":6,\"number\":7,\"STRING\":8,\"&\":9,\"=\":10,\"+\":11,\"(\":12,\")\":13,\"<\":14,\">\":15,\"NOT\":16,\"-\":17,\"*\":18,\"/\":19,\"^\":20,\"FUNCTION\":21,\"expseq\":22,\"cell\":23,\"ABSOLUTE_CELL\":24,\"RELATIVE_CELL\":25,\"MIXED_CELL\":26,\":\":27,\"ARRAY\":28,\";\":29,\",\":30,\"VARIABLE\":31,\"DECIMAL\":32,\"NUMBER\":33,\"%\":34,\"ERROR\":35,\"$accept\":0,\"$end\":1},\nterminals_: {5:\"EOF\",8:\"STRING\",9:\"&\",10:\"=\",11:\"+\",12:\"(\",13:\")\",14:\"<\",15:\">\",16:\"NOT\",17:\"-\",18:\"*\",19:\"/\",20:\"^\",21:\"FUNCTION\",24:\"ABSOLUTE_CELL\",25:\"RELATIVE_CELL\",26:\"MIXED_CELL\",27:\":\",28:\"ARRAY\",29:\";\",30:\",\",31:\"VARIABLE\",32:\"DECIMAL\",33:\"NUMBER\",34:\"%\",35:\"ERROR\"},\nproductions_: [0,[3,2],[4,1],[4,1],[4,1],[4,3],[4,3],[4,3],[4,3],[4,4],[4,4],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,2],[4,3],[4,4],[4,1],[4,1],[4,2],[23,1],[23,1],[23,1],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[22,1],[22,1],[22,3],[22,3],[6,1],[6,3],[7,1],[7,3],[7,2],[2,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n\n      return $$[$0-1];\n\nbreak;\ncase 2:\n\n      this.$ = yy.callVariable($$[$0][0]);\n\nbreak;\ncase 3:\n\n      this.$ = yy.toNumber($$[$0]);\n\nbreak;\ncase 4:\n\n      this.$ = yy.trimEdges($$[$0]);\n\nbreak;\ncase 5:\n\n      this.$ = yy.evaluateByOperator('&', [$$[$0-2], $$[$0]]);\n\nbreak;\ncase 6:\n\n      this.$ = yy.evaluateByOperator('=', [$$[$0-2], $$[$0]]);\n\nbreak;\ncase 7:\n\n      this.$ = yy.evaluateByOperator('+', [$$[$0-2], $$[$0]]);\n\nbreak;\ncase 8:\n\n      this.$ = $$[$0-1];\n\nbreak;\ncase 9:\n\n      this.$ = yy.evaluateByOperator('<=', [$$[$0-3], $$[$0]]);\n\nbreak;\ncase 10:\n\n      this.$ = yy.evaluateByOperator('>=', [$$[$0-3], $$[$0]]);\n\nbreak;\ncase 11:\n\n      this.$ = yy.evaluateByOperator('<>', [$$[$0-3], $$[$0]]);\n\nbreak;\ncase 12:\n\n      this.$ = yy.evaluateByOperator('NOT', [$$[$0-2], $$[$0]]);\n\nbreak;\ncase 13:\n\n      this.$ = yy.evaluateByOperator('>', [$$[$0-2], $$[$0]]);\n\nbreak;\ncase 14:\n\n      this.$ = yy.evaluateByOperator('<', [$$[$0-2], $$[$0]]);\n\nbreak;\ncase 15:\n\n      this.$ = yy.evaluateByOperator('-', [$$[$0-2], $$[$0]]);\n\nbreak;\ncase 16:\n\n      this.$ = yy.evaluateByOperator('*', [$$[$0-2], $$[$0]]);\n\nbreak;\ncase 17:\n\n      this.$ = yy.evaluateByOperator('/', [$$[$0-2], $$[$0]]);\n\nbreak;\ncase 18:\n\n      this.$ = yy.evaluateByOperator('^', [$$[$0-2], $$[$0]]);\n\nbreak;\ncase 19:\n\n      var n1 = yy.invertNumber($$[$0]);\n\n      this.$ = n1;\n\n      if (isNaN(this.$)) {\n          this.$ = 0;\n      }\n\nbreak;\ncase 20:\n\n      var n1 = yy.toNumber($$[$0]);\n\n      this.$ = n1;\n\n      if (isNaN(this.$)) {\n          this.$ = 0;\n      }\n\nbreak;\ncase 21:\n\n      this.$ = yy.callFunction($$[$0-2]);\n\nbreak;\ncase 22:\n\n      this.$ = yy.callFunction($$[$0-3], $$[$0-1]);\n\nbreak;\ncase 26: case 27: case 28:\n\n      this.$ = yy.cellValue($$[$0]);\n\nbreak;\ncase 29: case 30: case 31: case 32: case 33: case 34: case 35: case 36: case 37:\n\n      this.$ = yy.rangeValue($$[$0-2], $$[$0]);\n\nbreak;\ncase 38: case 42:\n\n      this.$ = [$$[$0]];\n\nbreak;\ncase 39:\n\n      this.$ = yy.trimEdges(yytext).split(',');\n\nbreak;\ncase 40: case 41:\n\n      $$[$0-2].push($$[$0]);\n      this.$ = $$[$0-2];\n\nbreak;\ncase 43:\n\n      this.$ = (Array.isArray($$[$0-2]) ? $$[$0-2] : [$$[$0-2]]);\n      this.$.push($$[$0]);\n\nbreak;\ncase 44:\n\n      this.$ = $$[$0];\n\nbreak;\ncase 45:\n\n      this.$ = ($$[$0-2] + '.' + $$[$0]) * 1;\n\nbreak;\ncase 46:\n\n      this.$ = $$[$0-1] * 0.01;\n\nbreak;\ncase 47:\n\n      this.$ = yy.throwError($$[$0]);\n\nbreak;\n}\n},\ntable: [{2:11,3:1,4:2,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{1:[3]},{5:[1,18],9:$Vb,10:$Vc,11:$Vd,14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk},o($Vl,[2,2],{32:[1,29]}),o($Vl,[2,3],{34:[1,30]}),o($Vl,[2,4]),{2:11,4:31,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:32,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:33,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{12:[1,34]},o($Vl,[2,23]),o($Vl,[2,24],{2:35,35:$Va}),o($Vm,[2,42]),o($Vn,[2,44],{32:[1,36]}),o($Vl,[2,26],{27:[1,37]}),o($Vl,[2,27],{27:[1,38]}),o($Vl,[2,28],{27:[1,39]}),o([5,9,10,11,13,14,15,16,17,18,19,20,29,30,35],[2,47]),{1:[2,1]},{2:11,4:40,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:41,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:42,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:45,6:3,7:4,8:$V0,10:[1,43],11:$V1,12:$V2,15:[1,44],17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:47,6:3,7:4,8:$V0,10:[1,46],11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:48,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:49,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:50,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:51,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:52,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{31:[1,53]},o($Vn,[2,46]),{9:$Vb,10:$Vc,11:$Vd,13:[1,54],14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk},o($Vo,[2,19],{9:$Vb,18:$Vi,19:$Vj,20:$Vk}),o($Vo,[2,20],{9:$Vb,18:$Vi,19:$Vj,20:$Vk}),{2:11,4:57,6:3,7:4,8:$V0,11:$V1,12:$V2,13:[1,55],17:$V3,21:$V4,22:56,23:10,24:$V5,25:$V6,26:$V7,28:[1,58],31:$V8,33:$V9,35:$Va},o($Vl,[2,25]),{33:[1,59]},{24:[1,60],25:[1,61],26:[1,62]},{24:[1,63],25:[1,64],26:[1,65]},{24:[1,66],25:[1,67],26:[1,68]},o($Vl,[2,5]),o([5,10,13,29,30],[2,6],{9:$Vb,11:$Vd,14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vo,[2,7],{9:$Vb,18:$Vi,19:$Vj,20:$Vk}),{2:11,4:69,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:70,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},o($Vp,[2,14],{9:$Vb,11:$Vd,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),{2:11,4:71,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},o($Vp,[2,13],{9:$Vb,11:$Vd,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o([5,10,13,16,29,30],[2,12],{9:$Vb,11:$Vd,14:$Ve,15:$Vf,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vo,[2,15],{9:$Vb,18:$Vi,19:$Vj,20:$Vk}),o($Vq,[2,16],{9:$Vb,20:$Vk}),o($Vq,[2,17],{9:$Vb,20:$Vk}),o([5,10,11,13,14,15,16,17,18,19,20,29,30],[2,18],{9:$Vb}),o($Vm,[2,43]),o($Vl,[2,8]),o($Vl,[2,21]),{13:[1,72],29:[1,73],30:[1,74]},o($Vr,[2,38],{9:$Vb,10:$Vc,11:$Vd,14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vr,[2,39]),o($Vn,[2,45]),o($Vl,[2,29]),o($Vl,[2,30]),o($Vl,[2,31]),o($Vl,[2,32]),o($Vl,[2,33]),o($Vl,[2,34]),o($Vl,[2,35]),o($Vl,[2,36]),o($Vl,[2,37]),o($Vp,[2,9],{9:$Vb,11:$Vd,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vp,[2,11],{9:$Vb,11:$Vd,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vp,[2,10],{9:$Vb,11:$Vd,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vl,[2,22]),{2:11,4:75,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:76,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},o($Vr,[2,40],{9:$Vb,10:$Vc,11:$Vd,14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vr,[2,41],{9:$Vb,10:$Vc,11:$Vd,14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk})],\ndefaultActions: {18:[2,1]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse (input) {\n    var self = this,\n        stack = [0],\n        tstack = [], // token stack\n        vstack = [null], // semantic value stack\n        lstack = [], // location stack\n        table = this.table,\n        yytext = '',\n        yylineno = 0,\n        yyleng = 0,\n        recovering = 0,\n        TERROR = 2,\n        EOF = 1;\n\n    var args = lstack.slice.call(arguments, 1);\n\n    //this.reductionCount = this.shiftCount = 0;\n\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    // copy state\n    for (var k in this.yy) {\n      if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n        sharedState.yy[k] = this.yy[k];\n      }\n    }\n\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n\n    var ranges = lexer.options && lexer.options.ranges;\n\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n\n    function popStack (n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n\n_token_stack:\n    var lex = function () {\n        var token;\n        token = lexer.lex() || EOF;\n        // if token isn't its numeric value, convert\n        if (typeof token !== 'number') {\n            token = self.symbols_[token] || token;\n        }\n        return token;\n    }\n\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        // retreive state number from top of stack\n        state = stack[stack.length - 1];\n\n        // use default actions if available\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            // read action for current state and first input\n            action = table[state] && table[state][symbol];\n        }\n\n_handle_error:\n        // handle parse error\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var error_rule_depth;\n            var errStr = '';\n\n            // Return the rule stack depth where the nearest error rule can be found.\n            // Return FALSE when no error recovery rule was found.\n            function locateNearestErrorRecoveryRule(state) {\n                var stack_probe = stack.length - 1;\n                var depth = 0;\n\n                // try to recover from error\n                for(;;) {\n                    // check for error recovery rule in this state\n                    if ((TERROR.toString()) in table[state]) {\n                        return depth;\n                    }\n                    if (state === 0 || stack_probe < 2) {\n                        return false; // No suitable error recovery rule available.\n                    }\n                    stack_probe -= 2; // popStack(1): [symbol, action]\n                    state = stack[stack_probe];\n                    ++depth;\n                }\n            }\n\n            if (!recovering) {\n                // first see if there's any chance at hitting an error recovery rule:\n                error_rule_depth = locateNearestErrorRecoveryRule(state);\n\n                // Report error\n                expected = [];\n                for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                        expected.push(\"'\"+this.terminals_[p]+\"'\");\n                    }\n                }\n                if (lexer.showPosition) {\n                    errStr = 'Parse error on line '+(yylineno+1)+\":\\n\"+lexer.showPosition()+\"\\nExpecting \"+expected.join(', ') + \", got '\" + (this.terminals_[symbol] || symbol)+ \"'\";\n                } else {\n                    errStr = 'Parse error on line '+(yylineno+1)+\": Unexpected \" +\n                                  (symbol == EOF ? \"end of input\" :\n                                              (\"'\"+(this.terminals_[symbol] || symbol)+\"'\"));\n                }\n                this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected,\n                    recoverable: (error_rule_depth !== false)\n                });\n            } else if (preErrorSymbol !== EOF) {\n                error_rule_depth = locateNearestErrorRecoveryRule(state);\n            }\n\n            // just recovered from another error\n            if (recovering == 3) {\n                if (symbol === EOF || preErrorSymbol === EOF) {\n                    throw new Error(errStr || 'Parsing halted while starting to recover from another error.');\n                }\n\n                // discard current lookahead and grab another\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                symbol = lex();\n            }\n\n            // try to recover from error\n            if (error_rule_depth === false) {\n                throw new Error(errStr || 'Parsing halted. No suitable error recovery rule available.');\n            }\n            popStack(error_rule_depth);\n\n            preErrorSymbol = (symbol == TERROR ? null : symbol); // save the lookahead token\n            symbol = TERROR;         // insert generic error symbol as new lookahead\n            state = stack[stack.length-1];\n            action = table[state] && table[state][TERROR];\n            recovering = 3; // allow 3 real symbols to be shifted before reporting a new error\n        }\n\n        // this shouldn't happen, unless resolve defaults are off\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: '+state+', token: '+symbol);\n        }\n\n        switch (action[0]) {\n            case 1: // shift\n                //this.shiftCount++;\n\n                stack.push(symbol);\n                vstack.push(lexer.yytext);\n                lstack.push(lexer.yylloc);\n                stack.push(action[1]); // push state\n                symbol = null;\n                if (!preErrorSymbol) { // normal execution/no error\n                    yyleng = lexer.yyleng;\n                    yytext = lexer.yytext;\n                    yylineno = lexer.yylineno;\n                    yyloc = lexer.yylloc;\n                    if (recovering > 0) {\n                        recovering--;\n                    }\n                } else {\n                    // error just occurred, resume old lookahead f/ before error\n                    symbol = preErrorSymbol;\n                    preErrorSymbol = null;\n                }\n                break;\n\n            case 2:\n                // reduce\n                //this.reductionCount++;\n\n                len = this.productions_[action[1]][1];\n\n                // perform semantic action\n                yyval.$ = vstack[vstack.length-len]; // default to $$ = $1\n                // default location, uses first token for firsts, last for lasts\n                yyval._$ = {\n                    first_line: lstack[lstack.length-(len||1)].first_line,\n                    last_line: lstack[lstack.length-1].last_line,\n                    first_column: lstack[lstack.length-(len||1)].first_column,\n                    last_column: lstack[lstack.length-1].last_column\n                };\n                if (ranges) {\n                  yyval._$.range = [lstack[lstack.length-(len||1)].range[0], lstack[lstack.length-1].range[1]];\n                }\n                r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n\n                if (typeof r !== 'undefined') {\n                    return r;\n                }\n\n                // pop off stack\n                if (len) {\n                    stack = stack.slice(0,-1*len*2);\n                    vstack = vstack.slice(0, -1*len);\n                    lstack = lstack.slice(0, -1*len);\n                }\n\n                stack.push(this.productions_[action[1]][0]);    // push nonterminal (reduce)\n                vstack.push(yyval.$);\n                lstack.push(yyval._$);\n                // goto new state = table[STATE][NONTERMINAL]\n                newState = table[stack[stack.length-2]][stack[stack.length-1]];\n                stack.push(newState);\n                break;\n\n            case 3:\n                // accept\n                return true;\n        }\n\n    }\n\n    return true;\n}};\n\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:/* skip whitespace */\nbreak;\ncase 1:return 8;\nbreak;\ncase 2:return 8;\nbreak;\ncase 3:return 21;\nbreak;\ncase 4:return 35;\nbreak;\ncase 5:return 24;\nbreak;\ncase 6:return 26;\nbreak;\ncase 7:return 26;\nbreak;\ncase 8:return 25;\nbreak;\ncase 9:return 21;\nbreak;\ncase 10:return 31;\nbreak;\ncase 11:return 31;\nbreak;\ncase 12:return 33;\nbreak;\ncase 13:return 28;\nbreak;\ncase 14:return 9;\nbreak;\ncase 15:return ' ';\nbreak;\ncase 16:return 32;\nbreak;\ncase 17:return 27;\nbreak;\ncase 18:return 29;\nbreak;\ncase 19:return 30;\nbreak;\ncase 20:return 18;\nbreak;\ncase 21:return 19;\nbreak;\ncase 22:return 17;\nbreak;\ncase 23:return 11;\nbreak;\ncase 24:return 20;\nbreak;\ncase 25:return 12;\nbreak;\ncase 26:return 13;\nbreak;\ncase 27:return 15;\nbreak;\ncase 28:return 14;\nbreak;\ncase 29:return 16;\nbreak;\ncase 30:return '\"';\nbreak;\ncase 31:return \"'\";\nbreak;\ncase 32:return \"!\";\nbreak;\ncase 33:return 10;\nbreak;\ncase 34:return 34;\nbreak;\ncase 35:return '#';\nbreak;\ncase 36:return 5;\nbreak;\n}\n},\nrules: [/^(?:\\s+)/,/^(?:\"(\\\\[\"]|[^\"])*\")/,/^(?:'(\\\\[']|[^'])*')/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9\\.]+(?=[(]))/,/^(?:#[A-Z0-9\\/]+(!|\\?)?)/,/^(?:\\$[A-Za-z]+\\$[0-9]+)/,/^(?:\\$[A-Za-z]+[0-9]+)/,/^(?:[A-Za-z]+\\$[0-9]+)/,/^(?:[A-Za-z]+[0-9]+)/,/^(?:[A-Za-z\\.]+(?=[(]))/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9]+)/,/^(?:[A-Za-z_]+)/,/^(?:[0-9]+)/,/^(?:\\[(.*)?\\])/,/^(?:&)/,/^(?: )/,/^(?:[.])/,/^(?::)/,/^(?:;)/,/^(?:,)/,/^(?:\\*)/,/^(?:\\/)/,/^(?:-)/,/^(?:\\+)/,/^(?:\\^)/,/^(?:\\()/,/^(?:\\))/,/^(?:>)/,/^(?:<)/,/^(?:NOT\\b)/,/^(?:\")/,/^(?:')/,/^(?:!)/,/^(?:=)/,/^(?:%)/,/^(?:[#])/,/^(?:$)/],\nconditions: {\"INITIAL\":{\"rules\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (true) {\nexports.parser = grammarParser;\nexports.Parser = grammarParser.Parser;\nexports.parse = function () { return grammarParser.parse.apply(grammarParser, arguments); };\n}\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.trimEdges = trimEdges;\n/* eslint-disable import/prefer-default-export */\n/**\n * Trim value by cutting character starting from the beginning and ending at the same time.\n *\n * @param {String} string String to trimming.\n * @param {Number} [margin=1] Number of character to cut.\n * @returns {String}\n */\nfunction trimEdges(string) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n  string = string.substring(margin, string.length - margin);\n\n  return string;\n}\n\n/***/ })\n/******/ ]);\n});","/* global document */\n/* global window */\nclass Element {\n  constructor(tag, className = '') {\n    if (typeof tag === 'string') {\n      this.el = document.createElement(tag);\n      this.el.className = className;\n    } else {\n      this.el = tag;\n    }\n    this.data = {};\n  }\n\n  data(key, value) {\n    if (value !== undefined) {\n      this.data[key] = value;\n      return this;\n    }\n    return this.data[key];\n  }\n\n  on(eventNames, handler) {\n    const [fen, ...oen] = eventNames.split('.');\n    let eventName = fen;\n    if (eventName === 'mousewheel' && /Firefox/i.test(window.navigator.userAgent)) {\n      eventName = 'DOMMouseScroll';\n    }\n    this.el.addEventListener(eventName, (evt) => {\n      handler(evt);\n      for (let i = 0; i < oen.length; i += 1) {\n        const k = oen[i];\n        if (k === 'left' && evt.button !== 0) {\n          return;\n        }\n        if (k === 'right' && evt.button !== 2) {\n          return;\n        }\n        if (k === 'stop') {\n          evt.stopPropagation();\n        }\n      }\n    });\n    return this;\n  }\n\n  offset(value) {\n    if (value !== undefined) {\n      Object.keys(value).forEach((k) => {\n        this.css(k, `${value[k]}px`);\n      });\n      return this;\n    }\n    const {\n      offsetTop, offsetLeft, offsetHeight, offsetWidth,\n    } = this.el;\n    return {\n      top: offsetTop,\n      left: offsetLeft,\n      height: offsetHeight,\n      width: offsetWidth,\n    };\n  }\n\n  scroll(v) {\n    const { el } = this;\n    if (v !== undefined) {\n      if (v.left !== undefined) {\n        el.scrollLeft = v.left;\n      }\n      if (v.top !== undefined) {\n        el.scrollTop = v.top;\n      }\n    }\n    return { left: el.scrollLeft, top: el.scrollTop };\n  }\n\n  box() {\n    return this.el.getBoundingClientRect();\n  }\n\n  parent() {\n    return new Element(this.el.parentNode);\n  }\n\n  children(...eles) {\n    if (arguments.length === 0) {\n      return this.el.childNodes;\n    }\n    eles.forEach(ele => this.child(ele));\n    return this;\n  }\n\n  removeChild(el) {\n    this.el.removeChild(el);\n  }\n\n  /*\n  first() {\n    return this.el.firstChild;\n  }\n\n  last() {\n    return this.el.lastChild;\n  }\n\n  remove(ele) {\n    return this.el.removeChild(ele);\n  }\n\n  prepend(ele) {\n    const { el } = this;\n    if (el.children.length > 0) {\n      el.insertBefore(ele, el.firstChild);\n    } else {\n      el.appendChild(ele);\n    }\n    return this;\n  }\n\n  prev() {\n    return this.el.previousSibling;\n  }\n\n  next() {\n    return this.el.nextSibling;\n  }\n  */\n\n  child(arg) {\n    let ele = arg;\n    if (typeof arg === 'string') {\n      ele = document.createTextNode(arg);\n    } else if (arg instanceof Element) {\n      ele = arg.el;\n    }\n    this.el.appendChild(ele);\n    return this;\n  }\n\n  contains(ele) {\n    return this.el.contains(ele);\n  }\n\n  className(v) {\n    if (v !== undefined) {\n      this.el.className = v;\n      return this;\n    }\n    return this.el.className;\n  }\n\n  addClass(name) {\n    this.el.classList.add(name);\n    return this;\n  }\n\n  hasClass(name) {\n    return this.el.classList.contains(name);\n  }\n\n  removeClass(name) {\n    this.el.classList.remove(name);\n    return this;\n  }\n\n  toggle(cls = 'active') {\n    return this.toggleClass(cls);\n  }\n\n  toggleClass(name) {\n    return this.el.classList.toggle(name);\n  }\n\n  active(flag = true, cls = 'active') {\n    if (flag) this.addClass(cls);\n    else this.removeClass(cls);\n    return this;\n  }\n\n  checked(flag = true) {\n    this.active(flag, 'checked');\n    return this;\n  }\n\n  disabled(flag = true) {\n    if (flag) this.addClass('disabled');\n    else this.removeClass('disabled');\n    return this;\n  }\n\n  // key, value\n  // key\n  // {k, v}...\n  attr(key, value) {\n    if (value !== undefined) {\n      this.el.setAttribute(key, value);\n    } else {\n      if (typeof key === 'string') {\n        return this.el.getAttribute(key);\n      }\n      Object.keys(key).forEach((k) => {\n        this.el.setAttribute(k, key[k]);\n      });\n    }\n    return this;\n  }\n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n    return this;\n  }\n\n  html(content) {\n    if (content !== undefined) {\n      this.el.innerHTML = content;\n      return this;\n    }\n    return this.el.innerHTML;\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.el.value = v;\n      return this;\n    }\n    return this.el.value;\n  }\n\n  focus() {\n    this.el.focus();\n  }\n\n  cssRemoveKeys(...keys) {\n    keys.forEach(k => this.el.style.removeProperty(k));\n    return this;\n  }\n\n  // css( propertyName )\n  // css( propertyName, value )\n  // css( properties )\n  css(name, value) {\n    if (value === undefined && typeof name !== 'string') {\n      Object.keys(name).forEach((k) => {\n        this.el.style[k] = name[k];\n      });\n      return this;\n    }\n    if (value !== undefined) {\n      this.el.style[name] = value;\n      return this;\n    }\n    return this.el.style[name];\n  }\n\n  computedStyle() {\n    return window.getComputedStyle(this.el, null);\n  }\n\n  show() {\n    this.css('display', 'block');\n    return this;\n  }\n\n  hide() {\n    this.css('display', 'none');\n    return this;\n  }\n}\n\nconst h = (tag, className = '') => new Element(tag, className);\n\nexport {\n  Element,\n  h,\n};\n","import './_.prototypes';\n\nconst alphabets = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n\n/** index number 2 letters\n * @example stringAt(26) ==> 'AA'\n * @date 2019-10-10\n * @export\n * @param {number} index\n * @returns {string}\n */\nexport function stringAt(index) {\n  let str = '';\n  let cindex = index;\n  while (cindex >= alphabets.length) {\n    cindex /= alphabets.length;\n    cindex -= 1;\n    str += alphabets[parseInt(cindex, 10) % alphabets.length];\n  }\n  const last = index % alphabets.length;\n  str += alphabets[last];\n  return str;\n}\n\n/** translate letter in A1-tag to number\n * @date 2019-10-10\n * @export\n * @param {string} str \"AA\" in A1-tag \"AA1\"\n * @returns {number}\n */\nexport function indexAt(str) {\n  let ret = 0;\n  for(let i = 0; i !== str.length; ++i) ret = 26 * ret + str.charCodeAt(i) - 64;\n  return ret - 1;\n}\n\n// Regex looks for:\n// [1] Optional $ (absolute X symbol)\n// [2] 1-3 letters representing the column (X)\n// [3] Optional $ (absolute Y symbol)\n// [4] Sequence of digits representing the row (Y), first digit cannot be 0\nexport const REGEX_EXPR_GLOBAL                   = /[$]?[a-zA-Z]{1,3}[$]?[1-9][0-9]*/g;\nexport const REGEX_EXPR_NONGLOBAL_AT_START       = /^[$]?[a-zA-Z]{1,3}[$]?[1-9][0-9]*/;\nexport const REGEX_EXPR_RANGE_NONGLOBAL_AT_START = /^[$]?[a-zA-Z]{1,3}[$]?[1-9][0-9]*:[$]?[a-zA-Z]{1,3}[$]?[1-9][0-9]*/;\n       const REGEX_EXPR_NONGLOBAL_CAPTURE        = /([$])?([a-zA-Z]{1,3})([$])?([1-9][0-9]*)/;\n\n// B10 => x,y,xIsAbsolute,yIsAbsolute,length of expr\n/** translate A1-tag to XY-tag\n * @date 2019-10-10\n * @export\n * @param {tagA1} src\n * @returns {tagXY}\n */\nexport function expr2xy(src) {\n  // Regex looks for:\n  // [1] Optional $ (absolute X symbol)\n  // [2] 1-3 letters representing the column (X)\n  // [3] Optional $ (absolute Y symbol)\n  // [4] Sequence of digits representing the row (Y)\n  const found = src.match(REGEX_EXPR_NONGLOBAL_CAPTURE);\n\n  if (!found) {\n    return null;\n  }\n\n  const xIsAbsolute = found[1] !== undefined;\n  const x = found[2];\n  const yIsAbsolute = found[3] !== undefined;\n  const y = found[4];\n\n  return [indexAt(x), parseInt(y, 10) - 1, xIsAbsolute, yIsAbsolute, found[0].length];\n}\n\n/** translate tagA1B2 to cell range arguments (sri, sci, eri, eci)\n * @date 2020-09-09\n * @export\n * @param {tagA1B2} src\n * @returns {number[4]}\n */\nexport function expr2cellRangeArgs(src) {\n  const startRef = expr2xy(src);\n\n  if (!startRef) {\n    return null;\n  }\n\n  const sci = startRef[0];\n  const sri = startRef[1];\n\n  const srcIndexEndOfStartRef = startRef[4];\n\n  // If we've reached the end of the string OR\n  // if the next character after start reference is not a colon,\n  // then we just have a start reference (no end)\n  if (srcIndexEndOfStartRef >= src.length || src[srcIndexEndOfStartRef] != ':') {\n    return [sri, sci, sri, sci];\n  }\n\n  let endRef = expr2xy(src.slice(srcIndexEndOfStartRef + 1));\n\n  if (!endRef) {\n    return null;\n  }\n\n  const eci = endRef[0];\n  const eri = endRef[1];\n\n  return [sri, sci, eri, eci];\n}\n\n/** translate XY-tag to A1-tag\n * @example x,y => B10\n * @date 2019-10-10\n * @export\n * @param {number} x\n * @param {number} y\n * @returns {tagA1}\n */\nexport function xy2expr(x, y, xIsAbsolute = false, yIsAbsolute = false) {\n  const insertAbs = function(isAbsolute) { return (isAbsolute) ? '$' : '' };\n  return `${insertAbs(xIsAbsolute)}${stringAt(x)}${insertAbs(yIsAbsolute)}${y + 1}`;\n}\n\n/** translate cell range arguments to cell range string expression\n * @example 1, 1, 2, 4 => A2:D3\n * @date 2020-09-09\n * @export\n * @param {number} sri\n * @param {number} sri\n * @param {number} eri\n * @param {number} eci\n * @returns {tagA1B2}\n */\nexport function cellRangeArgs2expr(sri, sci, eri, eci) {\n  let expr = xy2expr(sci, sri);\n\n  if (sci != eci || sri != eri) {\n    expr += `:${xy2expr(eci, eri)}`;\n  }\n\n  return expr;\n}\n\n/** translate A1-tag src by (xn, yn)\n * @date 2019-10-10\n * @export\n * @param {tagA1} src\n * @param {number} xn\n * @param {number} yn\n * @param {Boolean} dontTranslateAbsolute\n * @returns {tagA1}\n */\nexport function expr2expr(src, xn, yn, translateAbsolute = false, condition = () => true) {\n  if (xn === 0 && yn === 0) return src;\n  const [x, y, xIsAbsolute, yIsAbsolute] = expr2xy(src);\n\n  if (!translateAbsolute) {\n    // Ignore translation request if axis is absolute\n    if (xIsAbsolute) xn = 0;\n    if (yIsAbsolute) yn = 0;\n  }\n\n  if (!condition(x, y)) return src;\n  return xy2expr(x + xn, y + yn, xIsAbsolute, yIsAbsolute);\n}\n\nexport default {\n  stringAt,\n  indexAt,\n  expr2xy,\n  expr2cellRangeArgs,\n  xy2expr,\n  cellRangeArgs2expr,\n  expr2expr,\n  REGEX_EXPR_GLOBAL,\n  REGEX_EXPR_NONGLOBAL_AT_START,\n  REGEX_EXPR_RANGE_NONGLOBAL_AT_START,\n};\n","import { xy2expr, expr2xy, expr2cellRangeArgs } from './alphabet';\n\nclass CellRange {\n  constructor(sri, sci, eri, eci, w = 0, h = 0) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n    this.w = w;\n    this.h = h;\n  }\n\n  set(sri, sci, eri, eci) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n  }\n\n  multiple() {\n    return this.eri - this.sri > 0 || this.eci - this.sci > 0;\n  }\n\n  // cell-index: ri, ci\n  // cell-ref: A10\n  includes(...args) {\n    let [ri, ci] = [0, 0];\n    if (args.length === 1) {\n      [ci, ri] = expr2xy(args[0]);\n    } else if (args.length === 2) {\n      [ri, ci] = args;\n    }\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return sri <= ri && ri <= eri && sci <= ci && ci <= eci;\n  }\n\n  each(cb, rowFilter = () => true) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    for (let i = sri; i <= eri; i += 1) {\n      if (rowFilter(i)) {\n        for (let j = sci; j <= eci; j += 1) {\n          cb(i, j);\n        }\n      }\n    }\n  }\n\n  contains(other) {\n    return this.sri <= other.sri\n      && this.sci <= other.sci\n      && this.eri >= other.eri\n      && this.eci >= other.eci;\n  }\n\n  // within\n  within(other) {\n    return this.sri >= other.sri\n      && this.sci >= other.sci\n      && this.eri <= other.eri\n      && this.eci <= other.eci;\n  }\n\n  // disjoint\n  disjoint(other) {\n    return this.sri > other.eri\n      || this.sci > other.eci\n      || other.sri > this.eri\n      || other.sci > this.eci;\n  }\n\n  // intersects\n  intersects(other) {\n    return this.sri <= other.eri\n      && this.sci <= other.eci\n      && other.sri <= this.eri\n      && other.sci <= this.eci;\n  }\n\n  // union\n  union(other) {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    return new CellRange(\n      other.sri < sri ? other.sri : sri,\n      other.sci < sci ? other.sci : sci,\n      other.eri > eri ? other.eri : eri,\n      other.eci > eci ? other.eci : eci,\n    );\n  }\n\n  // intersection\n  // intersection(other) {}\n\n  // Returns Array<CellRange> that represents that part of this that does not intersect with other\n  // difference\n  difference(other) {\n    const ret = [];\n    const addRet = (sri, sci, eri, eci) => {\n      ret.push(new CellRange(sri, sci, eri, eci));\n    };\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    const dsr = other.sri - sri;\n    const dsc = other.sci - sci;\n    const der = eri - other.eri;\n    const dec = eci - other.eci;\n    if (dsr > 0) {\n      addRet(sri, sci, other.sri - 1, eci);\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, eci);\n        if (dsc > 0) {\n          addRet(other.sri, sci, other.eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, other.eri, eci);\n        }\n      } else {\n        if (dsc > 0) {\n          addRet(other.sri, sci, eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, eri, eci);\n        }\n      }\n    } else if (der > 0) {\n      addRet(other.eri + 1, sci, eri, eci);\n      if (dsc > 0) {\n        addRet(sri, sci, other.eri, other.sci - 1);\n      }\n      if (dec > 0) {\n        addRet(sri, other.eci + 1, other.eri, eci);\n      }\n    }\n    if (dsc > 0) {\n      addRet(sri, sci, eri, other.sci - 1);\n      if (dec > 0) {\n        addRet(sri, other.eri + 1, eri, eci);\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, other.eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, other.eci);\n        }\n      } else {\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, eci);\n        }\n      }\n    } else if (dec > 0) {\n      addRet(eri, other.eci + 1, eri, eci);\n      if (dsr > 0) {\n        addRet(sri, sci, other.sri - 1, other.eci);\n      }\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, other.eci);\n      }\n    }\n    return ret;\n  }\n\n  size() {\n    return [\n      this.eri - this.sri + 1,\n      this.eci - this.sci + 1,\n    ];\n  }\n\n  toString() {\n    const {\n      sri, sci, eri, eci,\n    } = this;\n    let ref = xy2expr(sci, sri);\n    if (this.multiple()) {\n      ref = `${ref}:${xy2expr(eci, eri)}`;\n    }\n    return ref;\n  }\n\n  clone() {\n    const {\n      sri, sci, eri, eci, w, h,\n    } = this;\n    return new CellRange(sri, sci, eri, eci, w, h);\n  }\n\n  /*\n  toJSON() {\n    return this.toString();\n  }\n  */\n\n  equals(other) {\n    return this.eri === other.eri\n      && this.eci === other.eci\n      && this.sri === other.sri\n      && this.sci === other.sci;\n  }\n\n  // Translates the cell range by the given values, unless such a translation\n  // would be invalid (e.g., index less than 1)\n  translate(rowShift, colShift) {\n    // Morph the same amount in each direction, resulting in a translation\n    this.morph(colShift, rowShift, colShift, rowShift);\n  }\n\n  // Move the left, top, right, and bottom boundaries of the cell range by the\n  // specified amounts\n  morph(leftShift, topShift, rightShift, bottomShift) {\n    // Start is left/top.\n    // End is bottom/right.\n\n    // Ensure row/col values remain valid (>= 0)\n    // NOTE: this assumes a cellRange isn't used with a row or column index of\n    // -1, which is sometimes used in the application to denote an entire row\n    // or column is being referenced (not just a single index)\n    this.sri = Math.max(0, this.sri + topShift);\n    this.eri = Math.max(0, this.eri + bottomShift);\n    this.sci = Math.max(0, this.sci + leftShift);\n    this.eci = Math.max(0, this.eci + rightShift);\n  }\n\n  static valueOf(ref) {\n    const cellRangeArgs = expr2cellRangeArgs(ref);\n    return new CellRange(...cellRangeArgs);\n  }\n}\n\nexport default CellRange;\n\nexport {\n  CellRange,\n};\n","import { CellRange } from './cell_range';\n\nexport default class Selector {\n  constructor() {\n    this.range = new CellRange(0, 0, 0, 0);\n    this.ri = 0;\n    this.ci = 0;\n  }\n\n  multiple() {\n    return this.range.multiple();\n  }\n\n  setIndexes(ri, ci) {\n    this.ri = ri;\n    this.ci = ci;\n  }\n\n  size() {\n    return this.range.size();\n  }\n}\n","export default class Scroll {\n  constructor() {\n    this.x = 0; // left\n    this.y = 0; // top\n    this.ri = 0; // cell row-index\n    this.ci = 0; // cell col-index\n  }\n}\n","// import helper from '../helper';\n\nexport default class History {\n  constructor() {\n    this.undoItems = [];\n    this.redoItems = [];\n  }\n\n  add(data) {\n    this.undoItems.push(JSON.stringify(data));\n    this.redoItems = [];\n  }\n\n  canUndo() {\n    return this.undoItems.length > 0;\n  }\n\n  canRedo() {\n    return this.redoItems.length > 0;\n  }\n\n  undo(currentd, cb) {\n    const { undoItems, redoItems } = this;\n    if (this.canUndo()) {\n      redoItems.push(JSON.stringify(currentd));\n      cb(JSON.parse(undoItems.pop()));\n    }\n  }\n\n  redo(currentd, cb) {\n    const { undoItems, redoItems } = this;\n    if (this.canRedo()) {\n      undoItems.push(JSON.stringify(currentd));\n      cb(JSON.parse(redoItems.pop()));\n    }\n  }\n}\n","export default class Clipboard {\n  constructor() {\n    this.range = null; // CellRange\n    this.state = 'clear';\n  }\n\n  copy(cellRange) {\n    this.range = cellRange;\n    this.state = 'copy';\n    return this;\n  }\n\n  cut(cellRange) {\n    this.range = cellRange;\n    this.state = 'cut';\n    return this;\n  }\n\n  isCopy() {\n    return this.state === 'copy';\n  }\n\n  isCut() {\n    return this.state === 'cut';\n  }\n\n  isClear() {\n    return this.state === 'clear';\n  }\n\n  clear() {\n    this.range = null;\n    this.state = 'clear';\n  }\n}\n","import { CellRange } from './cell_range';\n// operator: all|eq|neq|gt|gte|lt|lte|in|be\n// value:\n//   in => []\n//   be => [min, max]\nclass Filter {\n  constructor(ci, operator, value) {\n    this.ci = ci;\n    this.operator = operator;\n    this.value = value;\n  }\n\n  set(operator, value) {\n    this.operator = operator;\n    this.value = value;\n  }\n\n  includes(v) {\n    const { operator, value } = this;\n    if (operator === 'all') {\n      return true;\n    }\n    if (operator === 'in') {\n      return value.includes(v);\n    }\n    return false;\n  }\n\n  vlength() {\n    const { operator, value } = this;\n    if (operator === 'in') {\n      return value.length;\n    }\n    return 0;\n  }\n\n  getData() {\n    const { ci, operator, value } = this;\n    return { ci, operator, value };\n  }\n}\n\nclass Sort {\n  constructor(ci, order) {\n    this.ci = ci;\n    this.order = order;\n  }\n\n  asc() {\n    return this.order === 'asc';\n  }\n\n  desc() {\n    return this.order === 'desc';\n  }\n}\n\nexport default class AutoFilter {\n  constructor() {\n    this.ref = null;\n    this.filters = [];\n    this.sort = null;\n  }\n\n  setData({ ref, filters, sort }) {\n    if (ref != null) {\n      this.ref = ref;\n      this.filters = filters.map(it => new Filter(it.ci, it.operator, it.value));\n      if (sort) {\n        this.sort = new Sort(sort.ci, sort.order);\n      }\n    }\n  }\n\n  getData() {\n    if (this.active()) {\n      const { ref, filters, sort } = this;\n      return { ref, filters: filters.map(it => it.getData()), sort };\n    }\n    return {};\n  }\n\n  addFilter(ci, operator, value) {\n    const filter = this.getFilter(ci);\n    if (filter == null) {\n      this.filters.push(new Filter(ci, operator, value));\n    } else {\n      filter.set(operator, value);\n    }\n  }\n\n  setSort(ci, order) {\n    this.sort = order ? new Sort(ci, order) : null;\n  }\n\n  includes(ri, ci) {\n    if (this.active()) {\n      return this.hrange().includes(ri, ci);\n    }\n    return false;\n  }\n\n  getSort(ci) {\n    const { sort } = this;\n    if (sort && sort.ci === ci) {\n      return sort;\n    }\n    return null;\n  }\n\n  getFilter(ci) {\n    const { filters } = this;\n    for (let i = 0; i < filters.length; i += 1) {\n      if (filters[i].ci === ci) {\n        return filters[i];\n      }\n    }\n    return null;\n  }\n\n  filteredRows(getCell) {\n    // const ary = [];\n    // let lastri = 0;\n    const rset = new Set();\n    const fset = new Set();\n    if (this.active()) {\n      const { sri, eri } = this.range();\n      const { filters } = this;\n      for (let ri = sri + 1; ri <= eri; ri += 1) {\n        for (let i = 0; i < filters.length; i += 1) {\n          const filter = filters[i];\n          const cell = getCell(ri, filter.ci);\n          const ctext = cell ? cell.text : '';\n          if (!filter.includes(ctext)) {\n            rset.add(ri);\n            break;\n          } else {\n            fset.add(ri);\n          }\n        }\n      }\n    }\n    return { rset, fset };\n  }\n\n  items(ci, getCell) {\n    const m = {};\n    if (this.active()) {\n      const { sri, eri } = this.range();\n      for (let ri = sri + 1; ri <= eri; ri += 1) {\n        const cell = getCell(ri, ci);\n        if (cell !== null && !/^\\s*$/.test(cell.text)) {\n          const key = cell.text;\n          const cnt = (m[key] || 0) + 1;\n          m[key] = cnt;\n        } else {\n          m[''] = (m[''] || 0) + 1;\n        }\n      }\n    }\n    return m;\n  }\n\n  range() {\n    return CellRange.valueOf(this.ref);\n  }\n\n  hrange() {\n    const r = this.range();\n    r.eri = r.sri;\n    return r;\n  }\n\n  clear() {\n    this.ref = null;\n    this.filters = [];\n    this.sort = null;\n  }\n\n  active() {\n    return this.ref !== null;\n  }\n}\n","import { CellRange } from './cell_range';\n\nclass Merges {\n  constructor(d = []) {\n    this._ = d;\n  }\n\n  forEach(cb) {\n    this._.forEach(cb);\n  }\n\n  deleteWithin(cr) {\n    this._ = this._.filter(it => !it.within(cr));\n  }\n\n  getFirstIncludes(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.includes(ri, ci)) {\n        return it;\n      }\n    }\n    return null;\n  }\n\n  filterIntersects(cellRange) {\n    return new Merges(this._.filter(it => it.intersects(cellRange)));\n  }\n\n  intersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        // console.log('intersects');\n        return true;\n      }\n    }\n    return false;\n  }\n\n  union(cellRange) {\n    let cr = cellRange;\n    this._.forEach((it) => {\n      if (it.intersects(cr)) {\n        cr = it.union(cr);\n      }\n    });\n    return cr;\n  }\n\n  add(cr) {\n    this.deleteWithin(cr);\n    this._.push(cr);\n  }\n\n  // type: row | column\n  shift(type, index, n, cbWithin) {\n    this._.forEach((cellRange) => {\n      const {\n        sri, sci, eri, eci,\n      } = cellRange;\n      const range = cellRange;\n      if (type === 'row') {\n        if (sri >= index) {\n          range.sri += n;\n          range.eri += n;\n        } else if (sri < index && index <= eri) {\n          range.eri += n;\n          cbWithin(sri, sci, n, 0);\n        }\n      } else if (type === 'column') {\n        if (sci >= index) {\n          range.sci += n;\n          range.eci += n;\n        } else if (sci < index && index <= eci) {\n          range.eci += n;\n          cbWithin(sri, sci, 0, n);\n        }\n      }\n    });\n  }\n\n  move(cellRange, rn, cn) {\n    this._.forEach((it1) => {\n      const it = it1;\n      if (it.within(cellRange)) {\n        it.eri += rn;\n        it.sri += rn;\n        it.sci += cn;\n        it.eci += cn;\n      }\n    });\n  }\n\n  setData(merges) {\n    this._ = merges.map(merge => CellRange.valueOf(merge));\n    return this;\n  }\n\n  getData() {\n    return this._.map(merge => merge.toString());\n  }\n}\n\nexport default {};\nexport {\n  Merges,\n};\n","/* eslint-disable no-param-reassign */\nfunction cloneDeep(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nconst mergeDeep = (object = {}, ...sources) => {\n  sources.forEach((source) => {\n    Object.keys(source).forEach((key) => {\n      const v = source[key];\n      // console.log('k:', key, ', v:', source[key], typeof v, v instanceof Object);\n      if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') {\n        object[key] = v;\n      } else if (typeof v !== 'function' && !Array.isArray(v) && v instanceof Object) {\n        object[key] = object[key] || {};\n        mergeDeep(object[key], v);\n      } else {\n        object[key] = v;\n      }\n    });\n  });\n  // console.log('::', object);\n  return object;\n};\n\nfunction equals(obj1, obj2) {\n  const keys = Object.keys(obj1);\n  if (keys.length !== Object.keys(obj2).length) return false;\n  for (let i = 0; i < keys.length; i += 1) {\n    const k = keys[i];\n    const v1 = obj1[k];\n    const v2 = obj2[k];\n    if (v2 === undefined) return false;\n    if (typeof v1 === 'string' || typeof v1 === 'number' || typeof v1 === 'boolean') {\n      if (v1 !== v2) return false;\n    } else if (Array.isArray(v1)) {\n      if (v1.length !== v2.length) return false;\n      for (let ai = 0; ai < v1.length; ai += 1) {\n        if (!equals(v1[ai], v2[ai])) return false;\n      }\n    } else if (typeof v1 !== 'function' && !Array.isArray(v1) && v1 instanceof Object) {\n      if (!equals(v1, v2)) return false;\n    }\n  }\n  return true;\n}\n\n/*\n  objOrAry: obejct or Array\n  cb: (value, index | key) => { return value }\n*/\nconst sum = (objOrAry, cb = value => value) => {\n  let total = 0;\n  let size = 0;\n  Object.keys(objOrAry).forEach((key) => {\n    total += cb(objOrAry[key], key);\n    size += 1;\n  });\n  return [total, size];\n};\n\nfunction deleteProperty(obj, property) {\n  const oldv = obj[`${property}`];\n  delete obj[`${property}`];\n  return oldv;\n}\n\nfunction rangeReduceIf(min, max, inits, initv, ifv, getv) {\n  let s = inits;\n  let v = initv;\n  let i = min;\n  for (; i < max; i += 1) {\n    if (s > ifv) break;\n    v = getv(i);\n    s += v;\n  }\n  return [i, s - v, v];\n}\n\nfunction rangeSum(min, max, getv) {\n  let s = 0;\n  for (let i = min; i < max; i += 1) {\n    s += getv(i);\n  }\n  return s;\n}\n\nfunction rangeEach(min, max, cb) {\n  for (let i = min; i < max; i += 1) {\n    cb(i);\n  }\n}\n\nfunction arrayEquals(a1, a2) {\n  if (a1.length === a2.length) {\n    for (let i = 0; i < a1.length; i += 1) {\n      if (a1[i] !== a2[i]) return false;\n    }\n  } else return false;\n  return true;\n}\n\nfunction digits(a) {\n  const v = `${a}`;\n  let ret = 0;\n  let flag = false;\n  for (let i = 0; i < v.length; i += 1) {\n    if (flag === true) ret += 1;\n    if (v.charAt(i) === '.') flag = true;\n  }\n  return ret;\n}\n\nexport function numberCalc(type, a1, a2) {\n  if (Number.isNaN(a1) || Number.isNaN(a2)) {\n    return a1 + type + a2;\n  }\n  const al1 = digits(a1);\n  const al2 = digits(a2);\n  const num1 = Number(a1);\n  const num2 = Number(a2);\n  let ret = 0;\n  if (type === '-') {\n    ret = num1 - num2;\n  } else if (type === '+') {\n    ret = num1 + num2;\n  } else if (type === '*') {\n    ret = num1 * num2;\n  } else if (type === '/') {\n    ret = num1 / num2;\n    if (digits(ret) > 5) return ret.toFixed(2);\n    return ret;\n  }\n  return ret.toFixed(Math.max(al1, al2));\n}\n\nexport default {\n  cloneDeep,\n  merge: (...sources) => mergeDeep({}, ...sources),\n  equals,\n  arrayEquals,\n  sum,\n  rangeEach,\n  rangeSum,\n  rangeReduceIf,\n  deleteProperty,\n  numberCalc,\n};\n","import helper from './helper';\nimport { expr2expr, REGEX_EXPR_GLOBAL } from './alphabet';\n\nclass Rows {\n  constructor({ len, height }) {\n    this._ = {};\n    this.len = len;\n    // default row height\n    this.height = height;\n  }\n\n  getHeight(ri) {\n    if (this.isHide(ri)) return 0;\n    const row = this.get(ri);\n    if (row && row.height) {\n      return row.height;\n    }\n    return this.height;\n  }\n\n  setHeight(ri, v) {\n    const row = this.getOrNew(ri);\n    row.height = v;\n  }\n\n  unhide(idx) {\n    let index = idx;\n    while (index > 0) {\n      index -= 1;\n      if (this.isHide(index)) {\n        this.setHide(index, false);\n      } else break;\n    }\n  }\n\n  isHide(ri) {\n    const row = this.get(ri);\n    return row && row.hide;\n  }\n\n  setHide(ri, v) {\n    const row = this.getOrNew(ri);\n    if (v === true) row.hide = true;\n    else delete row.hide;\n  }\n\n  setStyle(ri, style) {\n    const row = this.getOrNew(ri);\n    row.style = style;\n  }\n\n  sumHeight(min, max, exceptSet) {\n    return helper.rangeSum(min, max, (i) => {\n      if (exceptSet && exceptSet.has(i)) return 0;\n      return this.getHeight(i);\n    });\n  }\n\n  totalHeight() {\n    return this.sumHeight(0, this.len);\n  }\n\n  get(ri) {\n    return this._[ri];\n  }\n\n  getOrNew(ri) {\n    this._[ri] = this._[ri] || { cells: {} };\n    return this._[ri];\n  }\n\n  getCell(ri, ci) {\n    const row = this.get(ri);\n    if (row !== undefined && row.cells !== undefined && row.cells[ci] !== undefined) {\n      return row.cells[ci];\n    }\n    return null;\n  }\n\n  getCellMerge(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    if (cell && cell.merge) return cell.merge;\n    return [0, 0];\n  }\n\n  getCellOrNew(ri, ci) {\n    const row = this.getOrNew(ri);\n    row.cells[ci] = row.cells[ci] || {};\n    return row.cells[ci];\n  }\n\n  // what: all | text | format\n  setCell(ri, ci, cell, what = 'all') {\n    const row = this.getOrNew(ri);\n    if (what === 'all') {\n      row.cells[ci] = cell;\n    } else if (what === 'text') {\n      row.cells[ci] = row.cells[ci] || {};\n      row.cells[ci].text = cell.text;\n    } else if (what === 'format') {\n      row.cells[ci] = row.cells[ci] || {};\n      row.cells[ci].style = cell.style;\n      if (cell.merge) row.cells[ci].merge = cell.merge;\n    }\n  }\n\n  setCellText(ri, ci, text) {\n    const cell = this.getCellOrNew(ri, ci);\n    if (cell.editable !== false) cell.text = text;\n  }\n\n  // what: all | format | text\n  copyPaste(srcCellRange, dstCellRange, what, autofill = false, cb = () => {}) {\n    const {\n      sri, sci, eri, eci,\n    } = srcCellRange;\n    const dsri = dstCellRange.sri;\n    const dsci = dstCellRange.sci;\n    const deri = dstCellRange.eri;\n    const deci = dstCellRange.eci;\n    const [rn, cn] = srcCellRange.size();\n    const [drn, dcn] = dstCellRange.size();\n    // console.log(srcIndexes, dstIndexes);\n    let isAdd = true;\n    let dn = 0;\n    if (deri < sri || deci < sci) {\n      isAdd = false;\n      if (deri < sri) dn = drn;\n      else dn = dcn;\n    }\n    for (let i = sri; i <= eri; i += 1) {\n      if (this._[i]) {\n        for (let j = sci; j <= eci; j += 1) {\n          if (this._[i].cells && this._[i].cells[j]) {\n            for (let ii = dsri; ii <= deri; ii += rn) {\n              for (let jj = dsci; jj <= deci; jj += cn) {\n                const nri = ii + (i - sri);\n                const nci = jj + (j - sci);\n                const ncell = helper.cloneDeep(this._[i].cells[j]);\n                // ncell.text\n                if (autofill && ncell && ncell.text && ncell.text.length > 0) {\n                  const { text } = ncell;\n                  let n = (jj - dsci) + (ii - dsri) + 2;\n                  if (!isAdd) {\n                    n -= dn + 1;\n                  }\n                  if (text[0] === '=') {\n                    ncell.text = text.replace(REGEX_EXPR_GLOBAL, (word) => {\n                      let [xn, yn] = [0, 0];\n                      if (sri === dsri) {\n                        xn = n - 1;\n                        // if (isAdd) xn -= 1;\n                      } else {\n                        yn = n - 1;\n                      }\n                      if (/^\\d+$/.test(word)) return word;\n\n                      // Set expr2expr to not perform translation on axes with an\n                      // absolute reference\n                      return expr2expr(word, xn, yn, false);\n                    });\n                  } else if ((rn <= 1 && cn > 1 && (dsri > eri || deri < sri))\n                    || (cn <= 1 && rn > 1 && (dsci > eci || deci < sci))\n                    || (rn <= 1 && cn <= 1)) {\n                    const result = /[\\\\.\\d]+$/.exec(text);\n                    // console.log('result:', result);\n                    if (result !== null) {\n                      const index = Number(result[0]) + n - 1;\n                      ncell.text = text.substring(0, result.index) + index;\n                    }\n                  }\n                }\n                this.setCell(nri, nci, ncell, what);\n                cb(nri, nci, ncell);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  cutPaste(srcCellRange, dstCellRange) {\n    const ncellmm = {};\n    this.each((ri) => {\n      this.eachCells(ri, (ci) => {\n        let nri = parseInt(ri, 10);\n        let nci = parseInt(ci, 10);\n        if (srcCellRange.includes(ri, ci)) {\n          nri = dstCellRange.sri + (nri - srcCellRange.sri);\n          nci = dstCellRange.sci + (nci - srcCellRange.sci);\n        }\n        ncellmm[nri] = ncellmm[nri] || { cells: {} };\n        ncellmm[nri].cells[nci] = this._[ri].cells[ci];\n      });\n    });\n    this._ = ncellmm;\n  }\n\n  // src: Array<Array<String>>\n  paste(src, dstCellRange) {\n    if (src.length <= 0) return;\n    const { sri, sci } = dstCellRange;\n    src.forEach((row, i) => {\n      const ri = sri + i;\n      row.forEach((cell, j) => {\n        const ci = sci + j;\n        this.setCellText(ri, ci, cell);\n      });\n    });\n  }\n\n  insert(sri, n = 1) {\n    const ndata = {};\n    this.each((ri, row) => {\n      let nri = parseInt(ri, 10);\n      if (nri >= sri) {\n        nri += n;\n        this.eachCells(ri, (ci, cell) => {\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(REGEX_EXPR_GLOBAL, word => expr2expr(word, 0, n, true, (x, y) => y >= sri));\n          }\n        });\n      }\n      ndata[nri] = row;\n    });\n    this._ = ndata;\n    this.len += n;\n  }\n\n  delete(sri, eri) {\n    const n = eri - sri + 1;\n    const ndata = {};\n    this.each((ri, row) => {\n      const nri = parseInt(ri, 10);\n      if (nri < sri) {\n        ndata[nri] = row;\n      } else if (ri > eri) {\n        ndata[nri - n] = row;\n        this.eachCells(ri, (ci, cell) => {\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(REGEX_EXPR_GLOBAL, word => expr2expr(word, 0, -n, true, (x, y) => y > eri));\n          }\n        });\n      }\n    });\n    this._ = ndata;\n    this.len -= n;\n  }\n\n  insertColumn(sci, n = 1) {\n    this.each((ri, row) => {\n      const rndata = {};\n      this.eachCells(ri, (ci, cell) => {\n        let nci = parseInt(ci, 10);\n        if (nci >= sci) {\n          nci += n;\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(REGEX_EXPR_GLOBAL, word => expr2expr(word, n, 0, true, x => x >= sci));\n          }\n        }\n        rndata[nci] = cell;\n      });\n      row.cells = rndata;\n    });\n  }\n\n  deleteColumn(sci, eci) {\n    const n = eci - sci + 1;\n    this.each((ri, row) => {\n      const rndata = {};\n      this.eachCells(ri, (ci, cell) => {\n        const nci = parseInt(ci, 10);\n        if (nci < sci) {\n          rndata[nci] = cell;\n        } else if (nci > eci) {\n          rndata[nci - n] = cell;\n          if (cell.text && cell.text[0] === '=') {\n            cell.text = cell.text.replace(REGEX_EXPR_GLOBAL, word => expr2expr(word, -n, 0, true, x => x > eci));\n          }\n        }\n      });\n      row.cells = rndata;\n    });\n  }\n\n  // what: all | text | format | merge\n  deleteCells(cellRange, what = 'all') {\n    cellRange.each((i, j) => {\n      this.deleteCell(i, j, what);\n    });\n  }\n\n  // what: all | text | format | merge\n  deleteCell(ri, ci, what = 'all') {\n    const row = this.get(ri);\n    if (row !== null) {\n      const cell = this.getCell(ri, ci);\n      if (cell !== null && cell.editable !== false) {\n        if (what === 'all') {\n          delete row.cells[ci];\n        } else if (what === 'text') {\n          if (cell.text) delete cell.text;\n          if (cell.value) delete cell.value;\n        } else if (what === 'format') {\n          if (cell.style !== undefined) delete cell.style;\n          if (cell.merge) delete cell.merge;\n        } else if (what === 'merge') {\n          if (cell.merge) delete cell.merge;\n        }\n      }\n    }\n  }\n\n  maxCell() {\n    const keys = Object.keys(this._);\n    const ri = keys[keys.length - 1];\n    const col = this._[ri];\n    if (col) {\n      const { cells } = col;\n      const ks = Object.keys(cells);\n      const ci = ks[ks.length - 1];\n      return [parseInt(ri, 10), parseInt(ci, 10)];\n    }\n    return [0, 0];\n  }\n\n  each(cb) {\n    Object.entries(this._).forEach(([ri, row]) => {\n      cb(ri, row);\n    });\n  }\n\n  eachCells(ri, cb) {\n    if (this._[ri] && this._[ri].cells) {\n      Object.entries(this._[ri].cells).forEach(([ci, cell]) => {\n        cb(ci, cell);\n      });\n    }\n  }\n\n  setData(d) {\n    if (d.len) {\n      this.len = d.len;\n      delete d.len;\n    }\n    this._ = d;\n  }\n\n  getData() {\n    const { len } = this;\n    return Object.assign({ len }, this._);\n  }\n}\n\nexport default {};\nexport {\n  Rows,\n};\n","import helper from './helper';\n\nclass Cols {\n  constructor({\n    len, width, indexWidth, minWidth,\n  }) {\n    this._ = {};\n    this.len = len;\n    this.width = width;\n    this.indexWidth = indexWidth;\n    this.minWidth = minWidth;\n  }\n\n  setData(d) {\n    if (d.len) {\n      this.len = d.len;\n      delete d.len;\n    }\n    this._ = d;\n  }\n\n  getData() {\n    const { len } = this;\n    return Object.assign({ len }, this._);\n  }\n\n  getWidth(i) {\n    if (this.isHide(i)) return 0;\n    const col = this._[i];\n    if (col && col.width) {\n      return col.width;\n    }\n    return this.width;\n  }\n\n  getOrNew(ci) {\n    this._[ci] = this._[ci] || {};\n    return this._[ci];\n  }\n\n  setWidth(ci, width) {\n    const col = this.getOrNew(ci);\n    col.width = width;\n  }\n\n  unhide(idx) {\n    let index = idx;\n    while (index > 0) {\n      index -= 1;\n      if (this.isHide(index)) {\n        this.setHide(index, false);\n      } else break;\n    }\n  }\n\n  isHide(ci) {\n    const col = this._[ci];\n    return col && col.hide;\n  }\n\n  setHide(ci, v) {\n    const col = this.getOrNew(ci);\n    if (v === true) col.hide = true;\n    else delete col.hide;\n  }\n\n  setStyle(ci, style) {\n    const col = this.getOrNew(ci);\n    col.style = style;\n  }\n\n  sumWidth(min, max) {\n    return helper.rangeSum(min, max, i => this.getWidth(i));\n  }\n\n  totalWidth() {\n    return this.sumWidth(0, this.len);\n  }\n}\n\nexport default {};\nexport {\n  Cols,\n};\n","/* global window */\nimport en from './en';\n\n// Defines the fallback language as English\nlet $languages = ['en'];\nconst $messages = {\n  en,\n};\n\nfunction translate(key, messages) {\n  if (messages) {\n    // Return the translation from the first language in the languages array\n    // that has a value for the provided key.\n    for (const lang of $languages) {\n      if (!messages[lang]) break;\n\n      let message = messages[lang];\n\n      // Splits the key at '.' except where escaped as '\\.'\n      const keys = key.match(/(?:\\\\.|[^.])+/g);\n\n      for (let i = 0; i < keys.length; i += 1) {\n        const property = keys[i];\n        const value = message[property];\n\n        // If value doesn't exist, try next language\n        if (!value) break;\n\n        if (i === keys.length - 1) return value;\n\n        // Move down to the next level of the messages object\n        message = value;\n      }\n    }\n  }\n\n  return undefined;\n}\n\nfunction t(key) {\n  let v = translate(key, $messages);\n  if (!v && window && window.x_spreadsheet && window.x_spreadsheet.$messages) {\n    v = translate(key, window.x_spreadsheet.$messages);\n  }\n  return v || '';\n}\n\nfunction tf(key) {\n  return () => t(key);\n}\n\n// If clearLangList is set to false, lang will be added to the front of the\n// languages array. The languages in the language array are searched in order\n// to find a translation. This allows the use of other languages as a fallback\n// if lang is missing some keys. The language array is preloaded with English.\n// To set the languages array to only include lang, set clearLangList to true.\nfunction locale(lang, message, clearLangList = false) {\n  if (clearLangList) {\n    $languages = [lang];\n  } else {\n    // Append to front of array.\n    // Translation method will use the first language in the list that has a\n    // matching key.\n    $languages.unshift(lang);\n  }\n\n  if (message) {\n    $messages[lang] = message;\n  }\n}\n\nexport default {\n  t,\n};\n\nexport {\n  locale,\n  t,\n  tf,\n};\n","export default {\n  toolbar: {\n    undo: 'Undo',\n    redo: 'Redo',\n    print: 'Print',\n    paintformat: 'Paint format',\n    clearformat: 'Clear format',\n    format: 'Format',\n    fontName: 'Font',\n    fontSize: 'Font size',\n    fontBold: 'Font bold',\n    fontItalic: 'Font italic',\n    underline: 'Underline',\n    strike: 'Strike',\n    color: 'Text color',\n    bgcolor: 'Fill color',\n    border: 'Borders',\n    merge: 'Merge cells',\n    align: 'Horizontal align',\n    valign: 'Vertical align',\n    textwrap: 'Text wrapping',\n    freeze: 'Freeze cell',\n    autofilter: 'Filter',\n    formula: 'Functions',\n    more: 'More',\n  },\n  contextmenu: {\n    copy: 'Copy',\n    cut: 'Cut',\n    paste: 'Paste',\n    pasteValue: 'Paste values only',\n    pasteFormat: 'Paste format only',\n    hide: 'Hide',\n    insertRow: 'Insert row',\n    insertColumn: 'Insert column',\n    deleteSheet: 'Delete',\n    deleteRow: 'Delete row',\n    deleteColumn: 'Delete column',\n    deleteCell: 'Delete cell',\n    deleteCellText: 'Delete cell text',\n    validation: 'Data validations',\n    cellprintable: 'Enable export',\n    cellnonprintable: 'Disable export',\n    celleditable: 'Enable editing',\n    cellnoneditable: 'Disable editing',\n  },\n  print: {\n    size: 'Paper size',\n    orientation: 'Page orientation',\n    orientations: ['Landscape', 'Portrait'],\n  },\n  format: {\n    normal: 'Normal',\n    text: 'Plain Text',\n    number: 'Number',\n    percent: 'Percent',\n    rmb: 'RMB',\n    usd: 'USD',\n    eur: 'EUR',\n    date: 'Date',\n    time: 'Time',\n    datetime: 'Date time',\n    duration: 'Duration',\n  },\n  formula: {\n    // Not required\n    // Will use FormulaJS function names, which are already in English\n  },\n  validation: {\n    required: 'it must be required',\n    notMatch: 'it not match its validation rule',\n    between: 'it is between {} and {}',\n    notBetween: 'it is not between {} and {}',\n    notIn: 'it is not in list',\n    equal: 'it equal to {}',\n    notEqual: 'it not equal to {}',\n    lessThan: 'it less than {}',\n    lessThanEqual: 'it less than or equal to {}',\n    greaterThan: 'it greater than {}',\n    greaterThanEqual: 'it greater than or equal to {}',\n  },\n  error: {\n    pasteForMergedCell: 'Unable to do this for merged cells',\n  },\n  calendar: {\n    weeks: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n  },\n  button: {\n    next: 'Next',\n    cancel: 'Cancel',\n    remove: 'Remove',\n    save: 'Save',\n    ok: 'OK',\n  },\n  sort: {\n    desc: 'Sort Z -> A',\n    asc: 'Sort A -> Z',\n  },\n  filter: {\n    empty: 'empty',\n  },\n  dataValidation: {\n    mode: 'Mode',\n    range: 'Cell Range',\n    criteria: 'Criteria',\n    modeType: {\n      cell: 'Cell',\n      column: 'Colun',\n      row: 'Row',\n    },\n    type: {\n      list: 'List',\n      number: 'Number',\n      date: 'Date',\n      phone: 'Phone',\n      email: 'Email',\n    },\n    operator: {\n      be: 'between',\n      nbe: 'not betwwen',\n      lt: 'less than',\n      lte: 'less than or equal to',\n      gt: 'greater than',\n      gte: 'greater than or equal to',\n      eq: 'equal to',\n      neq: 'not equal to',\n    },\n  },\n};\n","import { t } from '../locale/locale';\nimport helper from './helper';\n\nconst rules = {\n  phone: /^[1-9]\\d{10}$/,\n  email: /w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/,\n};\n\nfunction returnMessage(flag, key, ...arg) {\n  let message = '';\n  if (!flag) {\n    message = t(`validation.${key}`, ...arg);\n  }\n  return [flag, message];\n}\n\nexport default class Validator {\n  // operator: b|nb|eq|neq|lt|lte|gt|gte\n  // type: date|number|list|phone|email\n  constructor(type, required, value, operator) {\n    this.required = required;\n    this.value = value;\n    this.type = type;\n    this.operator = operator;\n    this.message = '';\n  }\n\n  parseValue(v) {\n    const { type } = this;\n    if (type === 'date') {\n      return new Date(v);\n    }\n    if (type === 'number') {\n      return Number(v);\n    }\n    return v;\n  }\n\n  equals(other) {\n    let flag = this.type === other.type\n      && this.required === other.required\n      && this.operator === other.operator;\n    if (flag) {\n      if (Array.isArray(this.value)) {\n        flag = helper.arrayEquals(this.value, other.value);\n      } else {\n        flag = this.value === other.value;\n      }\n    }\n    return flag;\n  }\n\n  values() {\n    return this.value.split(',');\n  }\n\n  validate(v) {\n    const {\n      required, operator, value, type,\n    } = this;\n    if (required && /^\\s*$/.test(v)) {\n      return returnMessage(false, 'required');\n    }\n    if (/^\\s*$/.test(v)) return [true];\n    if (rules[type] && !rules[type].test(v)) {\n      return returnMessage(false, 'notMatch');\n    }\n    if (type === 'list') {\n      return returnMessage(this.values().includes(v), 'notIn');\n    }\n    if (operator) {\n      const v1 = this.parseValue(v);\n      if (operator === 'be') {\n        const [min, max] = value;\n        return returnMessage(\n          v1 >= this.parseValue(min) && v1 <= this.parseValue(max),\n          'between',\n          min,\n          max,\n        );\n      }\n      if (operator === 'nbe') {\n        const [min, max] = value;\n        return returnMessage(\n          v1 < this.parseValue(min) || v1 > this.parseValue(max),\n          'notBetween',\n          min,\n          max,\n        );\n      }\n      if (operator === 'eq') {\n        return returnMessage(\n          v1 === this.parseValue(value),\n          'equal',\n          value,\n        );\n      }\n      if (operator === 'neq') {\n        return returnMessage(\n          v1 !== this.parseValue(value),\n          'notEqual',\n          value,\n        );\n      }\n      if (operator === 'lt') {\n        return returnMessage(\n          v1 < this.parseValue(value),\n          'lessThan',\n          value,\n        );\n      }\n      if (operator === 'lte') {\n        return returnMessage(\n          v1 <= this.parseValue(value),\n          'lessThanEqual',\n          value,\n        );\n      }\n      if (operator === 'gt') {\n        return returnMessage(\n          v1 > this.parseValue(value),\n          'greaterThan',\n          value,\n        );\n      }\n      if (operator === 'gte') {\n        return returnMessage(\n          v1 >= this.parseValue(value),\n          'greaterThanEqual',\n          value,\n        );\n      }\n    }\n    return [true];\n  }\n}\n","import Validator from './validator';\nimport { CellRange } from './cell_range';\n\nclass Validation {\n  constructor(mode, refs, validator) {\n    this.refs = refs;\n    this.mode = mode; // cell\n    this.validator = validator;\n  }\n\n  includes(ri, ci) {\n    const { refs } = this;\n    for (let i = 0; i < refs.length; i += 1) {\n      const cr = CellRange.valueOf(refs[i]);\n      if (cr.includes(ri, ci)) return true;\n    }\n    return false;\n  }\n\n  addRef(ref) {\n    this.remove(CellRange.valueOf(ref));\n    this.refs.push(ref);\n  }\n\n  remove(cellRange) {\n    const nrefs = [];\n    this.refs.forEach((it) => {\n      const cr = CellRange.valueOf(it);\n      if (cr.intersects(cellRange)) {\n        const crs = cr.difference(cellRange);\n        crs.forEach(it1 => nrefs.push(it1.toString()));\n      } else {\n        nrefs.push(it);\n      }\n    });\n    this.refs = nrefs;\n  }\n\n  getData() {\n    const { refs, mode, validator } = this;\n    const {\n      type, required, operator, value,\n    } = validator;\n    return {\n      refs, mode, type, required, operator, value,\n    };\n  }\n\n  static valueOf({\n    refs, mode, type, required, operator, value,\n  }) {\n    return new Validation(mode, refs, new Validator(type, required, value, operator));\n  }\n}\nclass Validations {\n  constructor() {\n    this._ = [];\n    // ri_ci: errMessage\n    this.errors = new Map();\n  }\n\n  getError(ri, ci) {\n    return this.errors.get(`${ri}_${ci}`);\n  }\n\n  validate(ri, ci, text) {\n    const v = this.get(ri, ci);\n    const key = `${ri}_${ci}`;\n    const { errors } = this;\n    if (v !== null) {\n      const [flag, message] = v.validator.validate(text);\n      if (!flag) {\n        errors.set(key, message);\n      } else {\n        errors.delete(key);\n      }\n    } else {\n      errors.delete(key);\n    }\n    return true;\n  }\n\n  // type: date|number|phone|email|list\n  // validator: { required, value, operator }\n  add(mode, ref, {\n    type, required, value, operator,\n  }) {\n    const validator = new Validator(\n      type, required, value, operator,\n    );\n    const v = this.getByValidator(validator);\n    if (v !== null) {\n      v.addRef(ref);\n    } else {\n      this._.push(new Validation(mode, [ref], validator));\n    }\n  }\n\n  getByValidator(validator) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const v = this._[i];\n      if (v.validator.equals(validator)) {\n        return v;\n      }\n    }\n    return null;\n  }\n\n  get(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const v = this._[i];\n      if (v.includes(ri, ci)) return v;\n    }\n    return null;\n  }\n\n  remove(cellRange) {\n    this.each((it) => {\n      it.remove(cellRange);\n    });\n  }\n\n  each(cb) {\n    this._.forEach(it => cb(it));\n  }\n\n  getData() {\n    return this._.filter(it => it.refs.length > 0).map(it => it.getData());\n  }\n\n  setData(d) {\n    this._ = d.map(it => Validation.valueOf(it));\n  }\n}\n\nexport default {};\nexport {\n  Validations,\n};\n","/* global document */\n\nimport Selector from './selector';\nimport Scroll from './scroll';\nimport History from './history';\nimport Clipboard from './clipboard';\nimport AutoFilter from './auto_filter';\nimport { Merges } from './merge';\nimport helper from './helper';\nimport { Rows } from './row';\nimport { Cols } from './col';\nimport { Validations } from './validation';\nimport { CellRange } from './cell_range';\nimport { expr2xy, xy2expr } from './alphabet';\nimport { t } from '../locale/locale';\n\n// private methods\n/*\n * {\n *  name: ''\n *  freeze: [0, 0],\n *  formats: [],\n *  styles: [\n *    {\n *      bgcolor: '',\n *      align: '',\n *      valign: '',\n *      textwrap: false,\n *      strike: false,\n *      underline: false,\n *      color: '',\n *      format: 1,\n *      border: {\n *        left: [style, color],\n *        right: [style, color],\n *        top: [style, color],\n *        bottom: [style, color],\n *      },\n *      font: {\n *        name: 'Helvetica',\n *        size: 10,\n *        bold: false,\n *        italic: false,\n *      }\n *    }\n *  ],\n *  merges: [\n *    'A1:F11',\n *    ...\n *  ],\n *  rows: {\n *    1: {\n *      height: 50,\n *      style: 1,\n *      cells: {\n *        1: {\n *          style: 2,\n *          type: 'string',\n *          text: '',\n *          value: '', // cal result\n *        }\n *      }\n *    },\n *    ...\n *  },\n *  cols: {\n *    2: { width: 100, style: 1 }\n *  }\n * }\n */\nconst defaultSettings = {\n  mode: 'edit', // edit | read\n  view: {\n    height: () => document.documentElement.clientHeight,\n    width: () => document.documentElement.clientWidth,\n  },\n  showGrid: true,\n  showToolbar: true,\n  showContextmenu: true,\n  showBottomBar: true,\n  row: {\n    len: 100,\n    height: 25,\n  },\n  col: {\n    len: 26,\n    width: 100,\n    indexWidth: 60,\n    minWidth: 60,\n  },\n  style: {\n    bgcolor: '#ffffff',\n    align: 'left',\n    valign: 'middle',\n    textwrap: false,\n    strike: false,\n    underline: false,\n    color: '#0a0a0a',\n    font: {\n      name: 'Arial',\n      size: 10,\n      bold: false,\n      italic: false,\n    },\n    format: 'normal',\n  },\n};\n\nconst toolbarHeight = 41;\nconst bottombarHeight = 41;\n\n// src: cellRange\n// dst: cellRange\nfunction canPaste(src, dst, error = () => { }) {\n  const { merges } = this;\n  const cellRange = dst.clone();\n  const [srn, scn] = src.size();\n  const [drn, dcn] = dst.size();\n  if (srn > drn) {\n    cellRange.eri = dst.sri + srn - 1;\n  }\n  if (scn > dcn) {\n    cellRange.eci = dst.sci + scn - 1;\n  }\n  if (merges.intersects(cellRange)) {\n    error(t('error.pasteForMergedCell'));\n    return false;\n  }\n  return true;\n}\nfunction copyPaste(srcCellRange, dstCellRange, what, autofill = false) {\n  const { rows, merges } = this;\n  // delete dest merge\n  if (what === 'all' || what === 'format') {\n    rows.deleteCells(dstCellRange, what);\n    merges.deleteWithin(dstCellRange);\n  }\n  rows.copyPaste(srcCellRange, dstCellRange, what, autofill, (ri, ci, cell) => {\n    if (cell && cell.merge) {\n      // console.log('cell:', ri, ci, cell);\n      const [rn, cn] = cell.merge;\n      if (rn <= 0 && cn <= 0) return;\n      merges.add(new CellRange(ri, ci, ri + rn, ci + cn));\n    }\n  });\n}\n\nfunction cutPaste(srcCellRange, dstCellRange) {\n  const { clipboard, rows, merges } = this;\n  rows.cutPaste(srcCellRange, dstCellRange);\n  merges.move(srcCellRange,\n    dstCellRange.sri - srcCellRange.sri,\n    dstCellRange.sci - srcCellRange.sci);\n  clipboard.clear();\n}\n\n// bss: { top, bottom, left, right }\nfunction setStyleBorder(ri, ci, bss) {\n  const { styles, rows } = this;\n  const cell = rows.getCellOrNew(ri, ci);\n  let cstyle = {};\n  if (cell.style !== undefined) {\n    cstyle = helper.cloneDeep(styles[cell.style]);\n  }\n  cstyle = helper.merge(cstyle, { border: bss });\n  cell.style = this.addStyle(cstyle);\n}\n\nfunction setStyleBorders({ mode, style, color }) {\n  const { styles, selector, rows } = this;\n  const {\n    sri, sci, eri, eci,\n  } = selector.range;\n  const multiple = !this.isSingleSelected();\n  if (!multiple) {\n    if (mode === 'inside' || mode === 'horizontal' || mode === 'vertical') {\n      return;\n    }\n  }\n  if (mode === 'outside' && !multiple) {\n    setStyleBorder.call(this, sri, sci, {\n      top: [style, color], bottom: [style, color], left: [style, color], right: [style, color],\n    });\n  } else if (mode === 'none') {\n    selector.range.each((ri, ci) => {\n      const cell = rows.getCell(ri, ci);\n      if (cell && cell.style !== undefined) {\n        const ns = helper.cloneDeep(styles[cell.style]);\n        delete ns.border;\n        // ['bottom', 'top', 'left', 'right'].forEach((prop) => {\n        //   if (ns[prop]) delete ns[prop];\n        // });\n        cell.style = this.addStyle(ns);\n      }\n    });\n  } else if (mode === 'all' || mode === 'inside' || mode === 'outside'\n    || mode === 'horizontal' || mode === 'vertical') {\n    const merges = [];\n    for (let ri = sri; ri <= eri; ri += 1) {\n      for (let ci = sci; ci <= eci; ci += 1) {\n        // jump merges -- start\n        const mergeIndexes = [];\n        for (let ii = 0; ii < merges.length; ii += 1) {\n          const [mri, mci, rn, cn] = merges[ii];\n          if (ri === mri + rn + 1) mergeIndexes.push(ii);\n          if (mri <= ri && ri <= mri + rn) {\n            if (ci === mci) {\n              ci += cn + 1;\n              break;\n            }\n          }\n        }\n        mergeIndexes.forEach(it => merges.splice(it, 1));\n        if (ci > eci) break;\n        // jump merges -- end\n        const cell = rows.getCell(ri, ci);\n        let [rn, cn] = [0, 0];\n        if (cell && cell.merge) {\n          [rn, cn] = cell.merge;\n          merges.push([ri, ci, rn, cn]);\n        }\n        const mrl = rn > 0 && ri + rn === eri;\n        const mcl = cn > 0 && ci + cn === eci;\n        let bss = {};\n        if (mode === 'all') {\n          bss = {\n            bottom: [style, color],\n            top: [style, color],\n            left: [style, color],\n            right: [style, color],\n          };\n        } else if (mode === 'inside') {\n          if (!mcl && ci < eci) bss.right = [style, color];\n          if (!mrl && ri < eri) bss.bottom = [style, color];\n        } else if (mode === 'horizontal') {\n          if (!mrl && ri < eri) bss.bottom = [style, color];\n        } else if (mode === 'vertical') {\n          if (!mcl && ci < eci) bss.right = [style, color];\n        } else if (mode === 'outside' && multiple) {\n          if (sri === ri) bss.top = [style, color];\n          if (mrl || eri === ri) bss.bottom = [style, color];\n          if (sci === ci) bss.left = [style, color];\n          if (mcl || eci === ci) bss.right = [style, color];\n        }\n        if (Object.keys(bss).length > 0) {\n          setStyleBorder.call(this, ri, ci, bss);\n        }\n        ci += cn;\n      }\n    }\n  } else if (mode === 'top' || mode === 'bottom') {\n    for (let ci = sci; ci <= eci; ci += 1) {\n      if (mode === 'top') {\n        setStyleBorder.call(this, sri, ci, { top: [style, color] });\n        ci += rows.getCellMerge(sri, ci)[1];\n      }\n      if (mode === 'bottom') {\n        setStyleBorder.call(this, eri, ci, { bottom: [style, color] });\n        ci += rows.getCellMerge(eri, ci)[1];\n      }\n    }\n  } else if (mode === 'left' || mode === 'right') {\n    for (let ri = sri; ri <= eri; ri += 1) {\n      if (mode === 'left') {\n        setStyleBorder.call(this, ri, sci, { left: [style, color] });\n        ri += rows.getCellMerge(ri, sci)[0];\n      }\n      if (mode === 'right') {\n        setStyleBorder.call(this, ri, eci, { right: [style, color] });\n        ri += rows.getCellMerge(ri, eci)[0];\n      }\n    }\n  }\n}\n\nfunction getCellRowByY(y, scrollOffsety) {\n  const { rows } = this;\n  const fsh = this.freezeTotalHeight();\n  // console.log('y:', y, ', fsh:', fsh);\n  let inits = rows.height;\n  if (fsh + rows.height < y) inits -= scrollOffsety;\n\n  // handle ri in autofilter\n  const frset = this.exceptRowSet;\n\n  let ri = 0;\n  let top = inits;\n  let { height } = rows;\n  for (; ri < rows.len; ri += 1) {\n    if (top > y) break;\n    if (!frset.has(ri)) {\n      height = rows.getHeight(ri);\n      top += height;\n    }\n  }\n  top -= height;\n  // console.log('ri:', ri, ', top:', top, ', height:', height);\n\n  if (top <= 0) {\n    return { ri: -1, top: 0, height };\n  }\n\n  return { ri: ri - 1, top, height };\n}\n\nfunction getCellColByX(x, scrollOffsetx) {\n  const { cols } = this;\n  const fsw = this.freezeTotalWidth();\n  let inits = cols.indexWidth;\n  if (fsw + cols.indexWidth < x) inits -= scrollOffsetx;\n  const [ci, left, width] = helper.rangeReduceIf(\n    0,\n    cols.len,\n    inits,\n    cols.indexWidth,\n    x,\n    i => cols.getWidth(i),\n  );\n  if (left <= 0) {\n    return { ci: -1, left: 0, width: cols.indexWidth };\n  }\n  return { ci: ci - 1, left, width };\n}\n\nexport default class DataProxy {\n  constructor(name, settings) {\n    this.settings = helper.merge(defaultSettings, settings || {});\n    // save data begin\n    this.name = name || 'sheet';\n    this.freeze = [0, 0];\n    this.styles = []; // Array<Style>\n    this.merges = new Merges(); // [CellRange, ...]\n    this.rows = new Rows(this.settings.row);\n    this.cols = new Cols(this.settings.col);\n    this.validations = new Validations();\n    this.hyperlinks = {};\n    this.comments = {};\n    // save data end\n\n    // don't save object\n    this.selector = new Selector();\n    this.scroll = new Scroll();\n    this.history = new History();\n    this.clipboard = new Clipboard();\n    this.autoFilter = new AutoFilter();\n    this.change = () => { };\n    this.exceptRowSet = new Set();\n    this.sortedRowMap = new Map();\n    this.unsortedRowMap = new Map();\n  }\n\n  addValidation(mode, ref, validator) {\n    // console.log('mode:', mode, ', ref:', ref, ', validator:', validator);\n    this.changeData(() => {\n      this.validations.add(mode, ref, validator);\n    });\n  }\n\n  removeValidation() {\n    const { range } = this.selector;\n    this.changeData(() => {\n      this.validations.remove(range);\n    });\n  }\n\n  getSelectedValidator() {\n    const { ri, ci } = this.selector;\n    const v = this.validations.get(ri, ci);\n    return v ? v.validator : null;\n  }\n\n  getSelectedValidation() {\n    const { ri, ci, range } = this.selector;\n    const v = this.validations.get(ri, ci);\n    const ret = { ref: range.toString() };\n    if (v !== null) {\n      ret.mode = v.mode;\n      ret.validator = v.validator;\n    }\n    return ret;\n  }\n\n  canUndo() {\n    return this.history.canUndo();\n  }\n\n  canRedo() {\n    return this.history.canRedo();\n  }\n\n  undo() {\n    this.history.undo(this.getData(), (d) => {\n      this.setData(d);\n    });\n  }\n\n  redo() {\n    this.history.redo(this.getData(), (d) => {\n      this.setData(d);\n    });\n  }\n\n  copy() {\n    this.clipboard.copy(this.selector.range);\n  }\n\n  copyToSystemClipboard(evt) {\n    let copyText = [];\n    const {\n      sri, eri, sci, eci,\n    } = this.selector.range;\n\n    for (let ri = sri; ri <= eri; ri += 1) {\n      const row = [];\n      for (let ci = sci; ci <= eci; ci += 1) {\n        const cell = this.getCell(ri, ci);\n        row.push((cell && cell.text) || '');\n      }\n      copyText.push(row);\n    }\n\n    // Adding \\n and why not adding \\r\\n is to support online office and client MS office and WPS\n    copyText = copyText.map(row => row.join('\\t')).join('\\n');\n\n    // why used this\n    // cuz http protocol will be blocked request clipboard by browser\n    if (evt) {\n      evt.clipboardData.clearData();\n      evt.clipboardData.setData('text/plain', copyText);\n      evt.preventDefault();\n    }\n\n    // this need https protocol\n    /* global navigator */\n    if (navigator.clipboard) {\n      navigator.clipboard.writeText(copyText).then(() => {}, (err) => {\n        console.log('text copy to the system clipboard error  ', copyText, err);\n      });\n    }\n  }\n\n  cut() {\n    this.clipboard.cut(this.selector.range);\n  }\n\n  // what: all | text | format\n  paste(what = 'all', error = () => { }) {\n    // console.log('sIndexes:', sIndexes);\n    const { clipboard, selector } = this;\n    if (clipboard.isClear()) return false;\n    if (!canPaste.call(this, clipboard.range, selector.range, error)) return false;\n\n    this.changeData(() => {\n      if (clipboard.isCopy()) {\n        copyPaste.call(this, clipboard.range, selector.range, what);\n      } else if (clipboard.isCut()) {\n        cutPaste.call(this, clipboard.range, selector.range);\n      }\n    });\n    return true;\n  }\n\n  pasteFromSystemClipboard(resetSheet, eventTrigger) {\n    const { selector } = this;\n    navigator.clipboard.readText().then((content) => {\n      const contentToPaste = this.parseClipboardContent(content);\n      let startRow = selector.ri;\n      contentToPaste.forEach((row) => {\n        let startColumn = selector.ci;\n        row.forEach((cellContent) => {\n          this.setCellText(startRow, startColumn, cellContent, 'input');\n          startColumn += 1;\n        });\n        startRow += 1;\n      });\n      resetSheet();\n      eventTrigger(this.rows.getData());\n    });\n  }\n\n  parseClipboardContent(clipboardContent) {\n    const parsedData = [];\n\n    // first we need to figure out how many rows we need to paste\n    const rows = clipboardContent.split('\\n');\n\n    // for each row parse cell data\n    let i = 0;\n    rows.forEach((row) => {\n      parsedData[i] = row.split('\\t');\n      i += 1;\n    });\n    return parsedData;\n  }\n\n  pasteFromText(txt) {\n    let lines = [];\n\n    if (/\\r\\n/.test(txt)) lines = txt.split('\\r\\n').map(it => it.replace(/\"/g, '').split('\\t'));\n    else lines = txt.split('\\n').map(it => it.replace(/\"/g, '').split('\\t'));\n\n    if (lines.length) {\n      const { rows, selector } = this;\n\n      this.changeData(() => {\n        rows.paste(lines, selector.range);\n      });\n    }\n  }\n\n  autofill(cellRange, what, error = () => { }) {\n    const srcRange = this.selector.range;\n    if (!canPaste.call(this, srcRange, cellRange, error)) return false;\n    this.changeData(() => {\n      copyPaste.call(this, srcRange, cellRange, what, true);\n    });\n    return true;\n  }\n\n  clearClipboard() {\n    this.clipboard.clear();\n  }\n\n  calSelectedRangeByEnd(ri, ci) {\n    const {\n      selector, rows, cols, merges,\n    } = this;\n    let {\n      sri, sci, eri, eci,\n    } = selector.range;\n    const cri = selector.ri;\n    const cci = selector.ci;\n    let [nri, nci] = [ri, ci];\n    if (ri < 0) nri = rows.len - 1;\n    if (ci < 0) nci = cols.len - 1;\n    if (nri > cri) [sri, eri] = [cri, nri];\n    else[sri, eri] = [nri, cri];\n    if (nci > cci) [sci, eci] = [cci, nci];\n    else[sci, eci] = [nci, cci];\n    selector.range = merges.union(new CellRange(\n      sri, sci, eri, eci,\n    ));\n    selector.range = merges.union(selector.range);\n    // console.log('selector.range:', selector.range);\n    return selector.range;\n  }\n\n  calSelectedRangeByStart(ri, ci) {\n    const {\n      selector, rows, cols, merges,\n    } = this;\n    let cellRange = merges.getFirstIncludes(ri, ci);\n    // console.log('cellRange:', cellRange, ri, ci, merges);\n    if (cellRange === null) {\n      cellRange = new CellRange(ri, ci, ri, ci);\n      if (ri === -1) {\n        cellRange.sri = 0;\n        cellRange.eri = rows.len - 1;\n      }\n      if (ci === -1) {\n        cellRange.sci = 0;\n        cellRange.eci = cols.len - 1;\n      }\n    }\n    selector.range = cellRange;\n    return cellRange;\n  }\n\n  setSelectedCellAttr(property, value) {\n    this.changeData(() => {\n      const { selector, styles, rows } = this;\n      if (property === 'merge') {\n        if (value) this.merge();\n        else this.unmerge();\n      } else if (property === 'border') {\n        setStyleBorders.call(this, value);\n      } else if (property === 'formula') {\n        // console.log('>>>', selector.multiple());\n        const { ri, ci, range } = selector;\n        if (selector.multiple()) {\n          const [rn, cn] = selector.size();\n          const {\n            sri, sci, eri, eci,\n          } = range;\n          if (rn > 1) {\n            for (let i = sci; i <= eci; i += 1) {\n              const cell = rows.getCellOrNew(eri + 1, i);\n              cell.text = `=${value}(${xy2expr(i, sri)}:${xy2expr(i, eri)})`;\n            }\n          } else if (cn > 1) {\n            const cell = rows.getCellOrNew(ri, eci + 1);\n            cell.text = `=${value}(${xy2expr(sci, ri)}:${xy2expr(eci, ri)})`;\n          }\n        } else {\n          const cell = rows.getCellOrNew(ri, ci);\n          cell.text = `=${value}()`;\n        }\n      } else {\n        selector.range.each((ri, ci) => {\n          const cell = rows.getCellOrNew(ri, ci);\n          let cstyle = {};\n          if (cell.style !== undefined) {\n            cstyle = helper.cloneDeep(styles[cell.style]);\n          }\n          if (property === 'format') {\n            cstyle.format = value;\n            cell.style = this.addStyle(cstyle);\n          } else if (property === 'font-bold' || property === 'font-italic'\n            || property === 'font-name' || property === 'font-size') {\n            const nfont = {};\n            nfont[property.split('-')[1]] = value;\n            cstyle.font = Object.assign(cstyle.font || {}, nfont);\n            cell.style = this.addStyle(cstyle);\n          } else if (property === 'strike' || property === 'textwrap'\n            || property === 'underline'\n            || property === 'align' || property === 'valign'\n            || property === 'color' || property === 'bgcolor') {\n            cstyle[property] = value;\n            cell.style = this.addStyle(cstyle);\n          } else {\n            cell[property] = value;\n          }\n        });\n      }\n    });\n  }\n\n  // state: input | finished\n  setSelectedCellText(text, state = 'input') {\n    const { autoFilter, selector, rows } = this;\n    const { ri, ci } = selector;\n    let nri = ri;\n    if (this.unsortedRowMap.has(ri)) {\n      nri = this.unsortedRowMap.get(ri);\n    }\n    const oldCell = rows.getCell(nri, ci);\n    const oldText = oldCell ? oldCell.text : '';\n    this.setCellText(nri, ci, text, state);\n    // replace filter.value\n    if (autoFilter.active()) {\n      const filter = autoFilter.getFilter(ci);\n      if (filter) {\n        const vIndex = filter.value.findIndex(v => v === oldText);\n        if (vIndex >= 0) {\n          filter.value.splice(vIndex, 1, text);\n        }\n        // console.log('filter:', filter, oldCell);\n      }\n    }\n    // this.resetAutoFilter();\n  }\n\n  getSelectedCell() {\n    const { ri, ci } = this.selector;\n    let nri = ri;\n    if (this.unsortedRowMap.has(ri)) {\n      nri = this.unsortedRowMap.get(ri);\n    }\n    return this.rows.getCell(nri, ci);\n  }\n\n  xyInSelectedRect(x, y) {\n    const {\n      left, top, width, height,\n    } = this.getSelectedRect();\n    const x1 = x - this.cols.indexWidth;\n    const y1 = y - this.rows.height;\n    // console.log('x:', x, ',y:', y, 'left:', left, 'top:', top);\n    return x1 > left && x1 < (left + width)\n      && y1 > top && y1 < (top + height);\n  }\n\n  getSelectedRect() {\n    return this.getRect(this.selector.range);\n  }\n\n  getClipboardRect() {\n    const { clipboard } = this;\n    if (!clipboard.isClear()) {\n      return this.getRect(clipboard.range);\n    }\n    return { left: -100, top: -100 };\n  }\n\n  getRect(cellRange) {\n    const {\n      scroll, rows, cols, exceptRowSet,\n    } = this;\n    const {\n      sri, sci, eri, eci,\n    } = cellRange;\n    // console.log('sri:', sri, ',sci:', sci, ', eri:', eri, ', eci:', eci);\n    // no selector\n    if (sri < 0 && sci < 0) {\n      return {\n        left: 0, l: 0, top: 0, t: 0, scroll,\n      };\n    }\n    const left = cols.sumWidth(0, sci);\n    const top = rows.sumHeight(0, sri, exceptRowSet);\n    const height = rows.sumHeight(sri, eri + 1, exceptRowSet);\n    const width = cols.sumWidth(sci, eci + 1);\n    // console.log('sri:', sri, ', sci:', sci, ', eri:', eri, ', eci:', eci);\n    let left0 = left - scroll.x;\n    let top0 = top - scroll.y;\n    const fsh = this.freezeTotalHeight();\n    const fsw = this.freezeTotalWidth();\n    if (fsw > 0 && fsw > left) {\n      left0 = left;\n    }\n    if (fsh > 0 && fsh > top) {\n      top0 = top;\n    }\n    return {\n      l: left,\n      t: top,\n      left: left0,\n      top: top0,\n      height,\n      width,\n      scroll,\n    };\n  }\n\n  getCellRectByXY(x, y) {\n    const {\n      scroll, merges, rows, cols,\n    } = this;\n    let { ri, top, height } = getCellRowByY.call(this, y, scroll.y);\n    let { ci, left, width } = getCellColByX.call(this, x, scroll.x);\n    if (ci === -1) {\n      width = cols.totalWidth();\n    }\n    if (ri === -1) {\n      height = rows.totalHeight();\n    }\n    if (ri >= 0 || ci >= 0) {\n      const merge = merges.getFirstIncludes(ri, ci);\n      if (merge) {\n        ri = merge.sri;\n        ci = merge.sci;\n        ({\n          left, top, width, height,\n        } = this.cellRect(ri, ci));\n      }\n    }\n    return {\n      ri, ci, left, top, width, height,\n    };\n  }\n\n  isSingleSelected() {\n    const {\n      sri, sci, eri, eci,\n    } = this.selector.range;\n    const cell = this.getCell(sri, sci);\n    if (cell && cell.merge) {\n      const [rn, cn] = cell.merge;\n      if (sri + rn === eri && sci + cn === eci) return true;\n    }\n    return !this.selector.multiple();\n  }\n\n  canUnmerge() {\n    const {\n      sri, sci, eri, eci,\n    } = this.selector.range;\n    const cell = this.getCell(sri, sci);\n    if (cell && cell.merge) {\n      const [rn, cn] = cell.merge;\n      if (sri + rn === eri && sci + cn === eci) return true;\n    }\n    return false;\n  }\n\n  merge() {\n    const { selector, rows } = this;\n    if (this.isSingleSelected()) return;\n    const [rn, cn] = selector.size();\n    // console.log('merge:', rn, cn);\n    if (rn > 1 || cn > 1) {\n      const { sri, sci } = selector.range;\n      this.changeData(() => {\n        const cell = rows.getCellOrNew(sri, sci);\n        cell.merge = [rn - 1, cn - 1];\n        this.merges.add(selector.range);\n        // delete merge cells\n        this.rows.deleteCells(selector.range);\n        // console.log('cell:', cell, this.d);\n        this.rows.setCell(sri, sci, cell);\n      });\n    }\n  }\n\n  unmerge() {\n    const { selector } = this;\n    if (!this.isSingleSelected()) return;\n    const { sri, sci } = selector.range;\n    this.changeData(() => {\n      this.rows.deleteCell(sri, sci, 'merge');\n      this.merges.deleteWithin(selector.range);\n    });\n  }\n\n  canAutofilter() {\n    return !this.autoFilter.active();\n  }\n\n  autofilter() {\n    const { autoFilter, selector } = this;\n    this.changeData(() => {\n      if (autoFilter.active()) {\n        autoFilter.clear();\n        this.exceptRowSet = new Set();\n        this.sortedRowMap = new Map();\n        this.unsortedRowMap = new Map();\n      } else {\n        autoFilter.ref = selector.range.toString();\n      }\n    });\n  }\n\n  setAutoFilter(ci, order, operator, value) {\n    const { autoFilter } = this;\n    autoFilter.addFilter(ci, operator, value);\n    autoFilter.setSort(ci, order);\n    this.resetAutoFilter();\n  }\n\n  resetAutoFilter() {\n    const { autoFilter, rows } = this;\n    if (!autoFilter.active()) return;\n    const { sort } = autoFilter;\n    const { rset, fset } = autoFilter.filteredRows((r, c) => rows.getCell(r, c));\n    const fary = Array.from(fset);\n    const oldAry = Array.from(fset);\n    if (sort) {\n      fary.sort((a, b) => {\n        if (sort.order === 'asc') return a - b;\n        if (sort.order === 'desc') return b - a;\n        return 0;\n      });\n    }\n    this.exceptRowSet = rset;\n    this.sortedRowMap = new Map();\n    this.unsortedRowMap = new Map();\n    fary.forEach((it, index) => {\n      this.sortedRowMap.set(oldAry[index], it);\n      this.unsortedRowMap.set(it, oldAry[index]);\n    });\n  }\n\n  deleteCell(what = 'all') {\n    const { selector } = this;\n    this.changeData(() => {\n      this.rows.deleteCells(selector.range, what);\n      if (what === 'all' || what === 'format') {\n        this.merges.deleteWithin(selector.range);\n      }\n    });\n  }\n\n  // type: row | column\n  insert(type, n = 1) {\n    this.changeData(() => {\n      const { sri, sci } = this.selector.range;\n      const { rows, merges, cols } = this;\n      let si = sri;\n      if (type === 'row') {\n        rows.insert(sri, n);\n      } else if (type === 'column') {\n        rows.insertColumn(sci, n);\n        si = sci;\n        cols.len += 1;\n      }\n      merges.shift(type, si, n, (ri, ci, rn, cn) => {\n        const cell = rows.getCell(ri, ci);\n        cell.merge[0] += rn;\n        cell.merge[1] += cn;\n      });\n    });\n  }\n\n  // type: row | column\n  delete(type) {\n    this.changeData(() => {\n      const {\n        rows, merges, selector, cols,\n      } = this;\n      const { range } = selector;\n      const {\n        sri, sci, eri, eci,\n      } = selector.range;\n      const [rsize, csize] = selector.range.size();\n      let si = sri;\n      let size = rsize;\n      if (type === 'row') {\n        rows.delete(sri, eri);\n      } else if (type === 'column') {\n        rows.deleteColumn(sci, eci);\n        si = range.sci;\n        size = csize;\n        cols.len -= (eci - sci + 1);\n      }\n      // console.log('type:', type, ', si:', si, ', size:', size);\n      merges.shift(type, si, -size, (ri, ci, rn, cn) => {\n        // console.log('ri:', ri, ', ci:', ci, ', rn:', rn, ', cn:', cn);\n        const cell = rows.getCell(ri, ci);\n        cell.merge[0] += rn;\n        cell.merge[1] += cn;\n        if (cell.merge[0] === 0 && cell.merge[1] === 0) {\n          delete cell.merge;\n        }\n      });\n    });\n  }\n\n  scrollx(x, cb) {\n    const { scroll, freeze, cols } = this;\n    const [, fci] = freeze;\n    const [\n      ci, left, width,\n    ] = helper.rangeReduceIf(fci, cols.len, 0, 0, x, i => cols.getWidth(i));\n    // console.log('fci:', fci, ', ci:', ci);\n    let x1 = left;\n    if (x > 0) x1 += width;\n    if (scroll.x !== x1) {\n      scroll.ci = x > 0 ? ci : 0;\n      scroll.x = x1;\n      cb();\n    }\n  }\n\n  scrolly(y, cb) {\n    const { scroll, freeze, rows } = this;\n    const [fri] = freeze;\n    const [\n      ri, top, height,\n    ] = helper.rangeReduceIf(fri, rows.len, 0, 0, y, i => rows.getHeight(i));\n    let y1 = top;\n    if (y > 0) y1 += height;\n    // console.log('ri:', ri, ' ,y:', y1);\n    if (scroll.y !== y1) {\n      scroll.ri = y > 0 ? ri : 0;\n      scroll.y = y1;\n      cb();\n    }\n  }\n\n  cellRect(ri, ci) {\n    const { rows, cols } = this;\n    const left = cols.sumWidth(0, ci);\n    const top = rows.sumHeight(0, ri);\n    const cell = rows.getCell(ri, ci);\n    let width = cols.getWidth(ci);\n    let height = rows.getHeight(ri);\n    if (cell !== null) {\n      if (cell.merge) {\n        const [rn, cn] = cell.merge;\n        // console.log('cell.merge:', cell.merge);\n        if (rn > 0) {\n          for (let i = 1; i <= rn; i += 1) {\n            height += rows.getHeight(ri + i);\n          }\n        }\n        if (cn > 0) {\n          for (let i = 1; i <= cn; i += 1) {\n            width += cols.getWidth(ci + i);\n          }\n        }\n      }\n    }\n    // console.log('data:', this.d);\n    return {\n      left, top, width, height, cell,\n    };\n  }\n\n  getCell(ri, ci) {\n    return this.rows.getCell(ri, ci);\n  }\n\n  getCellTextOrDefault(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    return (cell && cell.text) ? cell.text : '';\n  }\n\n  getCellStyle(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    if (cell && cell.style !== undefined) {\n      return this.styles[cell.style];\n    }\n    return null;\n  }\n\n  getCellStyleOrDefault(ri, ci) {\n    const { styles, rows } = this;\n    const cell = rows.getCell(ri, ci);\n    const cellStyle = (cell && cell.style !== undefined) ? styles[cell.style] : {};\n    return helper.merge(this.defaultStyle(), cellStyle);\n  }\n\n  getSelectedCellStyle() {\n    const { ri, ci } = this.selector;\n    return this.getCellStyleOrDefault(ri, ci);\n  }\n\n  // state: input | finished\n  setCellText(ri, ci, text, state) {\n    const { rows, history, validations } = this;\n    if (state === 'finished') {\n      rows.setCellText(ri, ci, '');\n      history.add(this.getData());\n      rows.setCellText(ri, ci, text);\n    } else {\n      rows.setCellText(ri, ci, text);\n      this.change(this.getData());\n    }\n    // validator\n    validations.validate(ri, ci, text);\n  }\n\n  freezeIsActive() {\n    const [ri, ci] = this.freeze;\n    return ri > 0 || ci > 0;\n  }\n\n  setFreeze(ri, ci) {\n    this.changeData(() => {\n      this.freeze = [ri, ci];\n    });\n  }\n\n  freezeTotalWidth() {\n    return this.cols.sumWidth(0, this.freeze[1]);\n  }\n\n  freezeTotalHeight() {\n    return this.rows.sumHeight(0, this.freeze[0]);\n  }\n\n  setRowHeight(ri, height) {\n    this.changeData(() => {\n      this.rows.setHeight(ri, height);\n    });\n  }\n\n  setColWidth(ci, width) {\n    this.changeData(() => {\n      this.cols.setWidth(ci, width);\n    });\n  }\n\n  viewHeight() {\n    const { view, showToolbar, showBottomBar } = this.settings;\n    let h = view.height();\n    if (showBottomBar) {\n      h -= bottombarHeight;\n    }\n    if (showToolbar) {\n      h -= toolbarHeight;\n    }\n    return h;\n  }\n\n  viewWidth() {\n    return this.settings.view.width();\n  }\n\n  freezeViewRange() {\n    const [ri, ci] = this.freeze;\n    return new CellRange(0, 0, ri - 1, ci - 1, this.freezeTotalWidth(), this.freezeTotalHeight());\n  }\n\n  contentRange() {\n    const { rows, cols } = this;\n    const [ri, ci] = rows.maxCell();\n    const h = rows.sumHeight(0, ri + 1);\n    const w = cols.sumWidth(0, ci + 1);\n    return new CellRange(0, 0, ri, ci, w, h);\n  }\n\n  exceptRowTotalHeight(sri, eri) {\n    const { exceptRowSet, rows } = this;\n    const exceptRows = Array.from(exceptRowSet);\n    let exceptRowTH = 0;\n    exceptRows.forEach((ri) => {\n      if (ri < sri || ri > eri) {\n        const height = rows.getHeight(ri);\n        exceptRowTH += height;\n      }\n    });\n    return exceptRowTH;\n  }\n\n  viewRange() {\n    const {\n      scroll, rows, cols, freeze, exceptRowSet,\n    } = this;\n    // console.log('scroll:', scroll, ', freeze:', freeze)\n    let { ri, ci } = scroll;\n    if (ri <= 0) [ri] = freeze;\n    if (ci <= 0) [, ci] = freeze;\n\n    let [x, y] = [0, 0];\n    let [eri, eci] = [rows.len, cols.len];\n    for (let i = ri; i < rows.len; i += 1) {\n      if (!exceptRowSet.has(i)) {\n        y += rows.getHeight(i);\n        eri = i;\n      }\n      if (y > this.viewHeight()) break;\n    }\n    for (let j = ci; j < cols.len; j += 1) {\n      x += cols.getWidth(j);\n      eci = j;\n      if (x > this.viewWidth()) break;\n    }\n    // console.log(ri, ci, eri, eci, x, y);\n    return new CellRange(ri, ci, eri, eci, x, y);\n  }\n\n  eachMergesInView(viewRange, cb) {\n    this.merges.filterIntersects(viewRange)\n      .forEach(it => cb(it));\n  }\n\n  hideRowsOrCols() {\n    const { rows, cols, selector } = this;\n    const [rlen, clen] = selector.size();\n    const {\n      sri, sci, eri, eci,\n    } = selector.range;\n    if (rlen === rows.len) {\n      for (let ci = sci; ci <= eci; ci += 1) {\n        cols.setHide(ci, true);\n      }\n    } else if (clen === cols.len) {\n      for (let ri = sri; ri <= eri; ri += 1) {\n        rows.setHide(ri, true);\n      }\n    }\n  }\n\n  // type: row | col\n  // index row-index | col-index\n  unhideRowsOrCols(type, index) {\n    this[`${type}s`].unhide(index);\n  }\n\n  rowEach(min, max, cb) {\n    let y = 0;\n    const { rows } = this;\n    const frset = this.exceptRowSet;\n    const frary = [...frset];\n    let offset = 0;\n    for (let i = 0; i < frary.length; i += 1) {\n      if (frary[i] < min) {\n        offset += 1;\n      }\n    }\n    // console.log('min:', min, ', max:', max, ', scroll:', scroll);\n    for (let i = min + offset; i <= max + offset; i += 1) {\n      if (frset.has(i)) {\n        offset += 1;\n      } else {\n        const rowHeight = rows.getHeight(i);\n        if (rowHeight > 0) {\n          cb(i, y, rowHeight);\n          y += rowHeight;\n          if (y > this.viewHeight()) break;\n        }\n      }\n    }\n  }\n\n  colEach(min, max, cb) {\n    let x = 0;\n    const { cols } = this;\n    for (let i = min; i <= max; i += 1) {\n      const colWidth = cols.getWidth(i);\n      if (colWidth > 0) {\n        cb(i, x, colWidth);\n        x += colWidth;\n        if (x > this.viewWidth()) break;\n      }\n    }\n  }\n\n  defaultStyle() {\n    return this.settings.style;\n  }\n\n  addStyle(nstyle) {\n    const { styles } = this;\n    // console.log('old.styles:', styles, nstyle);\n    for (let i = 0; i < styles.length; i += 1) {\n      const style = styles[i];\n      if (helper.equals(style, nstyle)) return i;\n    }\n    styles.push(nstyle);\n    return styles.length - 1;\n  }\n\n  changeData(cb) {\n    this.history.add(this.getData());\n    cb();\n    this.change(this.getData());\n  }\n\n  setData(d) {\n    Object.keys(d).forEach((property) => {\n      if (property === 'merges' || property === 'rows'\n        || property === 'cols' || property === 'validations') {\n        this[property].setData(d[property]);\n      } else if (property === 'freeze') {\n        const [x, y] = expr2xy(d[property]);\n        this.freeze = [y, x];\n      } else if (property === 'autofilter') {\n        this.autoFilter.setData(d[property]);\n      } else if (d[property] !== undefined) {\n        this[property] = d[property];\n      }\n    });\n    return this;\n  }\n\n  getData() {\n    const {\n      name, freeze, styles, merges, rows, cols, validations, autoFilter,\n    } = this;\n    return {\n      name,\n      freeze: xy2expr(freeze[1], freeze[0]),\n      styles,\n      merges: merges.getData(),\n      rows: rows.getData(),\n      cols: cols.getData(),\n      validations: validations.getData(),\n      autofilter: autoFilter.getData(),\n    };\n  }\n}\n","/* global window */\nexport function bind(target, name, fn) {\n  target.addEventListener(name, fn);\n}\nexport function unbind(target, name, fn) {\n  target.removeEventListener(name, fn);\n}\nexport function unbindClickoutside(el) {\n  if (el.xclickoutside) {\n    unbind(window.document.body, 'click', el.xclickoutside);\n    delete el.xclickoutside;\n  }\n}\n\n// the left mouse button: mousedown → mouseup → click\n// the right mouse button: mousedown → contenxtmenu → mouseup\n// the right mouse button in firefox(>65.0): mousedown → contenxtmenu → mouseup → click on window\nexport function bindClickoutside(el, cb) {\n  el.xclickoutside = (evt) => {\n    // ignore double click\n    // console.log('evt:', evt);\n    if (evt.detail === 2 || el.contains(evt.target)) return;\n    if (cb) cb(el);\n    else {\n      el.hide();\n      unbindClickoutside(el);\n    }\n  };\n  bind(window.document.body, 'click', el.xclickoutside);\n}\nexport function mouseMoveUp(target, movefunc, upfunc) {\n  bind(target, 'mousemove', movefunc);\n  const t = target;\n  t.xEvtUp = (evt) => {\n    // console.log('mouseup>>>');\n    unbind(target, 'mousemove', movefunc);\n    unbind(target, 'mouseup', target.xEvtUp);\n    upfunc(evt);\n  };\n  bind(target, 'mouseup', target.xEvtUp);\n}\n\nfunction calTouchDirection(spanx, spany, evt, cb) {\n  let direction = '';\n  // console.log('spanx:', spanx, ', spany:', spany);\n  if (Math.abs(spanx) > Math.abs(spany)) {\n    // horizontal\n    direction = spanx > 0 ? 'right' : 'left';\n    cb(direction, spanx, evt);\n  } else {\n    // vertical\n    direction = spany > 0 ? 'down' : 'up';\n    cb(direction, spany, evt);\n  }\n}\n// cb = (direction, distance) => {}\nexport function bindTouch(target, { move, end }) {\n  let startx = 0;\n  let starty = 0;\n  bind(target, 'touchstart', (evt) => {\n    const { pageX, pageY } = evt.touches[0];\n    startx = pageX;\n    starty = pageY;\n  });\n  bind(target, 'touchmove', (evt) => {\n    if (!move) return;\n    const { pageX, pageY } = evt.changedTouches[0];\n    const spanx = pageX - startx;\n    const spany = pageY - starty;\n    if (Math.abs(spanx) > 10 || Math.abs(spany) > 10) {\n      // console.log('spanx:', spanx, ', spany:', spany);\n      calTouchDirection(spanx, spany, evt, move);\n      startx = pageX;\n      starty = pageY;\n    }\n    evt.preventDefault();\n  });\n  bind(target, 'touchend', (evt) => {\n    if (!end) return;\n    const { pageX, pageY } = evt.changedTouches[0];\n    const spanx = pageX - startx;\n    const spany = pageY - starty;\n    calTouchDirection(spanx, spany, evt, end);\n  });\n}\n\n// eventemiter\nexport function createEventEmitter() {\n  const listeners = new Map();\n\n  function on(eventName, callback) {\n    const push = () => {\n      const currentListener = listeners.get(eventName);\n      return (Array.isArray(currentListener)\n          && currentListener.push(callback))\n          || false;\n    };\n\n    const create = () => listeners.set(eventName, [].concat(callback));\n\n    return (listeners.has(eventName)\n        && push())\n        || create();\n  }\n\n  function fire(eventName, args) {\n    const exec = () => {\n      const currentListener = listeners.get(eventName);\n      for (const callback of currentListener) callback.call(null, ...args);\n    };\n\n    return listeners.has(eventName)\n        && exec();\n  }\n\n  function removeListener(eventName, callback) {\n    const remove = () => {\n      const currentListener = listeners.get(eventName);\n      const idx = currentListener.indexOf(callback);\n      return (idx >= 0)\n          && currentListener.splice(idx, 1)\n          && listeners.get(eventName).length === 0\n          && listeners.delete(eventName);\n    };\n\n    return listeners.has(eventName)\n        && remove();\n  }\n\n  function once(eventName, callback) {\n    const execCalllback = (...args) => {\n      callback.call(null, ...args);\n      removeListener(eventName, execCalllback);\n    };\n\n    return on(eventName, execCalllback);\n  }\n\n  function removeAllListeners() {\n    listeners.clear();\n  }\n\n  return {\n    get current() {\n      return listeners;\n    },\n    on,\n    once,\n    fire,\n    removeListener,\n    removeAllListeners,\n  };\n}\n","/* global window */\nexport const cssPrefix = 'x-spreadsheet';\nexport const dpr = window.devicePixelRatio || 1;\nexport default {\n  cssPrefix,\n  dpr,\n};\n","/* global window */\nimport { h } from './element';\nimport { mouseMoveUp } from './event';\nimport { cssPrefix } from '../config';\n\nexport default class Resizer {\n  constructor(vertical = false, minDistance) {\n    this.moving = false;\n    this.vertical = vertical;\n    this.el = h('div', `${cssPrefix}-resizer ${vertical ? 'vertical' : 'horizontal'}`).children(\n      this.unhideHoverEl = h('div', `${cssPrefix}-resizer-hover`)\n        .on('dblclick.stop', evt => this.mousedblclickHandler(evt))\n        .css('position', 'absolute').hide(),\n      this.hoverEl = h('div', `${cssPrefix}-resizer-hover`)\n        .on('mousedown.stop', evt => this.mousedownHandler(evt)),\n      this.lineEl = h('div', `${cssPrefix}-resizer-line`).hide(),\n    ).hide();\n    // cell rect\n    this.cRect = null;\n    this.finishedFn = null;\n    this.minDistance = minDistance;\n    this.unhideFn = () => {};\n  }\n\n  showUnhide(index) {\n    this.unhideIndex = index;\n    this.unhideHoverEl.show();\n  }\n\n  hideUnhide() {\n    this.unhideHoverEl.hide();\n  }\n\n  // rect : {top, left, width, height}\n  // line : {width, height}\n  show(rect, line) {\n    const {\n      moving, vertical, hoverEl, lineEl, el,\n      unhideHoverEl,\n    } = this;\n    if (moving) return;\n    this.cRect = rect;\n    const {\n      left, top, width, height,\n    } = rect;\n    el.offset({\n      left: vertical ? left + width - 5 : left,\n      top: vertical ? top : top + height - 5,\n    }).show();\n    hoverEl.offset({\n      width: vertical ? 5 : width,\n      height: vertical ? height : 5,\n    });\n    lineEl.offset({\n      width: vertical ? 0 : line.width,\n      height: vertical ? line.height : 0,\n    });\n    unhideHoverEl.offset({\n      left: vertical ? 5 - width : left,\n      top: vertical ? top : 5 - height,\n      width: vertical ? 5 : width,\n      height: vertical ? height : 5,\n    });\n  }\n\n  hide() {\n    this.el.offset({\n      left: 0,\n      top: 0,\n    }).hide();\n    this.hideUnhide();\n  }\n\n  mousedblclickHandler() {\n    if (this.unhideIndex) this.unhideFn(this.unhideIndex);\n  }\n\n  mousedownHandler(evt) {\n    let startEvt = evt;\n    const {\n      el, lineEl, cRect, vertical, minDistance,\n    } = this;\n    let distance = vertical ? cRect.width : cRect.height;\n    // console.log('distance:', distance);\n    lineEl.show();\n    mouseMoveUp(window, (e) => {\n      this.moving = true;\n      if (startEvt !== null && e.buttons === 1) {\n        // console.log('top:', top, ', left:', top, ', cRect:', cRect);\n        if (vertical) {\n          distance += e.movementX;\n          if (distance > minDistance) {\n            el.css('left', `${cRect.left + distance}px`);\n          }\n        } else {\n          distance += e.movementY;\n          if (distance > minDistance) {\n            el.css('top', `${cRect.top + distance}px`);\n          }\n        }\n        startEvt = e;\n      }\n    }, () => {\n      startEvt = null;\n      lineEl.hide();\n      this.moving = false;\n      this.hide();\n      if (this.finishedFn) {\n        if (distance < minDistance) distance = minDistance;\n        this.finishedFn(cRect, distance);\n      }\n    });\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class Scrollbar {\n  constructor(vertical) {\n    this.vertical = vertical;\n    this.moveFn = null;\n    this.el = h('div', `${cssPrefix}-scrollbar ${vertical ? 'vertical' : 'horizontal'}`)\n      .child(this.contentEl = h('div', ''))\n      .on('mousemove.stop', () => {})\n      .on('scroll.stop', (evt) => {\n        const { scrollTop, scrollLeft } = evt.target;\n        // console.log('scrollTop:', scrollTop);\n        if (this.moveFn) {\n          this.moveFn(this.vertical ? scrollTop : scrollLeft, evt);\n        }\n        // console.log('evt:::', evt);\n      });\n  }\n\n  move(v) {\n    this.el.scroll(v);\n    return this;\n  }\n\n  scroll() {\n    return this.el.scroll();\n  }\n\n  set(distance, contentDistance) {\n    const d = distance - 1;\n    // console.log('distance:', distance, ', contentDistance:', contentDistance);\n    if (contentDistance > d) {\n      const cssKey = this.vertical ? 'height' : 'width';\n      // console.log('d:', d);\n      this.el.css(cssKey, `${d - 15}px`).show();\n      this.contentEl\n        .css(this.vertical ? 'width' : 'height', '1px')\n        .css(cssKey, `${contentDistance}px`);\n    } else {\n      this.el.hide();\n    }\n    return this;\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\nimport { CellRange } from '../core/cell_range';\n\nconst selectorHeightBorderWidth = 2 * 2 - 1;\nlet startZIndex = 10;\n\nclass SelectorElement {\n  constructor(useHideInput = false, autoFocus = true) {\n    this.useHideInput = useHideInput;\n    this.autoFocus = autoFocus;\n    this.inputChange = () => {};\n    this.cornerEl = h('div', `${cssPrefix}-selector-corner`);\n    this.areaEl = h('div', `${cssPrefix}-selector-area`)\n      .child(this.cornerEl).hide();\n    this.clipboardEl = h('div', `${cssPrefix}-selector-clipboard`).hide();\n    this.autofillEl = h('div', `${cssPrefix}-selector-autofill`).hide();\n    this.el = h('div', `${cssPrefix}-selector`)\n      .css('z-index', `${startZIndex}`)\n      .children(this.areaEl, this.clipboardEl, this.autofillEl)\n      .hide();\n    if (useHideInput) {\n      this.hideInput = h('input', '')\n        .on('compositionend', (evt) => {\n          this.inputChange(evt.target.value);\n        });\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\n    }\n    startZIndex += 1;\n  }\n\n  setOffset(v) {\n    this.el.offset(v).show();\n    return this;\n  }\n\n  hide() {\n    this.el.hide();\n    return this;\n  }\n\n  setAreaOffset(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    const of = {\n      width: width - selectorHeightBorderWidth + 0.8,\n      height: height - selectorHeightBorderWidth + 0.8,\n      left: left - 0.8,\n      top: top - 0.8,\n    };\n    this.areaEl.offset(of).show();\n    if (this.useHideInput) {\n      this.hideInputDiv.offset(of);\n      if (this.autoFocus) {\n        this.hideInput.val('').focus();\n      } else {\n        this.hideInput.val('');\n      }\n    }\n  }\n\n  setClipboardOffset(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    this.clipboardEl.offset({\n      left,\n      top,\n      width: width - 5,\n      height: height - 5,\n    });\n  }\n\n  showAutofill(v) {\n    const {\n      left, top, width, height,\n    } = v;\n    this.autofillEl.offset({\n      width: width - selectorHeightBorderWidth,\n      height: height - selectorHeightBorderWidth,\n      left,\n      top,\n    }).show();\n  }\n\n  hideAutofill() {\n    this.autofillEl.hide();\n  }\n\n  showClipboard() {\n    this.clipboardEl.show();\n  }\n\n  hideClipboard() {\n    this.clipboardEl.hide();\n  }\n}\n\nfunction calBRAreaOffset(offset) {\n  const { data } = this;\n  const {\n    left, top, width, height, scroll, l, t,\n  } = offset;\n  const ftwidth = data.freezeTotalWidth();\n  const ftheight = data.freezeTotalHeight();\n  let left0 = left - ftwidth;\n  if (ftwidth > l) left0 -= scroll.x;\n  let top0 = top - ftheight;\n  if (ftheight > t) top0 -= scroll.y;\n  return {\n    left: left0,\n    top: top0,\n    width,\n    height,\n  };\n}\n\nfunction calTAreaOffset(offset) {\n  const { data } = this;\n  const {\n    left, width, height, l, t, scroll,\n  } = offset;\n  const ftwidth = data.freezeTotalWidth();\n  let left0 = left - ftwidth;\n  if (ftwidth > l) left0 -= scroll.x;\n  return {\n    left: left0, top: t, width, height,\n  };\n}\n\nfunction calLAreaOffset(offset) {\n  const { data } = this;\n  const {\n    top, width, height, l, t, scroll,\n  } = offset;\n  const ftheight = data.freezeTotalHeight();\n  let top0 = top - ftheight;\n  // console.log('ftheight:', ftheight, ', t:', t);\n  if (ftheight > t) top0 -= scroll.y;\n  return {\n    left: l, top: top0, width, height,\n  };\n}\n\nfunction setBRAreaOffset(offset) {\n  const { br } = this;\n  br.setAreaOffset(calBRAreaOffset.call(this, offset));\n}\n\nfunction setTLAreaOffset(offset) {\n  const { tl } = this;\n  tl.setAreaOffset(offset);\n}\n\nfunction setTAreaOffset(offset) {\n  const { t } = this;\n  t.setAreaOffset(calTAreaOffset.call(this, offset));\n}\n\nfunction setLAreaOffset(offset) {\n  const { l } = this;\n  l.setAreaOffset(calLAreaOffset.call(this, offset));\n}\n\nfunction setLClipboardOffset(offset) {\n  const { l } = this;\n  l.setClipboardOffset(calLAreaOffset.call(this, offset));\n}\n\nfunction setBRClipboardOffset(offset) {\n  const { br } = this;\n  br.setClipboardOffset(calBRAreaOffset.call(this, offset));\n}\n\nfunction setTLClipboardOffset(offset) {\n  const { tl } = this;\n  tl.setClipboardOffset(offset);\n}\n\nfunction setTClipboardOffset(offset) {\n  const { t } = this;\n  t.setClipboardOffset(calTAreaOffset.call(this, offset));\n}\n\nfunction setAllAreaOffset(offset) {\n  setBRAreaOffset.call(this, offset);\n  setTLAreaOffset.call(this, offset);\n  setTAreaOffset.call(this, offset);\n  setLAreaOffset.call(this, offset);\n}\n\nfunction setAllClipboardOffset(offset) {\n  setBRClipboardOffset.call(this, offset);\n  setTLClipboardOffset.call(this, offset);\n  setTClipboardOffset.call(this, offset);\n  setLClipboardOffset.call(this, offset);\n}\n\nexport default class Selector {\n  constructor(data) {\n    const { autoFocus } = data.settings;\n    this.inputChange = () => {};\n    this.data = data;\n    this.br = new SelectorElement(true, autoFocus);\n    this.t = new SelectorElement();\n    this.l = new SelectorElement();\n    this.tl = new SelectorElement();\n    this.br.inputChange = (v) => {\n      this.inputChange(v);\n    };\n    this.br.el.show();\n    this.offset = null;\n    this.areaOffset = null;\n    this.indexes = null;\n    this.range = null;\n    this.arange = null;\n    this.el = h('div', `${cssPrefix}-selectors`)\n      .children(\n        this.tl.el,\n        this.t.el,\n        this.l.el,\n        this.br.el,\n      ).hide();\n\n    // for performance\n    this.lastri = -1;\n    this.lastci = -1;\n\n    startZIndex += 1;\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.range = data.selector.range;\n    this.resetAreaOffset();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n\n  resetOffset() {\n    const {\n      data, tl, t, l, br,\n    } = this;\n    const freezeHeight = data.freezeTotalHeight();\n    const freezeWidth = data.freezeTotalWidth();\n    if (freezeHeight > 0 || freezeWidth > 0) {\n      tl.setOffset({ width: freezeWidth, height: freezeHeight });\n      t.setOffset({ left: freezeWidth, height: freezeHeight });\n      l.setOffset({ top: freezeHeight, width: freezeWidth });\n      br.setOffset({ left: freezeWidth, top: freezeHeight });\n    } else {\n      tl.hide();\n      t.hide();\n      l.hide();\n      br.setOffset({ left: 0, top: 0 });\n    }\n  }\n\n  resetAreaOffset() {\n    // console.log('offset:', offset);\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setAllAreaOffset.call(this, offset);\n    setAllClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  resetBRTAreaOffset() {\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setBRAreaOffset.call(this, offset);\n    setTAreaOffset.call(this, offset);\n    setBRClipboardOffset.call(this, coffset);\n    setTClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  resetBRLAreaOffset() {\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setBRAreaOffset.call(this, offset);\n    setLAreaOffset.call(this, offset);\n    setBRClipboardOffset.call(this, coffset);\n    setLClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  set(ri, ci, indexesUpdated = true) {\n    const { data } = this;\n    const cellRange = data.calSelectedRangeByStart(ri, ci);\n    const { sri, sci } = cellRange;\n    if (indexesUpdated) {\n      let [cri, cci] = [ri, ci];\n      if (ri < 0) cri = 0;\n      if (ci < 0) cci = 0;\n      data.selector.setIndexes(cri, cci);\n      this.indexes = [cri, cci];\n    }\n\n    this.moveIndexes = [sri, sci];\n    // this.sIndexes = sIndexes;\n    // this.eIndexes = eIndexes;\n    this.range = cellRange;\n    this.resetAreaOffset();\n    this.el.show();\n  }\n\n  setEnd(ri, ci, moving = true) {\n    const { data, lastri, lastci } = this;\n    if (moving) {\n      if (ri === lastri && ci === lastci) return;\n      this.lastri = ri;\n      this.lastci = ci;\n    }\n    this.range = data.calSelectedRangeByEnd(ri, ci);\n    setAllAreaOffset.call(this, this.data.getSelectedRect());\n  }\n\n  reset() {\n    // console.log('::::', this.data);\n    const { eri, eci } = this.data.selector.range;\n    this.setEnd(eri, eci);\n  }\n\n  showAutofill(ri, ci) {\n    if (ri === -1 && ci === -1) return;\n    // console.log('ri:', ri, ', ci:', ci);\n    // const [sri, sci] = this.sIndexes;\n    // const [eri, eci] = this.eIndexes;\n    const {\n      sri, sci, eri, eci,\n    } = this.range;\n    const [nri, nci] = [ri, ci];\n    // const rn = eri - sri;\n    // const cn = eci - sci;\n    const srn = sri - ri;\n    const scn = sci - ci;\n    const ern = eri - ri;\n    const ecn = eci - ci;\n    if (scn > 0) {\n      // left\n      // console.log('left');\n      this.arange = new CellRange(sri, nci, eri, sci - 1);\n      // this.saIndexes = [sri, nci];\n      // this.eaIndexes = [eri, sci - 1];\n      // data.calRangeIndexes2(\n    } else if (srn > 0) {\n      // top\n      // console.log('top');\n      // nri = sri;\n      this.arange = new CellRange(nri, sci, sri - 1, eci);\n      // this.saIndexes = [nri, sci];\n      // this.eaIndexes = [sri - 1, eci];\n    } else if (ecn < 0) {\n      // right\n      // console.log('right');\n      // nci = eci;\n      this.arange = new CellRange(sri, eci + 1, eri, nci);\n      // this.saIndexes = [sri, eci + 1];\n      // this.eaIndexes = [eri, nci];\n    } else if (ern < 0) {\n      // bottom\n      // console.log('bottom');\n      // nri = eri;\n      this.arange = new CellRange(eri + 1, sci, nri, eci);\n      // this.saIndexes = [eri + 1, sci];\n      // this.eaIndexes = [nri, eci];\n    } else {\n      // console.log('else:');\n      this.arange = null;\n      // this.saIndexes = null;\n      // this.eaIndexes = null;\n      return;\n    }\n    if (this.arange !== null) {\n      // console.log(this.saIndexes, ':', this.eaIndexes);\n      const offset = this.data.getRect(this.arange);\n      offset.width += 2;\n      offset.height += 2;\n      const {\n        br, l, t, tl,\n      } = this;\n      br.showAutofill(calBRAreaOffset.call(this, offset));\n      l.showAutofill(calLAreaOffset.call(this, offset));\n      t.showAutofill(calTAreaOffset.call(this, offset));\n      tl.showAutofill(offset);\n    }\n  }\n\n  hideAutofill() {\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].hideAutofill();\n    });\n  }\n\n  showClipboard() {\n    const coffset = this.data.getClipboardRect();\n    setAllClipboardOffset.call(this, coffset);\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].showClipboard();\n    });\n  }\n\n  hideClipboard() {\n    ['br', 'l', 't', 'tl'].forEach((property) => {\n      this[property].hideClipboard();\n    });\n  }\n}\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\n\nfunction inputMovePrev(evt) {\n  evt.preventDefault();\n  evt.stopPropagation();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  if (this.itemIndex >= 0) filterItems[this.itemIndex].toggle();\n  this.itemIndex -= 1;\n  if (this.itemIndex < 0) {\n    this.itemIndex = filterItems.length - 1;\n  }\n  filterItems[this.itemIndex].toggle();\n}\n\nfunction inputMoveNext(evt) {\n  evt.stopPropagation();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  if (this.itemIndex >= 0) filterItems[this.itemIndex].toggle();\n  this.itemIndex += 1;\n  if (this.itemIndex > filterItems.length - 1) {\n    this.itemIndex = 0;\n  }\n  filterItems[this.itemIndex].toggle();\n}\n\nfunction inputEnter(evt) {\n  evt.preventDefault();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  evt.stopPropagation();\n  if (this.itemIndex < 0) this.itemIndex = 0;\n  filterItems[this.itemIndex].el.click();\n  this.hide();\n}\n\nfunction inputKeydownHandler(evt) {\n  const { keyCode } = evt;\n  if (evt.ctrlKey) {\n    evt.stopPropagation();\n  }\n  switch (keyCode) {\n    case 37: // left\n      evt.stopPropagation();\n      break;\n    case 38: // up\n      inputMovePrev.call(this, evt);\n      break;\n    case 39: // right\n      evt.stopPropagation();\n      break;\n    case 40: // down\n      inputMoveNext.call(this, evt);\n      break;\n    case 13: // enter\n      inputEnter.call(this, evt);\n      break;\n    case 9:\n      inputEnter.call(this, evt);\n      break;\n    default:\n      evt.stopPropagation();\n      break;\n  }\n}\n\nexport default class Suggest {\n  constructor(items, itemClick, width = '200px') {\n    this.filterItems = [];\n    this.items = items;\n    this.el = h('div', `${cssPrefix}-suggest`).css('width', width).hide();\n    this.itemClick = itemClick;\n    this.itemIndex = -1;\n  }\n\n  setOffset(v) {\n    this.el.cssRemoveKeys('top', 'bottom')\n      .offset(v);\n  }\n\n  hide() {\n    const { el } = this;\n    this.filterItems = [];\n    this.itemIndex = -1;\n    el.hide();\n    unbindClickoutside(this.el.parent());\n  }\n\n  setItems(items) {\n    this.items = items;\n    // this.search('');\n  }\n\n  search(word) {\n    let { items } = this;\n    if (!/^\\s*$/.test(word)) {\n      items = items.filter(it => (it.key || it).startsWith(word.toUpperCase()));\n    }\n    items = items.map((it) => {\n      let { title } = it;\n      if (title) {\n        if (typeof title === 'function') {\n          title = title();\n        }\n      } else {\n        title = it;\n      }\n      const item = h('div', `${cssPrefix}-item`)\n        .child(title)\n        .on('click.stop', () => {\n          this.itemClick(it);\n          this.hide();\n        });\n      if (it.label) {\n        item.child(h('div', 'label').html(it.label));\n      }\n      return item;\n    });\n    this.filterItems = items;\n    if (items.length <= 0) {\n      return;\n    }\n    const { el } = this;\n    // items[0].toggle();\n    el.html('').children(...items).show();\n    bindClickoutside(el.parent(), () => { this.hide(); });\n  }\n\n  bindInputEvents(input) {\n    input.on('keydown', evt => inputKeydownHandler.call(this, evt));\n  }\n}\n","import { Element, h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class Icon extends Element {\n  constructor(name) {\n    super('div', `${cssPrefix}-icon`);\n    this.iconNameEl = h('div', `${cssPrefix}-icon-img ${name}`);\n    this.child(this.iconNameEl);\n  }\n\n  setName(name) {\n    this.iconNameEl.className(`${cssPrefix}-icon-img ${name}`);\n  }\n}\n","import { h } from './element';\nimport Icon from './icon';\nimport { t } from '../locale/locale';\n\nfunction addMonth(date, step) {\n  date.setMonth(date.getMonth() + step);\n}\n\nfunction weekday(date, index) {\n  const d = new Date(date);\n  d.setDate(index - date.getDay() + 1);\n  return d;\n}\n\nfunction monthDays(year, month, cdate) {\n  // the first day of month\n  const startDate = new Date(year, month, 1, 23, 59, 59);\n  const datess = [[], [], [], [], [], []];\n  for (let i = 0; i < 6; i += 1) {\n    for (let j = 0; j < 7; j += 1) {\n      const index = i * 7 + j;\n      const d = weekday(startDate, index);\n      const disabled = d.getMonth() !== month;\n      // console.log('d:', d, ', cdate:', cdate);\n      const active = d.getMonth() === cdate.getMonth() && d.getDate() === cdate.getDate();\n      datess[i][j] = { d, disabled, active };\n    }\n  }\n  return datess;\n}\n\nexport default class Calendar {\n  constructor(value) {\n    this.value = value;\n    this.cvalue = new Date(value);\n\n    this.headerLeftEl = h('div', 'calendar-header-left');\n    this.bodyEl = h('tbody', '');\n    this.buildAll();\n    this.el = h('div', 'x-spreadsheet-calendar')\n      .children(\n        h('div', 'calendar-header').children(\n          this.headerLeftEl,\n          h('div', 'calendar-header-right').children(\n            h('a', 'calendar-prev')\n              .on('click.stop', () => this.prev())\n              .child(new Icon('chevron-left')),\n            h('a', 'calendar-next')\n              .on('click.stop', () => this.next())\n              .child(new Icon('chevron-right')),\n          ),\n        ),\n        h('table', 'calendar-body').children(\n          h('thead', '').child(\n            h('tr', '').children(\n              ...t('calendar.weeks').map(week => h('th', 'cell').child(week)),\n            ),\n          ),\n          this.bodyEl,\n        ),\n      );\n    this.selectChange = () => {};\n  }\n\n  setValue(value) {\n    this.value = value;\n    this.cvalue = new Date(value);\n    this.buildAll();\n  }\n\n  prev() {\n    const { value } = this;\n    addMonth(value, -1);\n    this.buildAll();\n  }\n\n  next() {\n    const { value } = this;\n    addMonth(value, 1);\n    this.buildAll();\n  }\n\n  buildAll() {\n    this.buildHeaderLeft();\n    this.buildBody();\n  }\n\n  buildHeaderLeft() {\n    const { value } = this;\n    this.headerLeftEl.html(`${t('calendar.months')[value.getMonth()]} ${value.getFullYear()}`);\n  }\n\n  buildBody() {\n    const { value, cvalue, bodyEl } = this;\n    const mDays = monthDays(value.getFullYear(), value.getMonth(), cvalue);\n    const trs = mDays.map((it) => {\n      const tds = it.map((it1) => {\n        let cls = 'cell';\n        if (it1.disabled) cls += ' disabled';\n        if (it1.active) cls += ' active';\n        return h('td', '').child(\n          h('div', cls)\n            .on('click.stop', () => {\n              this.selectChange(it1.d);\n            })\n            .child(it1.d.getDate().toString()),\n        );\n      });\n      return h('tr', '').children(...tds);\n    });\n    bodyEl.html('').children(...trs);\n  }\n}\n","import Calendar from './calendar';\nimport { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class Datepicker {\n  constructor() {\n    this.calendar = new Calendar(new Date());\n    this.el = h('div', `${cssPrefix}-datepicker`).child(\n      this.calendar.el,\n    ).hide();\n  }\n\n  setValue(date) {\n    // console.log(':::::::', date, typeof date, date instanceof string);\n    const { calendar } = this;\n    if (typeof date === 'string') {\n      // console.log(/^\\d{4}-\\d{1,2}-\\d{1,2}$/.test(date));\n      if (/^\\d{4}-\\d{1,2}-\\d{1,2}$/.test(date)) {\n        calendar.setValue(new Date(date.replace(new RegExp('-', 'g'), '/')));\n      }\n    } else if (date instanceof Date) {\n      calendar.setValue(date);\n    }\n    return this;\n  }\n\n  change(cb) {\n    this.calendar.selectChange = (d) => {\n      cb(d);\n      this.hide();\n    };\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n}\n","// Thanks to https://stackoverflow.com/questions/4576694/saving-and-restoring-caret-position-for-contenteditable-div\n\nexport function getCaretPosition(context) {\n  const selection = window.getSelection();\n  const range = selection.getRangeAt(0).cloneRange();\n  range.setStart(context, 0);\n  const index = range.toString().length;\n  return index;\n}\n\nfunction getTextNodeAtPosition(root, index) {\n  const treeWalker = document.createTreeWalker(\n    root,\n    NodeFilter.SHOW_TEXT,\n    function next(elem) {\n      if (index > elem.textContent.length) {\n        index -= elem.textContent.length;\n        return NodeFilter.FILTER_REJECT;\n      }\n      return NodeFilter.FILTER_ACCEPT;\n    }\n  );\n  const c = treeWalker.nextNode();\n  return {\n    node: c ? c : root,\n    position: index,\n  };\n}\n\nexport function setCaretPosition(context, index) {\n  const selection = window.getSelection();\n  const pos = getTextNodeAtPosition(context, index);\n  selection.removeAllRanges();\n  const range = new Range();\n  range.setStart(pos.node, pos.position);\n  selection.addRange(range);\n}\n\nexport function saveCaretPosition(context) {\n  const index = getCaretPosition(context);\n  return function restore() {\n    setCaretPosition(context, index);\n  };\n}","import {\n  stringAt,\n  expr2xy,\n  expr2cellRangeArgs,\n  cellRangeArgs2expr,\n  REGEX_EXPR_NONGLOBAL_AT_START,\n  REGEX_EXPR_RANGE_NONGLOBAL_AT_START\n} from '../core/alphabet';\nimport { setCaretPosition, getCaretPosition } from '../core/caret';\nimport CellRange from '../core/cell_range';\n\nfunction renderCell(left, top, width, height, color, selected = false) {\n  let style = `position:absolute;box-sizing: border-box;`;\n  style += `left:${left}px;`;\n  style += `top:${top}px;`;\n  style += `width:${width}px;`;\n  style += `height:${height}px;`;\n  style += `border:${color} 2px dashed;`;\n  if (selected) {\n    style += `background:rgba(101, 101, 101, 0.1);`;\n  }\n  return `<div style=\"${style}\"></div>`;\n}\n\nfunction generalSelectCell(sri, sci, eri, eci) {\n  if (this.cell) {\n    const expr = cellRangeArgs2expr(sri, sci, eri, eci);\n    const text = this.editor.inputText;\n    const { from, to } = this.cell;\n\n    this.editor.inputText = text.slice(0, from) + expr + text.slice(to);\n    this.editor.render();\n    setTimeout(() => {\n      setCaretPosition(this.el, from + expr.length);\n    });\n\n    this.cell = null;\n  }\n}\n\nexport default class Formula {\n  getCellPositionRange(cell) {\n    const cellExpr = this.editor.inputText.slice(cell.from, cell.to);\n    const cellRangeArgs = expr2cellRangeArgs(cellExpr);\n\n    return new CellRange(...cellRangeArgs);\n  }\n\n  constructor(editor) {\n    this.editor = editor;\n    this.el = this.editor.textEl.el;\n    this.cellEl = this.editor.cellEl.el;\n\n    this.cells = [];\n    this.cell = null;\n    this.cellSelectStartRowCol = null;\n    this.cellSelectEndRowCol = null;\n\n    let cellLastSelectionColor = null;\n    document.addEventListener(\"selectionchange\", () => {\n      if (document.activeElement !== this.el) return;\n\n      this.cell = null;\n      if (this.editor.inputText[0] != '=') return;\n\n      const index = getCaretPosition(this.el);\n      for (let cell of this.cells) {\n        const { from, to } = cell;\n        if (from <= index && index <= to) {\n          this.cell = cell;\n          break;\n        }\n      }\n\n      // If there's an active range/single formula cell (as determined by\n      // whether it has the color property), see if either:\n      // - there is no start value saved, suggesting that the formula cell was\n      //   clicked (bypassing the selectCell call) rather than a sheet cell was\n      //   selected via click\n      // - there is a start value saved, but it is for a different formula\n      //   cell than the current one (as determined by a color change),\n      //   suggesting the user clicked on a different formula cell since\n      //   last call\n      // In either case, update the start/end select accordingly.\n      // TODO: find a more reliable way to check a change of cell than by using\n      //       the color property\n      if (this.cell && this.cell.color &&\n         (this.cell.color !== cellLastSelectionColor || !this.cellSelectStartRowCol)) {\n          const cellRange = this.getCellPositionRange(this.cell);\n          this.cellSelectStartRowCol = [cellRange.sri, cellRange.sci];\n          this.cellSelectEndRowCol = [cellRange.eri, cellRange.eci];\n\n          cellLastSelectionColor = this.cell.color;\n      }\n\n      this.renderCells();\n    });\n\n    this.el.addEventListener(\"keydown\", (e) => {\n      const keyCode = e.keyCode || e.which;\n\n      if ([37, 38, 39, 40].indexOf(keyCode) == -1) return;\n\n      if (!this.cell || this.cell.from == this.cell.to) return;\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      let rowShift = 0;\n      let colShift = 0;\n\n      // Left\n      if (keyCode == 37) {\n        colShift = -1;\n      }\n      // Up\n      else if (keyCode == 38) {\n        rowShift = -1;\n      }\n      // Right\n      else if (keyCode == 39) {\n        colShift = 1;\n      }\n      // Down\n      else if (keyCode == 40) {\n        rowShift = 1;\n      }\n\n      // If the shift key is applied, hold the start position fixed\n      if (!e.shiftKey) {\n        this.cellSelectStartRowCol[0] = Math.max(0, this.cellSelectStartRowCol[0] + rowShift);\n        this.cellSelectStartRowCol[1] = Math.max(0, this.cellSelectStartRowCol[1] + colShift);\n      }\n      this.cellSelectEndRowCol[0]   = Math.max(0, this.cellSelectEndRowCol[0]   + rowShift);\n      this.cellSelectEndRowCol[1]   = Math.max(0, this.cellSelectEndRowCol[1]   + colShift);\n\n      // Get values before merge cells applied\n      const cellRangeArgs = this.getCellRangeArgsFromSelectStartEnd();\n\n      // Account for merge cells\n      let cellRange = new CellRange(...cellRangeArgs);\n\n      // Reapply merge cells after translation\n      cellRange = this.editor.data.merges.union(cellRange)\n\n      generalSelectCell.call(this, cellRange.sri, cellRange.sci, cellRange.eri, cellRange.eci);\n    });\n  }\n\n  clear() {\n    this.cell = null;\n    this.cellSelectStartRowCol = null;\n    this.cellSelectEndRowCol = null;\n    this.cells = [];\n    this.cellEl.innerHTML = '';\n  }\n\n  selectCell(ri, ci) {\n    // To represent a single cell (no range), pass start and end row/col as\n    // equal\n    generalSelectCell.call(this, ri, ci, ri, ci);\n    this.cellSelectStartRowCol = [ri, ci];\n    this.cellSelectEndRowCol = [ri, ci];\n  }\n\n  selectCellRange(eri, eci) {\n    if (this.cell) {\n      // Selected end before union with merge cells\n      this.cellSelectEndRowCol = [eri, eci];\n\n      const cellRangeArgs = this.getCellRangeArgsFromSelectStartEnd();\n\n      // Account for merge cells\n      let cr = new CellRange(...cellRangeArgs);\n      cr = this.editor.data.merges.union(cr);\n\n      // Keep current cell range start, but use new range end values\n      generalSelectCell.call(this, cr.sri, cr.sci, cr.eri, cr.eci);\n    }\n  }\n\n  getCellRangeArgsFromSelectStartEnd() {\n      // Normalize so that start index is not larger than the end index\n      let [sri, sci] = this.cellSelectStartRowCol;\n      let [eri, eci] = this.cellSelectEndRowCol;\n\n      if (sri > eri) {\n        [sri, eri] = [eri, sri];\n      }\n      if (sci > eci) {\n        [sci, eci] = [eci, sci];\n      }\n\n      return [sri, sci, eri, eci];\n  }\n\n  render() {\n    const text = this.editor.inputText;\n    this.cells = [];\n\n    let i = 0;\n    let m = null;\n    let html = \"\";\n\n    const goldenRatio = 0.618033988749895;\n    let h = 34 / 360;\n    function pickColor() {\n      const color = `hsl(${Math.floor(h * 360)}, 90%, 50%)`;\n      h += goldenRatio;\n      h %= 1;\n      return color;\n    }\n\n    let pre = 0;\n    while (i < text.length) {\n      const sub = text.slice(i);\n      if ((m = sub.match(REGEX_EXPR_RANGE_NONGLOBAL_AT_START))) {\n        // cell range\n        const color = pickColor();\n        html += `<span class=\"formula-token\" style=\"color:${color}\">${m[0]}</span>`;\n\n        this.cells.push({\n          from: i,\n          to: i + m[0].length,\n          color,\n        });\n        pre = 1;\n        i = i + m[0].length;\n      } else if ((m = sub.match(REGEX_EXPR_NONGLOBAL_AT_START))) {\n        // cell\n        const color = pickColor();\n        html += `<span class=\"formula-token\" style=\"color:${color}\">${m[0]}</span>`;\n\n        this.cells.push({\n          from: i,\n          to: i + m[0].length,\n          color,\n        });\n        pre = 1;\n        i = i + m[0].length;\n      } else if ((m = sub.match(/^[A-Za-z]+/))) {\n        // function\n        html += `<span class=\"formula-token\">${m[0]}</span>`;\n        pre = 2;\n        i = i + m[0].length;\n      } else if ((m = sub.match(/^[0-9.]+/))) {\n        // number\n        html += `<span class=\"formula-token\">${m[0]}</span>`;\n        pre = 3;\n        i = i + m[0].length;\n      } else if ((m = sub.match(/^[\\+\\-\\*\\/\\,\\=]/))) {\n        // operator\n        html += `<span class=\"formula-token\">${m[0]}</span>`;\n        if (pre == 4) {\n          // between two operators\n          this.cells.push({\n            from: i,\n            to: i,\n          });\n        }\n        if (text[i - 1] == '(') {\n          // between '(' and operator\n          this.cells.push({\n            from: i,\n            to: i,\n          });\n        }\n        pre = 4;\n        i = i + 1;\n      } else if ((m = sub.match(/^[\\(\\)]/))) {\n        // parenthesis\n        html += `<span class=\"formula-token\">${m[0]}</span>`;\n        if (text[i - 1] == '(' && text[i] == ')') {\n          // between parenthesis pair\n          this.cells.push({\n            from: i,\n            to: i,\n          });\n        }\n        if (pre == 4 && text[i] == ')') {\n          // between operator and ')'\n          this.cells.push({\n            from: i,\n            to: i,\n          });\n        }\n        pre = 5;\n        i = i + 1;\n      } else {\n        // unknown\n        html += `<span class=\"formula-token\">${text.charAt(i)}</span>`;\n        pre = 6;\n        i = i + 1;\n      }\n    }\n\n    const afterOpenParen = (pre == 5) && (text[i - 1] == '(');\n    if (pre == 4 || afterOpenParen) {\n      // between operator and the end of text\n      this.cells.push({\n        from: text.length,\n        to: text.length,\n      });\n    }\n\n    this.el.innerHTML = html;\n  }\n\n  renderCells() {\n    const cells = this.cells;\n    const data = this.editor.data;\n    let cellHtml = \"\";\n\n    for (let cell of cells) {\n      const { color } = cell;\n      if (color) {\n        const cellRange = this.getCellPositionRange(cell);\n\n        const cellRangeIncludingMerges = data.merges.union(cellRange);\n        const box = data.getRect(cellRangeIncludingMerges);\n        const { left, top, width, height } = box;\n        cellHtml += renderCell(left, top, width, height, color, this.cell === cell);\n      }\n    }\n\n    this.cellEl.innerHTML = cellHtml;\n  }\n}","//* global window */\nimport { h } from './element';\nimport Suggest from './suggest';\nimport Datepicker from './datepicker';\nimport { cssPrefix } from '../config';\n// import { mouseMoveUp } from '../event';\nimport Formula from './formula';\nimport { setCaretPosition, saveCaretPosition } from '../core/caret';\n\nfunction insertText({ target }, itxt) {\n  const { value, selectionEnd } = target;\n  const ntxt = `${value.slice(0, selectionEnd)}${itxt}${value.slice(selectionEnd)}`;\n  target.value = ntxt;\n  this.inputText = ntxt;\n  this.render();\n\n  setCaretPosition(target, selectionEnd + 1);\n}\n\nfunction keydownEventHandler(evt) {\n  const { keyCode, altKey } = evt;\n  if (keyCode !== 13 && keyCode !== 9) evt.stopPropagation();\n  if (keyCode === 13 && altKey) {\n    insertText.call(this, evt, '\\n');\n    evt.stopPropagation();\n  }\n  if (keyCode === 13 && !altKey) evt.preventDefault();\n}\n\nfunction inputEventHandler() {\n  // save caret position\n  const restore = saveCaretPosition(this.textEl.el);\n\n  const text = this.textEl.el.textContent;\n  this.inputText = text;\n  // console.log(evt, 'v:', v);\n\n  const { suggest, validator } = this;\n\n  if (validator) {\n    if (validator.type === 'list') {\n      suggest.search(text);\n    } else {\n      evt.target.value = cell.text || '';\n      suggest.hide();\n    }\n  } else {\n    const start = text.lastIndexOf('=');\n    if (start !== -1) {\n      suggest.search(text.substring(start + 1));\n    } else {\n      suggest.hide();\n    }\n  }\n  this.render();\n  this.change('input', text);\n\n  // restore caret postion\n  // to avoid caret postion missing when this.el.innerHTML changed\n  restore();\n}\n\nfunction suggestItemClick(it) {\n  const { inputText, validator } = this;\n  let position = 0;\n  if (validator && validator.type === 'list') {\n    this.inputText = it;\n    position = this.inputText.length;\n  } else {\n    const start = inputText.lastIndexOf('=');\n    const sit = inputText.substring(0, start + 1);\n    let eit = inputText.substring(start + 1);\n    if (eit.indexOf(')') !== -1) {\n      eit = eit.substring(eit.indexOf(')'));\n    } else {\n      eit = '';\n    }\n    this.inputText = `${sit + it}(`;\n    // console.log('inputText:', this.inputText);\n    position = this.inputText.length;\n    this.inputText += `)${eit}`;\n  }\n  this.render();\n  setCaretPosition(this.textEl.el, position);\n}\n\nfunction resetSuggestItems() {\n  this.suggest.setItems(this.formulas);\n}\n\nfunction dateFormat(d) {\n  let month = d.getMonth() + 1;\n  let date = d.getDate();\n  if (month < 10) month = `0${month}`;\n  if (date < 10) date = `0${date}`;\n  return `${d.getFullYear()}-${month}-${date}`;\n}\n\nexport default class Editor {\n  constructor(formulas, viewFn, data) {\n    this.data = data;\n    this.viewFn = viewFn;\n    this.rowHeight = data.rows.height;\n    this.formulas = formulas;\n    this.suggest = new Suggest(this.formulas, (it) => {\n      const unescapedKey = it.key.replace('\\\\.', '.');\n      suggestItemClick.call(this, unescapedKey);\n    });\n\n    this.datepicker = new Datepicker();\n    this.datepicker.change((d) => {\n      // console.log('d:', d);\n      this.setText(dateFormat(d));\n      this.clear();\n    });\n    this.composing = false;\n    this.areaEl = h('div', `${cssPrefix}-editor-area`)\n      .children(\n        this.textEl = h('div', 'textarea')\n          .attr('contenteditable', 'true')\n          .on('input', evt => inputEventHandler.call(this, evt))\n          .on('paste.stop', () => { })\n          .on('keydown', evt => keydownEventHandler.call(this, evt))\n          .on('compositionstart.stop', () => this.composing = true)\n          .on('compositionend.stop', () => this.composing = false),\n        this.textlineEl = h('div', 'textline'),\n        this.suggest.el,\n        this.datepicker.el,\n      )\n      .on('mousemove.stop', () => { })\n      .on('mousedown.stop', () => { });\n    this.el = h('div', `${cssPrefix}-editor`)\n      .children(this.areaEl).hide();\n    this.cellEl = h('div', `${cssPrefix}-formula-cell`)\n    this.suggest.bindInputEvents(this.textEl);\n\n    this.areaOffset = null;\n    this.freeze = { w: 0, h: 0 };\n    this.cell = null;\n    this.inputText = '';\n    this.change = () => { };\n\n    this.formula = new Formula(this);\n  }\n\n  setFreezeLengths(width, height) {\n    this.freeze.w = width;\n    this.freeze.h = height;\n  }\n\n  clear() {\n    // const { cell } = this;\n    // const cellText = (cell && cell.text) || '';\n    if (this.inputText !== '') {\n      this.change('finished', this.inputText);\n    }\n    this.cell = null;\n    this.areaOffset = null;\n    this.inputText = '';\n    this.el.hide();\n    this.textEl.val('');\n    this.textlineEl.html('');\n    this.formula.clear();\n    resetSuggestItems.call(this);\n    this.datepicker.hide();\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.rowHeight = data.rows.height;\n  }\n\n  setOffset(offset, suggestPosition = 'top') {\n    const {\n      textEl, areaEl, suggest, freeze, el, formula\n    } = this;\n    if (offset) {\n      this.areaOffset = offset;\n      const {\n        left, top, width, height, l, t,\n      } = offset;\n      // console.log('left:', left, ',top:', top, ', freeze:', freeze);\n      const elOffset = { left: 0, top: 0 };\n      // top left\n      if (freeze.w > l && freeze.h > t) {\n        //\n      } else if (freeze.w < l && freeze.h < t) {\n        elOffset.left = freeze.w;\n        elOffset.top = freeze.h;\n      } else if (freeze.w > l) {\n        elOffset.top = freeze.h;\n      } else if (freeze.h > t) {\n        elOffset.left = freeze.w;\n      }\n      el.offset(elOffset);\n      areaEl.offset({ left: left - elOffset.left - 0.8, top: top - elOffset.top - 0.8 });\n      textEl.css('min-width', `${width - 9 + 0.8}px`);\n      textEl.css('min-height', `${height - 3 + 0.8}px`);\n      const sOffset = { left: 0 };\n      sOffset[suggestPosition] = height;\n      suggest.setOffset(sOffset);\n      suggest.hide();\n      formula.renderCells();\n    }\n  }\n\n  setCell(cell, validator) {\n    // console.log('::', validator);\n    const { el, datepicker, suggest } = this;\n    el.show();\n    this.cell = cell;\n    const text = (cell && cell.text) || '';\n    this.setText(text);\n\n    this.validator = validator;\n    if (validator) {\n      const { type } = validator;\n      if (type === 'date') {\n        datepicker.show();\n        if (!/^\\s*$/.test(text)) {\n          datepicker.setValue(text);\n        }\n      }\n      if (type === 'list') {\n        suggest.setItems(validator.values());\n        suggest.search('');\n      }\n    }\n  }\n\n  setText(text) {\n    this.inputText = text;\n    // console.log('text>>:', text);\n\n    // firefox bug\n    this.textEl.el.blur();\n\n    this.render();\n    setTimeout(() => {\n      setCaretPosition(this.textEl.el, text.length);\n    })\n  }\n\n  render() {\n    if (this.composing) return;\n\n    const text = this.inputText;\n\n    if (text[0] != '=') {\n      this.textEl.html(text);\n    } else {\n      this.formula.render();\n    }\n\n    this.textlineEl.html(text);\n  }\n\n  formulaCellSelecting() {\n    return Boolean(this.formula.cell);\n  }\n\n  formulaSelectCell(ri, ci) {\n    this.formula.selectCell(ri, ci);\n  }\n\n  formulaSelectCellRange(ri, ci) {\n    this.formula.selectCellRange(ri, ci);\n  }\n}\n","import { Element } from './element';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nexport default class Button extends Element {\n  // type: primary\n  constructor(title, type = '') {\n    super('div', `${cssPrefix}-button ${type}`);\n    this.child(t(`button.${title}`));\n  }\n}\n","/* global window */\nfunction dpr() {\n  return window.devicePixelRatio || 1;\n}\n\nfunction thinLineWidth() {\n  return dpr() - 0.5;\n}\n\nfunction npx(px) {\n  return parseInt(px * dpr(), 10);\n}\n\nfunction npxLine(px) {\n  const n = npx(px);\n  return n > 0 ? n - 0.5 : 0.5;\n}\n\nclass DrawBox {\n  constructor(x, y, w, h, padding = 0) {\n    this.x = x;\n    this.y = y;\n    this.width = w;\n    this.height = h;\n    this.padding = padding;\n    this.bgcolor = '#ffffff';\n    // border: [width, style, color]\n    this.borderTop = null;\n    this.borderRight = null;\n    this.borderBottom = null;\n    this.borderLeft = null;\n  }\n\n  setBorders({\n    top, bottom, left, right,\n  }) {\n    if (top) this.borderTop = top;\n    if (right) this.borderRight = right;\n    if (bottom) this.borderBottom = bottom;\n    if (left) this.borderLeft = left;\n  }\n\n  innerWidth() {\n    return this.width - (this.padding * 2) - 2;\n  }\n\n  innerHeight() {\n    return this.height - (this.padding * 2) - 2;\n  }\n\n  textx(align) {\n    const { width, padding } = this;\n    let { x } = this;\n    if (align === 'left') {\n      x += padding;\n    } else if (align === 'center') {\n      x += width / 2;\n    } else if (align === 'right') {\n      x += width - padding;\n    }\n    return x;\n  }\n\n  texty(align, h) {\n    const { height, padding } = this;\n    let { y } = this;\n    if (align === 'top') {\n      y += padding;\n    } else if (align === 'middle') {\n      y += height / 2 - h / 2;\n    } else if (align === 'bottom') {\n      y += height - padding - h;\n    }\n    return y;\n  }\n\n  topxys() {\n    const { x, y, width } = this;\n    return [[x, y], [x + width, y]];\n  }\n\n  rightxys() {\n    const {\n      x, y, width, height,\n    } = this;\n    return [[x + width, y], [x + width, y + height]];\n  }\n\n  bottomxys() {\n    const {\n      x, y, width, height,\n    } = this;\n    return [[x, y + height], [x + width, y + height]];\n  }\n\n  leftxys() {\n    const {\n      x, y, height,\n    } = this;\n    return [[x, y], [x, y + height]];\n  }\n}\n\nfunction drawFontLine(type, tx, ty, align, valign, blheight, blwidth) {\n  const floffset = { x: 0, y: 0 };\n  if (type === 'underline') {\n    if (valign === 'bottom') {\n      floffset.y = 0;\n    } else if (valign === 'top') {\n      floffset.y = -(blheight + 2);\n    } else {\n      floffset.y = -blheight / 2;\n    }\n  } else if (type === 'strike') {\n    if (valign === 'bottom') {\n      floffset.y = blheight / 2;\n    } else if (valign === 'top') {\n      floffset.y = -((blheight / 2) + 2);\n    }\n  }\n\n  if (align === 'center') {\n    floffset.x = blwidth / 2;\n  } else if (align === 'right') {\n    floffset.x = blwidth;\n  }\n  this.line(\n    [tx - floffset.x, ty - floffset.y],\n    [tx - floffset.x + blwidth, ty - floffset.y],\n  );\n}\n\nclass Draw {\n  constructor(el, width, height) {\n    this.el = el;\n    this.ctx = el.getContext('2d');\n    this.resize(width, height);\n    this.ctx.scale(dpr(), dpr());\n  }\n\n  resize(width, height) {\n    // console.log('dpr:', dpr);\n    this.el.style.width = `${width}px`;\n    this.el.style.height = `${height}px`;\n    this.el.width = npx(width);\n    this.el.height = npx(height);\n  }\n\n  clear() {\n    const { width, height } = this.el;\n    this.ctx.clearRect(0, 0, width, height);\n    return this;\n  }\n\n  attr(options) {\n    Object.assign(this.ctx, options);\n    return this;\n  }\n\n  save() {\n    this.ctx.save();\n    this.ctx.beginPath();\n    return this;\n  }\n\n  restore() {\n    this.ctx.restore();\n    return this;\n  }\n\n  beginPath() {\n    this.ctx.beginPath();\n    return this;\n  }\n\n  translate(x, y) {\n    this.ctx.translate(npx(x), npx(y));\n    return this;\n  }\n\n  scale(x, y) {\n    this.ctx.scale(x, y);\n    return this;\n  }\n\n  clearRect(x, y, w, h) {\n    this.ctx.clearRect(x, y, w, h);\n    return this;\n  }\n\n  fillRect(x, y, w, h) {\n    this.ctx.fillRect(npx(x) - 0.5, npx(y) - 0.5, npx(w), npx(h));\n    return this;\n  }\n\n  fillText(text, x, y) {\n    this.ctx.fillText(text, npx(x), npx(y));\n    return this;\n  }\n\n  /*\n    txt: render text\n    box: DrawBox\n    attr: {\n      align: left | center | right\n      valign: top | middle | bottom\n      color: '#333333',\n      strike: false,\n      font: {\n        name: 'Arial',\n        size: 14,\n        bold: false,\n        italic: false,\n      }\n    }\n    textWrap: text wrapping\n  */\n  text(mtxt, box, attr = {}, textWrap = true) {\n    const { ctx } = this;\n    const {\n      align, valign, font, color, strike, underline,\n    } = attr;\n    const tx = box.textx(align);\n    ctx.save();\n    ctx.beginPath();\n    this.attr({\n      textAlign: align,\n      textBaseline: valign,\n      font: `${font.italic ? 'italic' : ''} ${font.bold ? 'bold' : ''} ${npx(font.size)}px ${font.name}`,\n      fillStyle: color,\n      strokeStyle: color,\n    });\n    const txts = `${mtxt}`.split('\\n');\n    const biw = box.innerWidth();\n    const ntxts = [];\n    txts.forEach((it) => {\n      const txtWidth = ctx.measureText(it).width;\n      if (textWrap && txtWidth > npx(biw)) {\n        let textLine = { w: 0, len: 0, start: 0 };\n        for (let i = 0; i < it.length; i += 1) {\n          if (textLine.w >= npx(biw)) {\n            ntxts.push(it.substr(textLine.start, textLine.len));\n            textLine = { w: 0, len: 0, start: i };\n          }\n          textLine.len += 1;\n          textLine.w += ctx.measureText(it[i]).width + 1;\n        }\n        if (textLine.len > 0) {\n          ntxts.push(it.substr(textLine.start, textLine.len));\n        }\n      } else {\n        ntxts.push(it);\n      }\n    });\n    const txtHeight = (ntxts.length - 1) * (font.size + 2);\n    let ty = box.texty(valign, txtHeight);\n    ntxts.forEach((txt) => {\n      const txtWidth = ctx.measureText(txt).width;\n      this.fillText(txt, tx, ty);\n      if (strike) {\n        drawFontLine.call(this, 'strike', tx, ty, align, valign, font.size, txtWidth);\n      }\n      if (underline) {\n        drawFontLine.call(this, 'underline', tx, ty, align, valign, font.size, txtWidth);\n      }\n      ty += font.size + 2;\n    });\n    ctx.restore();\n    return this;\n  }\n\n  border(style, color) {\n    const { ctx } = this;\n    ctx.lineWidth = thinLineWidth;\n    ctx.strokeStyle = color;\n    // console.log('style:', style);\n    if (style === 'medium') {\n      ctx.lineWidth = npx(2) - 0.5;\n    } else if (style === 'thick') {\n      ctx.lineWidth = npx(3);\n    } else if (style === 'dashed') {\n      ctx.setLineDash([npx(3), npx(2)]);\n    } else if (style === 'dotted') {\n      ctx.setLineDash([npx(1), npx(1)]);\n    } else if (style === 'double') {\n      ctx.setLineDash([npx(2), 0]);\n    }\n    return this;\n  }\n\n  line(...xys) {\n    const { ctx } = this;\n    if (xys.length > 1) {\n      ctx.beginPath();\n      const [x, y] = xys[0];\n      ctx.moveTo(npxLine(x), npxLine(y));\n      for (let i = 1; i < xys.length; i += 1) {\n        const [x1, y1] = xys[i];\n        ctx.lineTo(npxLine(x1), npxLine(y1));\n      }\n      ctx.stroke();\n    }\n    return this;\n  }\n\n  strokeBorders(box) {\n    const { ctx } = this;\n    ctx.save();\n    // border\n    const {\n      borderTop, borderRight, borderBottom, borderLeft,\n    } = box;\n    if (borderTop) {\n      this.border(...borderTop);\n      // console.log('box.topxys:', box.topxys());\n      this.line(...box.topxys());\n    }\n    if (borderRight) {\n      this.border(...borderRight);\n      this.line(...box.rightxys());\n    }\n    if (borderBottom) {\n      this.border(...borderBottom);\n      this.line(...box.bottomxys());\n    }\n    if (borderLeft) {\n      this.border(...borderLeft);\n      this.line(...box.leftxys());\n    }\n    ctx.restore();\n  }\n\n  dropdown(box) {\n    const { ctx } = this;\n    const {\n      x, y, width, height,\n    } = box;\n    const sx = x + width - 15;\n    const sy = y + height - 15;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx), npx(sy));\n    ctx.lineTo(npx(sx + 8), npx(sy));\n    ctx.lineTo(npx(sx + 4), npx(sy + 6));\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(0, 0, 0, .45)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  error(box) {\n    const { ctx } = this;\n    const { x, y, width } = box;\n    const sx = x + width - 1;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y + 8));\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(255, 0, 0, .65)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  frozen(box) {\n    const { ctx } = this;\n    const { x, y, width } = box;\n    const sx = x + width - 1;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y + 8));\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(0, 255, 0, .85)';\n    ctx.fill();\n    ctx.restore();\n  }\n\n  rect(box, dtextcb) {\n    const { ctx } = this;\n    const {\n      x, y, width, height, bgcolor,\n    } = box;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = bgcolor || '#fff';\n    ctx.rect(npxLine(x + 1), npxLine(y + 1), npx(width - 2), npx(height - 2));\n    ctx.clip();\n    ctx.fill();\n    dtextcb();\n    ctx.restore();\n  }\n}\n\nexport default {};\nexport {\n  Draw,\n  DrawBox,\n  thinLineWidth,\n  npx,\n};\n","// docs\nimport './_.prototypes';\n\n/** default font list\n * @type {BaseFont[]}\n */\nconst baseFonts = [\n  { key: 'Arial', title: 'Arial' },\n  { key: 'Helvetica', title: 'Helvetica' },\n  { key: 'Source Sans Pro', title: 'Source Sans Pro' },\n  { key: 'Comic Sans MS', title: 'Comic Sans MS' },\n  { key: 'Courier New', title: 'Courier New' },\n  { key: 'Verdana', title: 'Verdana' },\n  { key: 'Lato', title: 'Lato' },\n];\n\n/** default fontSize list\n * @type {FontSize[]}\n */\nconst fontSizes = [\n  { pt: 7.5, px: 10 },\n  { pt: 8, px: 11 },\n  { pt: 9, px: 12 },\n  { pt: 10, px: 13 },\n  { pt: 10.5, px: 14 },\n  { pt: 11, px: 15 },\n  { pt: 12, px: 16 },\n  { pt: 14, px: 18.7 },\n  { pt: 15, px: 20 },\n  { pt: 16, px: 21.3 },\n  { pt: 18, px: 24 },\n  { pt: 22, px: 29.3 },\n  { pt: 24, px: 32 },\n  { pt: 26, px: 34.7 },\n  { pt: 36, px: 48 },\n  { pt: 42, px: 56 },\n  // { pt: 54, px: 71.7 },\n  // { pt: 63, px: 83.7 },\n  // { pt: 72, px: 95.6 },\n];\n\n/** map pt to px\n * @date 2019-10-10\n * @param {fontsizePT} pt\n * @returns {fontsizePX}\n */\nfunction getFontSizePxByPt(pt) {\n  for (let i = 0; i < fontSizes.length; i += 1) {\n    const fontSize = fontSizes[i];\n    if (fontSize.pt === pt) {\n      return fontSize.px;\n    }\n  }\n  return pt;\n}\n\n/** transform baseFonts to map\n * @date 2019-10-10\n * @param {BaseFont[]} [ary=[]]\n * @returns {object}\n */\nfunction fonts(ary = []) {\n  const map = {};\n  baseFonts.concat(ary).forEach((f) => {\n    map[f.key] = f;\n  });\n  return map;\n}\n\nexport default {};\nexport {\n  fontSizes,\n  fonts,\n  baseFonts,\n  getFontSizePxByPt,\n};\n","// formulaParser is a Parser object from the hot-formula-parser package\nconst cellRender = (src, formulaParser) => {\n  // If cell contains a formula, recursively parse that formula to get the value\n  if (src.length > 0 && src[0] === '=') {\n    const parsedResult = formulaParser.parse(src.slice(1));\n    const recursedSrc = (parsedResult.error) ?\n            parsedResult.error :\n            parsedResult.result;\n\n    const parsedResultRecurse = cellRender(recursedSrc, formulaParser);\n    return parsedResultRecurse;\n  }\n\n  // If cell doesn't contain a formula, render its content as is\n  return src;\n};\n\nexport default {\n  render: cellRender,\n};\n","import { tf } from '../locale/locale';\n\nconst formatStringRender = v => v;\n\nconst formatNumberRender = (v) => {\n  // match \"-12.1\" or \"12\" or \"12.1\"\n  if (/^(-?\\d*.?\\d*)$/.test(v)) {\n    const v1 = Number(v).toFixed(2).toString();\n    const [first, ...parts] = v1.split('\\\\.');\n    return [first.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,'), ...parts];\n  }\n  return v;\n};\n\nconst baseFormats = [\n  {\n    key: 'normal',\n    title: tf('format.normal'),\n    type: 'string',\n    render: formatStringRender,\n  },\n  {\n    key: 'text',\n    title: tf('format.text'),\n    type: 'string',\n    render: formatStringRender,\n  },\n  {\n    key: 'number',\n    title: tf('format.number'),\n    type: 'number',\n    label: '1,000.12',\n    render: formatNumberRender,\n  },\n  {\n    key: 'percent',\n    title: tf('format.percent'),\n    type: 'number',\n    label: '10.12%',\n    render: v => `${v}%`,\n  },\n  {\n    key: 'rmb',\n    title: tf('format.rmb'),\n    type: 'number',\n    label: '￥10.00',\n    render: v => `￥${formatNumberRender(v)}`,\n  },\n  {\n    key: 'usd',\n    title: tf('format.usd'),\n    type: 'number',\n    label: '$10.00',\n    render: v => `$${formatNumberRender(v)}`,\n  },\n  {\n    key: 'eur',\n    title: tf('format.eur'),\n    type: 'number',\n    label: '€10.00',\n    render: v => `€${formatNumberRender(v)}`,\n  },\n  {\n    key: 'date',\n    title: tf('format.date'),\n    type: 'date',\n    label: '26/09/2008',\n    render: formatStringRender,\n  },\n  {\n    key: 'time',\n    title: tf('format.time'),\n    type: 'date',\n    label: '15:59:00',\n    render: formatStringRender,\n  },\n  {\n    key: 'datetime',\n    title: tf('format.datetime'),\n    type: 'date',\n    label: '26/09/2008 15:59:00',\n    render: formatStringRender,\n  },\n  {\n    key: 'duration',\n    title: tf('format.duration'),\n    type: 'date',\n    label: '24:01:00',\n    render: formatStringRender,\n  },\n];\n\n// const formats = (ary = []) => {\n//   const map = {};\n//   baseFormats.concat(ary).forEach((f) => {\n//     map[f.key] = f;\n//   });\n//   return map;\n// };\nconst formatm = {};\nbaseFormats.forEach((f) => {\n  formatm[f.key] = f;\n});\n\nexport default {\n};\nexport {\n  formatm,\n  baseFormats,\n};\n","import { stringAt } from '../core/alphabet';\nimport { getFontSizePxByPt } from '../core/font';\nimport _cell from '../core/cell';\nimport { formatm } from '../core/format';\n\nimport {\n  Draw, DrawBox, thinLineWidth, npx,\n} from '../canvas/draw';\n\nimport { Parser } from 'hot-formula-parser';\n\n// gobal var\nconst cellPaddingWidth = 5;\nconst tableFixedHeaderCleanStyle = { fillStyle: '#f4f5f8' };\nconst tableGridStyle = {\n  fillStyle: '#fff',\n  lineWidth: thinLineWidth,\n  strokeStyle: '#e6e6e6',\n};\nconst formulaParser = new Parser();\nfunction tableFixedHeaderStyle() {\n  return {\n    textAlign: 'center',\n    textBaseline: 'middle',\n    font: `500 ${npx(12)}px Source Sans Pro`,\n    fillStyle: '#585757',\n    lineWidth: thinLineWidth(),\n    strokeStyle: '#e6e6e6',\n  };\n}\n\nfunction getDrawBox(data, rindex, cindex, yoffset = 0) {\n  const {\n    left, top, width, height,\n  } = data.cellRect(rindex, cindex);\n  return new DrawBox(left, top + yoffset, width, height, cellPaddingWidth);\n}\n/*\nfunction renderCellBorders(bboxes, translateFunc) {\n  const { draw } = this;\n  if (bboxes) {\n    const rset = new Set();\n    // console.log('bboxes:', bboxes);\n    bboxes.forEach(({ ri, ci, box }) => {\n      if (!rset.has(ri)) {\n        rset.add(ri);\n        translateFunc(ri);\n      }\n      draw.strokeBorders(box);\n    });\n  }\n}\n*/\n\nexport function renderCell(draw, data, rindex, cindex, yoffset = 0) {\n  const { sortedRowMap, rows, cols } = data;\n  if (rows.isHide(rindex) || cols.isHide(cindex)) return;\n  let nrindex = rindex;\n  if (sortedRowMap.has(rindex)) {\n    nrindex = sortedRowMap.get(rindex);\n  }\n\n  const cell = data.getCell(nrindex, cindex);\n  if (cell === null) return;\n  let frozen = false;\n  if ('editable' in cell && cell.editable === false) {\n    frozen = true;\n  }\n\n  const style = data.getCellStyleOrDefault(nrindex, cindex);\n  const dbox = getDrawBox(data, rindex, cindex, yoffset);\n  dbox.bgcolor = style.bgcolor;\n  if (style.border !== undefined) {\n    dbox.setBorders(style.border);\n    // bboxes.push({ ri: rindex, ci: cindex, box: dbox });\n    draw.strokeBorders(dbox);\n  }\n  draw.rect(dbox, () => {\n    // render text\n    let cellText = '';\n    if (!data.settings.evalPaused) {\n      cellText = _cell.render(cell.text || '', formulaParser);\n    } else {\n      cellText = cell.text || '';\n    }\n    if (style.format) {\n      // console.log(data.formatm, '>>', cell.format);\n      cellText = formatm[style.format].render(cellText, formulaParser);\n    }\n    const font = Object.assign({}, style.font);\n    font.size = getFontSizePxByPt(font.size);\n    // console.log('style:', style);\n    draw.text(cellText, dbox, {\n      align: style.align,\n      valign: style.valign,\n      font,\n      color: style.color,\n      strike: style.strike,\n      underline: style.underline,\n    }, style.textwrap);\n    // error\n    const error = data.validations.getError(rindex, cindex);\n    if (error) {\n      // console.log('error:', rindex, cindex, error);\n      draw.error(dbox);\n    }\n    if (frozen) {\n      draw.frozen(dbox);\n    }\n  });\n}\n\nfunction renderAutofilter(viewRange) {\n  const { data, draw } = this;\n  if (viewRange) {\n    const { autoFilter } = data;\n    if (!autoFilter.active()) return;\n    const afRange = autoFilter.hrange();\n    if (viewRange.intersects(afRange)) {\n      afRange.each((ri, ci) => {\n        const dbox = getDrawBox(data, ri, ci);\n        draw.dropdown(dbox);\n      });\n    }\n  }\n}\n\nfunction renderContent(viewRange, fw, fh, tx, ty) {\n  const { draw, data } = this;\n  draw.save();\n  draw.translate(fw, fh)\n    .translate(tx, ty);\n\n  const { exceptRowSet } = data;\n  // const exceptRows = Array.from(exceptRowSet);\n  const filteredTranslateFunc = (ri) => {\n    const ret = exceptRowSet.has(ri);\n    if (ret) {\n      const height = data.rows.getHeight(ri);\n      draw.translate(0, -height);\n    }\n    return !ret;\n  };\n\n  const exceptRowTotalHeight = data.exceptRowTotalHeight(viewRange.sri, viewRange.eri);\n  // 1 render cell\n  draw.save();\n  draw.translate(0, -exceptRowTotalHeight);\n  viewRange.each((ri, ci) => {\n    renderCell.call(this, draw, data, ri, ci);\n  }, ri => filteredTranslateFunc(ri));\n  draw.restore();\n\n\n  // 2 render mergeCell\n  const rset = new Set();\n  draw.save();\n  draw.translate(0, -exceptRowTotalHeight);\n  data.eachMergesInView(viewRange, ({ sri, sci, eri }) => {\n    if (!exceptRowSet.has(sri)) {\n      renderCell.call(this, draw, data, sri, sci);\n    } else if (!rset.has(sri)) {\n      rset.add(sri);\n      const height = data.rows.sumHeight(sri, eri + 1);\n      draw.translate(0, -height);\n    }\n  });\n  draw.restore();\n\n  // 3 render autofilter\n  renderAutofilter.call(this, viewRange);\n\n  draw.restore();\n}\n\nfunction renderSelectedHeaderCell(x, y, w, h) {\n  const { draw } = this;\n  draw.save();\n  draw.attr({ fillStyle: 'rgba(75, 137, 255, 0.08)' })\n    .fillRect(x, y, w, h);\n  draw.restore();\n}\n\n// viewRange\n// type: all | left | top\n// w: the fixed width of header\n// h: the fixed height of header\n// tx: moving distance on x-axis\n// ty: moving distance on y-axis\nfunction renderFixedHeaders(type, viewRange, w, h, tx, ty) {\n  const { draw, data } = this;\n  const sumHeight = viewRange.h; // rows.sumHeight(viewRange.sri, viewRange.eri + 1);\n  const sumWidth = viewRange.w; // cols.sumWidth(viewRange.sci, viewRange.eci + 1);\n  const nty = ty + h;\n  const ntx = tx + w;\n\n  draw.save();\n  // draw rect background\n  draw.attr(tableFixedHeaderCleanStyle);\n  if (type === 'all' || type === 'left') draw.fillRect(0, nty, w, sumHeight);\n  if (type === 'all' || type === 'top') draw.fillRect(ntx, 0, sumWidth, h);\n\n  const {\n    sri, sci, eri, eci,\n  } = data.selector.range;\n  // console.log(data.selectIndexes);\n  // draw text\n  // text font, align...\n  draw.attr(tableFixedHeaderStyle());\n  // y-header-text\n  if (type === 'all' || type === 'left') {\n    data.rowEach(viewRange.sri, viewRange.eri, (i, y1, rowHeight) => {\n      const y = nty + y1;\n      const ii = i;\n      draw.line([0, y], [w, y]);\n      if (sri <= ii && ii < eri + 1) {\n        renderSelectedHeaderCell.call(this, 0, y, w, rowHeight);\n      }\n      draw.fillText(ii + 1, w / 2, y + (rowHeight / 2));\n      if (i > 0 && data.rows.isHide(i - 1)) {\n        draw.save();\n        draw.attr({ strokeStyle: '#c6c6c6' });\n        draw.line([5, y + 5], [w - 5, y + 5]);\n        draw.restore();\n      }\n    });\n    draw.line([0, sumHeight + nty], [w, sumHeight + nty]);\n    draw.line([w, nty], [w, sumHeight + nty]);\n  }\n  // x-header-text\n  if (type === 'all' || type === 'top') {\n    data.colEach(viewRange.sci, viewRange.eci, (i, x1, colWidth) => {\n      const x = ntx + x1;\n      const ii = i;\n      draw.line([x, 0], [x, h]);\n      if (sci <= ii && ii < eci + 1) {\n        renderSelectedHeaderCell.call(this, x, 0, colWidth, h);\n      }\n      draw.fillText(stringAt(ii), x + (colWidth / 2), h / 2);\n      if (i > 0 && data.cols.isHide(i - 1)) {\n        draw.save();\n        draw.attr({ strokeStyle: '#c6c6c6' });\n        draw.line([x + 5, 5], [x + 5, h - 5]);\n        draw.restore();\n      }\n    });\n    draw.line([sumWidth + ntx, 0], [sumWidth + ntx, h]);\n    draw.line([0, h], [sumWidth + ntx, h]);\n  }\n  draw.restore();\n}\n\nfunction renderFixedLeftTopCell(fw, fh) {\n  const { draw } = this;\n  draw.save();\n  // left-top-cell\n  draw.attr({ fillStyle: '#f4f5f8' })\n    .fillRect(0, 0, fw, fh);\n  draw.restore();\n}\n\nfunction renderContentGrid({\n  sri, sci, eri, eci, w, h,\n}, fw, fh, tx, ty) {\n  const { draw, data } = this;\n  const { settings } = data;\n\n  draw.save();\n  draw.attr(tableGridStyle)\n    .translate(fw + tx, fh + ty);\n  // const sumWidth = cols.sumWidth(sci, eci + 1);\n  // const sumHeight = rows.sumHeight(sri, eri + 1);\n  // console.log('sumWidth:', sumWidth);\n  // draw.clearRect(0, 0, w, h);\n  if (!settings.showGrid) {\n    draw.restore();\n    return;\n  }\n  // console.log('rowStart:', rowStart, ', rowLen:', rowLen);\n  data.rowEach(sri, eri, (i, y, ch) => {\n    // console.log('y:', y);\n    if (i !== sri) draw.line([0, y], [w, y]);\n    if (i === eri) draw.line([0, y + ch], [w, y + ch]);\n  });\n  data.colEach(sci, eci, (i, x, cw) => {\n    if (i !== sci) draw.line([x, 0], [x, h]);\n    if (i === eci) draw.line([x + cw, 0], [x + cw, h]);\n  });\n  draw.restore();\n}\n\nfunction renderFreezeHighlightLine(fw, fh, ftw, fth) {\n  const { draw, data } = this;\n  const twidth = data.viewWidth() - fw;\n  const theight = data.viewHeight() - fh;\n  draw.save()\n    .translate(fw, fh)\n    .attr({ strokeStyle: 'rgba(75, 137, 255, .6)' });\n  draw.line([0, fth], [twidth, fth]);\n  draw.line([ftw, 0], [ftw, theight]);\n  draw.restore();\n}\n\n/** end */\nclass Table {\n  constructor(el, data) {\n    this.el = el;\n    this.draw = new Draw(el, data.viewWidth(), data.viewHeight());\n    this.data = data;\n\n    const that = this;\n\n    // Whenever formulaParser.parser encounters a cell reference, it will\n    // execute this callback to query the true value of that cell reference.\n    // If the referenced cell contains a formula, we need to use formulaParser\n    // to determine its value---which will then trigger more callCellValue\n    // events to computer the values of its cell references. This recursion\n    // will continue until the original formula is fully resolved.\n    const getFormulaParserCellValue = function(cellCoord) {\n      let cellText = that.data.getCellTextOrDefault(cellCoord.row.index, cellCoord.column.index);\n     \n      // If cell contains a formula, return the result of the formula rather\n      // than the formula text itself\n      if (cellText && cellText.length > 0 && cellText[0] === '=') {\n        const parsedResult = formulaParser.parse(cellText.slice(1));\n\n        // If there's an error, return the error instead of the result\n        return (parsedResult.error) ?\n          parsedResult.error :\n          parsedResult.result;\n      }\n\n      // The cell doesn't contain a formula, so return its contents as a value.\n      // If the string is a number, return as a number;\n      // otherwise, return as a string.\n      return Number(cellText) || cellText;\n    }\n\n    formulaParser.on('callCellValue', function(cellCoord, done) {\n      const cellValue = getFormulaParserCellValue(cellCoord);\n      done(cellValue);\n    });\n\n    formulaParser.on('callRangeValue', function (startCellCoord, endCellCoord, done) {\n      let fragment = [];\n\n      for (let row = startCellCoord.row.index; row <= endCellCoord.row.index; row++) {\n        let colFragment = [];\n\n        for (let col = startCellCoord.column.index; col <= endCellCoord.column.index; col++) {\n          // Copy the parts of the structure of a Parser cell coordinate used\n          // by getFormulaParserCellValue\n          const constructedCellCoord = {\n            row: { index: row },\n            column: { index: col }  \n          };\n          const cellValue = getFormulaParserCellValue(constructedCellCoord);\n\n          colFragment.push(cellValue);\n        }\n        fragment.push(colFragment);\n      }\n\n      done(fragment);\n    })\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.render();\n  }\n\n  render() {\n    // resize canvas\n    const { data } = this;\n    const { rows, cols } = data;\n    // fixed width of header\n    const fw = cols.indexWidth;\n    // fixed height of header\n    const fh = rows.height;\n\n    this.draw.resize(data.viewWidth(), data.viewHeight());\n    this.clear();\n\n    const viewRange = data.viewRange();\n    // renderAll.call(this, viewRange, data.scroll);\n    const tx = data.freezeTotalWidth();\n    const ty = data.freezeTotalHeight();\n    const { x, y } = data.scroll;\n    // 1\n    renderContentGrid.call(this, viewRange, fw, fh, tx, ty);\n    renderContent.call(this, viewRange, fw, fh, -x, -y);\n    renderFixedHeaders.call(this, 'all', viewRange, fw, fh, tx, ty);\n    renderFixedLeftTopCell.call(this, fw, fh);\n    const [fri, fci] = data.freeze;\n    if (fri > 0 || fci > 0) {\n      // 2\n      if (fri > 0) {\n        const vr = viewRange.clone();\n        vr.sri = 0;\n        vr.eri = fri - 1;\n        vr.h = ty;\n        renderContentGrid.call(this, vr, fw, fh, tx, 0);\n        renderContent.call(this, vr, fw, fh, -x, 0);\n        renderFixedHeaders.call(this, 'top', vr, fw, fh, tx, 0);\n      }\n      // 3\n      if (fci > 0) {\n        const vr = viewRange.clone();\n        vr.sci = 0;\n        vr.eci = fci - 1;\n        vr.w = tx;\n        renderContentGrid.call(this, vr, fw, fh, 0, ty);\n        renderFixedHeaders.call(this, 'left', vr, fw, fh, 0, ty);\n        renderContent.call(this, vr, fw, fh, 0, -y);\n      }\n      // 4\n      const freezeViewRange = data.freezeViewRange();\n      renderContentGrid.call(this, freezeViewRange, fw, fh, 0, 0);\n      renderFixedHeaders.call(this, 'all', freezeViewRange, fw, fh, 0, 0);\n      renderContent.call(this, freezeViewRange, fw, fh, 0, 0);\n      // 5\n      renderFreezeHighlightLine.call(this, fw, fh, tx, ty);\n    }\n  }\n\n  clear() {\n    this.draw.clear();\n  }\n}\n\nexport default Table;\n","/* global window document */\nimport { h } from './element';\nimport { cssPrefix } from '../config';\nimport Button from './button';\nimport { Draw } from '../canvas/draw';\nimport { renderCell } from './table';\nimport { t } from '../locale/locale';\n\n// resolution: 72 => 595 x 842\n// 150 => 1240 x 1754\n// 200 => 1654 x 2339\n// 300 => 2479 x 3508\n// 96 * cm / 2.54 , 96 * cm / 2.54\n\nconst PAGER_SIZES = [\n  ['A3', 11.69, 16.54],\n  ['A4', 8.27, 11.69],\n  ['A5', 5.83, 8.27],\n  ['B4', 9.84, 13.90],\n  ['B5', 6.93, 9.84],\n];\n\nconst PAGER_ORIENTATIONS = ['landscape', 'portrait'];\n\nfunction inches2px(inc) {\n  return parseInt(96 * inc, 10);\n}\n\nfunction btnClick(type) {\n  if (type === 'cancel') {\n    this.el.hide();\n  } else {\n    this.toPrint();\n  }\n}\n\nfunction pagerSizeChange(evt) {\n  const { paper } = this;\n  const { value } = evt.target;\n  const ps = PAGER_SIZES[value];\n  paper.w = inches2px(ps[1]);\n  paper.h = inches2px(ps[2]);\n  // console.log('paper:', ps, paper);\n  this.preview();\n}\nfunction pagerOrientationChange(evt) {\n  const { paper } = this;\n  const { value } = evt.target;\n  const v = PAGER_ORIENTATIONS[value];\n  paper.orientation = v;\n  this.preview();\n}\n\nexport default class Print {\n  constructor(data) {\n    this.paper = {\n      w: inches2px(PAGER_SIZES[0][1]),\n      h: inches2px(PAGER_SIZES[0][2]),\n      padding: 50,\n      orientation: PAGER_ORIENTATIONS[0],\n      get width() {\n        return this.orientation === 'landscape' ? this.h : this.w;\n      },\n      get height() {\n        return this.orientation === 'landscape' ? this.w : this.h;\n      },\n    };\n    this.data = data;\n    this.el = h('div', `${cssPrefix}-print`)\n      .children(\n        h('div', `${cssPrefix}-print-bar`)\n          .children(\n            h('div', '-title').child('Print settings'),\n            h('div', '-right').children(\n              h('div', `${cssPrefix}-buttons`).children(\n                new Button('cancel').on('click', btnClick.bind(this, 'cancel')),\n                new Button('next', 'primary').on('click', btnClick.bind(this, 'next')),\n              ),\n            ),\n          ),\n        h('div', `${cssPrefix}-print-content`)\n          .children(\n            this.contentEl = h('div', '-content'),\n            h('div', '-sider').child(\n              h('form', '').children(\n                h('fieldset', '').children(\n                  h('label', '').child(`${t('print.size')}`),\n                  h('select', '').children(\n                    ...PAGER_SIZES.map((it, index) => h('option', '').attr('value', index).child(`${it[0]} ( ${it[1]}''x${it[2]}'' )`)),\n                  ).on('change', pagerSizeChange.bind(this)),\n                ),\n                h('fieldset', '').children(\n                  h('label', '').child(`${t('print.orientation')}`),\n                  h('select', '').children(\n                    ...PAGER_ORIENTATIONS.map((it, index) => h('option', '').attr('value', index).child(`${t('print.orientations')[index]}`)),\n                  ).on('change', pagerOrientationChange.bind(this)),\n                ),\n              ),\n            ),\n          ),\n      ).hide();\n  }\n\n  resetData(data) {\n    this.data = data;\n  }\n\n  preview() {\n    const { data, paper } = this;\n    const { width, height, padding } = paper;\n    const iwidth = width - padding * 2;\n    const iheight = height - padding * 2;\n    const cr = data.contentRange();\n    const pages = parseInt(cr.h / iheight, 10) + 1;\n    const scale = iwidth / cr.w;\n    let left = padding;\n    const top = padding;\n    if (scale > 1) {\n      left += (iwidth - cr.w) / 2;\n    }\n    let ri = 0;\n    let yoffset = 0;\n    this.contentEl.html('');\n    this.canvases = [];\n    const mViewRange = {\n      sri: 0,\n      sci: 0,\n      eri: 0,\n      eci: 0,\n    };\n    for (let i = 0; i < pages; i += 1) {\n      let th = 0;\n      let yo = 0;\n      const wrap = h('div', `${cssPrefix}-canvas-card`);\n      const canvas = h('canvas', `${cssPrefix}-canvas`);\n      this.canvases.push(canvas.el);\n      const draw = new Draw(canvas.el, width, height);\n      // cell-content\n      draw.save();\n      draw.translate(left, top);\n      if (scale < 1) draw.scale(scale, scale);\n      // console.log('ri:', ri, cr.eri, yoffset);\n      for (; ri <= cr.eri; ri += 1) {\n        const rh = data.rows.getHeight(ri);\n        th += rh;\n        if (th < iheight) {\n          for (let ci = 0; ci <= cr.eci; ci += 1) {\n            renderCell(draw, data, ri, ci, yoffset);\n            mViewRange.eci = ci;\n          }\n        } else {\n          yo = -(th - rh);\n          break;\n        }\n      }\n      mViewRange.eri = ri;\n      draw.restore();\n      // merge-cell\n      draw.save();\n      draw.translate(left, top);\n      if (scale < 1) draw.scale(scale, scale);\n      const yof = yoffset;\n      data.eachMergesInView(mViewRange, ({ sri, sci }) => {\n        renderCell(draw, data, sri, sci, yof);\n      });\n      draw.restore();\n\n      mViewRange.sri = mViewRange.eri;\n      mViewRange.sci = mViewRange.eci;\n      yoffset += yo;\n      this.contentEl.child(h('div', `${cssPrefix}-canvas-card-wraper`).child(wrap.child(canvas)));\n    }\n    this.el.show();\n  }\n\n  toPrint() {\n    this.el.hide();\n    const { paper } = this;\n    const iframe = h('iframe', '').hide();\n    const { el } = iframe;\n    window.document.body.appendChild(el);\n    const { contentWindow } = el;\n    const idoc = contentWindow.document;\n    const style = document.createElement('style');\n    style.innerHTML = `\n      @page { size: ${paper.width}px ${paper.height}px; };\n      canvas {\n        page-break-before: auto;        \n        page-break-after: always;\n        image-rendering: pixelated;\n      };\n    `;\n    idoc.head.appendChild(style);\n    this.canvases.forEach((it) => {\n      const cn = it.cloneNode(false);\n      const ctx = cn.getContext('2d');\n      // ctx.imageSmoothingEnabled = true;\n      ctx.drawImage(it, 0, 0);\n      idoc.body.appendChild(cn);\n    });\n    contentWindow.print();\n  }\n}\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport { tf } from '../locale/locale';\n\nconst menuItems = [\n  { key: 'copy', title: tf('contextmenu.copy'), label: 'Ctrl+C' },\n  { key: 'cut', title: tf('contextmenu.cut'), label: 'Ctrl+X' },\n  { key: 'paste', title: tf('contextmenu.paste'), label: 'Ctrl+V' },\n  { key: 'paste-value', title: tf('contextmenu.pasteValue'), label: 'Ctrl+Shift+V' },\n  { key: 'paste-format', title: tf('contextmenu.pasteFormat'), label: 'Ctrl+Alt+V' },\n  { key: 'divider' },\n  { key: 'insert-row', title: tf('contextmenu.insertRow') },\n  { key: 'insert-column', title: tf('contextmenu.insertColumn') },\n  { key: 'divider' },\n  { key: 'delete-row', title: tf('contextmenu.deleteRow') },\n  { key: 'delete-column', title: tf('contextmenu.deleteColumn') },\n  { key: 'delete-cell-text', title: tf('contextmenu.deleteCellText') },\n  { key: 'hide', title: tf('contextmenu.hide') },\n  { key: 'divider' },\n  { key: 'validation', title: tf('contextmenu.validation') },\n  { key: 'divider' },\n  { key: 'cell-printable', title: tf('contextmenu.cellprintable') },\n  { key: 'cell-non-printable', title: tf('contextmenu.cellnonprintable') },\n  { key: 'divider' },\n  { key: 'cell-editable', title: tf('contextmenu.celleditable') },\n  { key: 'cell-non-editable', title: tf('contextmenu.cellnoneditable') },\n];\n\nfunction buildMenuItem(item) {\n  if (item.key === 'divider') {\n    return h('div', `${cssPrefix}-item divider`);\n  }\n  return h('div', `${cssPrefix}-item`)\n    .on('click', () => {\n      this.itemClick(item.key);\n      this.hide();\n    })\n    .children(\n      item.title(),\n      h('div', 'label').child(item.label || ''),\n    );\n}\n\nfunction buildMenu() {\n  return menuItems.map(it => buildMenuItem.call(this, it));\n}\n\nexport default class ContextMenu {\n  constructor(viewFn, isHide = false) {\n    this.menuItems = buildMenu.call(this);\n    this.el = h('div', `${cssPrefix}-contextmenu`)\n      .children(...this.menuItems)\n      .hide();\n    this.viewFn = viewFn;\n    this.itemClick = () => {};\n    this.isHide = isHide;\n    this.setMode('range');\n  }\n\n  // row-col: the whole rows or the whole cols\n  // range: select range\n  setMode(mode) {\n    const hideEl = this.menuItems[12];\n    if (mode === 'row-col') {\n      hideEl.show();\n    } else {\n      hideEl.hide();\n    }\n  }\n\n  hide() {\n    const { el } = this;\n    el.hide();\n    unbindClickoutside(el);\n  }\n\n  setPosition(x, y) {\n    if (this.isHide) return;\n    const { el } = this;\n    const { width } = el.show().offset();\n    const view = this.viewFn();\n    const vhf = view.height / 2;\n    let left = x;\n    if (view.width - x <= width) {\n      left -= width;\n    }\n    el.css('left', `${left}px`);\n    if (y > vhf) {\n      el.css('bottom', `${view.height - y}px`)\n        .css('max-height', `${y}px`)\n        .css('top', 'auto');\n    } else {\n      el.css('top', `${y}px`)\n        .css('max-height', `${view.height - y}px`)\n        .css('bottom', 'auto');\n    }\n    bindClickoutside(el);\n  }\n}\n","import { cssPrefix } from '../../config';\nimport tooltip from '../tooltip';\nimport { h } from '../element';\nimport { t } from '../../locale/locale';\n\nexport default class Item {\n  // tooltip\n  // tag: the subclass type\n  // shortcut: shortcut key\n  constructor(tag, shortcut, value) {\n    this.tip = '';\n    if (tag) this.tip = t(`toolbar.${tag.replace(/-[a-z]/g, c => c[1].toUpperCase())}`);\n    if (shortcut) this.tip += ` (${shortcut})`;\n    this.tag = tag;\n    this.shortcut = shortcut;\n    this.value = value;\n    this.el = this.element();\n    this.change = () => {};\n  }\n\n  element() {\n    const { tip } = this;\n    return h('div', `${cssPrefix}-toolbar-btn`)\n      .on('mouseenter', (evt) => {\n        if (this.tip) tooltip(this.tip, evt.target);\n      })\n      .attr('data-tooltip', tip);\n  }\n\n  setState() {}\n}\n","/* global document */\nimport { h } from './element';\nimport { bind } from './event';\nimport { cssPrefix } from '../config';\n\nexport default function tooltip(html, target) {\n  if (target.classList.contains('active')) {\n    return;\n  }\n  const {\n    left, top, width, height,\n  } = target.getBoundingClientRect();\n  const el = h('div', `${cssPrefix}-tooltip`).html(html).show();\n  document.body.appendChild(el.el);\n  const elBox = el.box();\n  // console.log('elBox:', elBox);\n  el.css('left', `${left + (width / 2) - (elBox.width / 2)}px`)\n    .css('top', `${top + height + 2}px`);\n\n  bind(target, 'mouseleave', () => {\n    if (document.body.contains(el.el)) {\n      document.body.removeChild(el.el);\n    }\n  });\n\n  bind(target, 'click', () => {\n    if (document.body.contains(el.el)) {\n      document.body.removeChild(el.el);\n    }\n  });\n}\n","import Item from './item';\n\nexport default class DropdownItem extends Item {\n  dropdown() {}\n\n  getValue(v) {\n    return v;\n  }\n\n  element() {\n    const { tag } = this;\n    this.dd = this.dropdown();\n    this.dd.change = it => this.change(tag, this.getValue(it));\n    return super.element().child(\n      this.dd,\n    );\n  }\n\n  setState(v) {\n    if (v) {\n      this.value = v;\n      this.dd.setTitle(v);\n    }\n  }\n}\n","import { Element, h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\n\nexport default class Dropdown extends Element {\n  constructor(title, width, showArrow, placement, ...children) {\n    super('div', `${cssPrefix}-dropdown ${placement}`);\n    this.title = title;\n    this.change = () => {};\n    this.headerClick = () => {};\n    if (typeof title === 'string') {\n      this.title = h('div', `${cssPrefix}-dropdown-title`).child(title);\n    } else if (showArrow) {\n      this.title.addClass('arrow-left');\n    }\n    this.contentEl = h('div', `${cssPrefix}-dropdown-content`)\n      .css('width', width)\n      .hide();\n\n    this.setContentChildren(...children);\n\n    this.headerEl = h('div', `${cssPrefix}-dropdown-header`);\n    this.headerEl.on('click', () => {\n      if (this.contentEl.css('display') !== 'block') {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }).children(\n      this.title,\n      showArrow ? h('div', `${cssPrefix}-icon arrow-right`).child(\n        h('div', `${cssPrefix}-icon-img arrow-down`),\n      ) : '',\n    );\n    this.children(this.headerEl, this.contentEl);\n  }\n\n  setContentChildren(...children) {\n    this.contentEl.html('');\n    if (children.length > 0) {\n      this.contentEl.children(...children);\n    }\n  }\n\n  setTitle(title) {\n    this.title.html(title);\n    this.hide();\n  }\n\n  show() {\n    const { contentEl } = this;\n    contentEl.show();\n    this.parent().active();\n    bindClickoutside(this.parent(), () => {\n      this.hide();\n    });\n  }\n\n  hide() {\n    this.parent().active(false);\n    this.contentEl.hide();\n    unbindClickoutside(this.parent());\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nfunction buildItemWithIcon(iconName) {\n  return h('div', `${cssPrefix}-item`).child(new Icon(iconName));\n}\n\nexport default class DropdownAlign extends Dropdown {\n  constructor(aligns, align) {\n    const icon = new Icon(`align-${align}`);\n    const naligns = aligns.map(it => buildItemWithIcon(`align-${it}`)\n      .on('click', () => {\n        this.setTitle(it);\n        this.change(it);\n      }));\n    super(icon, 'auto', true, 'bottom-left', ...naligns);\n  }\n\n  setTitle(align) {\n    this.title.setName(`align-${align}`);\n    this.hide();\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownAlign from '../dropdown_align';\n\nexport default class Align extends DropdownItem {\n  constructor(value) {\n    super('align', '', value);\n  }\n\n  dropdown() {\n    const { value } = this;\n    return new DropdownAlign(['left', 'center', 'right'], value);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownAlign from '../dropdown_align';\n\nexport default class Valign extends DropdownItem {\n  constructor(value) {\n    super('valign', '', value);\n  }\n\n  dropdown() {\n    const { value } = this;\n    return new DropdownAlign(['top', 'middle', 'bottom'], value);\n  }\n}\n","import Item from './item';\nimport Icon from '../icon';\n\nexport default class ToggleItem extends Item {\n  element() {\n    const { tag } = this;\n    return super.element()\n      .child(new Icon(tag))\n      .on('click', () => this.click());\n  }\n\n  click() {\n    this.change(this.tag, this.toggle());\n  }\n\n  setState(active) {\n    this.el.active(active);\n  }\n\n  toggle() {\n    return this.el.toggle();\n  }\n\n  active() {\n    return this.el.hasClass('active');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Autofilter extends ToggleItem {\n  constructor() {\n    super('autofilter');\n  }\n\n  setState() {}\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Bold extends ToggleItem {\n  constructor() {\n    super('font-bold', 'Ctrl+B');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Italic extends ToggleItem {\n  constructor() {\n    super('font-italic', 'Ctrl+I');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Strike extends ToggleItem {\n  constructor() {\n    super('strike', 'Ctrl+U');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Underline extends ToggleItem {\n  constructor() {\n    super('underline', 'Ctrl+U');\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nconst themeColorPlaceHolders = ['#ffffff', '#000100', '#e7e5e6', '#445569', '#5b9cd6', '#ed7d31', '#a5a5a5', '#ffc001', '#4371c6', '#71ae47'];\n\nconst themeColors = [\n  ['#f2f2f2', '#7f7f7f', '#d0cecf', '#d5dce4', '#deeaf6', '#fce5d5', '#ededed', '#fff2cd', '#d9e2f3', '#e3efd9'],\n  ['#d8d8d8', '#595959', '#afabac', '#adb8ca', '#bdd7ee', '#f7ccac', '#dbdbdb', '#ffe59a', '#b3c6e7', '#c5e0b3'],\n  ['#bfbfbf', '#3f3f3f', '#756f6f', '#8596b0', '#9cc2e6', '#f4b184', '#c9c9c9', '#fed964', '#8eaada', '#a7d08c'],\n  ['#a5a5a5', '#262626', '#3a3839', '#333f4f', '#2e75b5', '#c45a10', '#7b7b7b', '#bf8e01', '#2f5596', '#538136'],\n  ['#7f7f7f', '#0c0c0c', '#171516', '#222a35', '#1f4e7a', '#843c0a', '#525252', '#7e6000', '#203864', '#365624'],\n];\n\nconst standardColors = ['#c00000', '#fe0000', '#fdc101', '#ffff01', '#93d051', '#00b04e', '#01b0f1', '#0170c1', '#012060', '#7030a0'];\n\nfunction buildTd(bgcolor) {\n  return h('td', '').child(\n    h('div', `${cssPrefix}-color-palette-cell`)\n      .on('click.stop', () => this.change(bgcolor))\n      .css('background-color', bgcolor),\n  );\n}\n\nexport default class ColorPalette {\n  constructor() {\n    this.el = h('div', `${cssPrefix}-color-palette`);\n    this.change = () => {};\n    const table = h('table', '').children(\n      h('tbody', '').children(\n        h('tr', `${cssPrefix}-theme-color-placeholders`).children(\n          ...themeColorPlaceHolders.map(color => buildTd.call(this, color)),\n        ),\n        ...themeColors.map(it => h('tr', `${cssPrefix}-theme-colors`).children(\n          ...it.map(color => buildTd.call(this, color)),\n        )),\n        h('tr', `${cssPrefix}-standard-colors`).children(\n          ...standardColors.map(color => buildTd.call(this, color)),\n        ),\n      ),\n    );\n    this.el.child(table);\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport ColorPalette from './color_palette';\n\nexport default class DropdownColor extends Dropdown {\n  constructor(iconName, color) {\n    const icon = new Icon(iconName)\n      .css('height', '16px')\n      .css('border-bottom', `3px solid ${color}`);\n    const colorPalette = new ColorPalette();\n    colorPalette.change = (v) => {\n      this.setTitle(v);\n      this.change(v);\n    };\n    super(icon, 'auto', false, 'bottom-left', colorPalette.el);\n  }\n\n  setTitle(color) {\n    this.title.css('border-color', color);\n    this.hide();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nconst lineTypes = [\n  ['thin', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['medium', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"2\" style=\"user-select: none;\"><line x1=\"0\" y1=\"1.0\" x2=\"50\" y2=\"1.0\" stroke-width=\"2\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['thick', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"3\" style=\"user-select: none;\"><line x1=\"0\" y1=\"1.5\" x2=\"50\" y2=\"1.5\" stroke-width=\"3\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n  ['dashed', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" stroke-dasharray=\"2\" style=\"user-select: none;\"></line></svg>'],\n  ['dotted', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" stroke-dasharray=\"1\" style=\"user-select: none;\"></line></svg>'],\n  // ['double', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"3\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line><line x1=\"0\" y1=\"2.5\" x2=\"50\" y2=\"2.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n];\n\nexport default class DropdownLineType extends Dropdown {\n  constructor(type) {\n    const icon = new Icon('line-type');\n    let beforei = 0;\n    const lineTypeEls = lineTypes.map((it, iti) => h('div', `${cssPrefix}-item state ${type === it[0] ? 'checked' : ''}`)\n      .on('click', () => {\n        lineTypeEls[beforei].toggle('checked');\n        lineTypeEls[iti].toggle('checked');\n        beforei = iti;\n        this.hide();\n        this.change(it);\n      })\n      .child(\n        h('div', `${cssPrefix}-line-type`).html(it[1]),\n      ));\n\n    super(icon, 'auto', false, 'bottom-left', ...lineTypeEls);\n  }\n}\n","import { h } from './element';\nimport Icon from './icon';\nimport DropdownColor from './dropdown_color';\nimport DropdownLineType from './dropdown_linetype';\nimport { cssPrefix } from '../config';\n\nfunction buildTable(...trs) {\n  return h('table', '').child(\n    h('tbody', '').children(...trs),\n  );\n}\n\nfunction buildTd(iconName) {\n  return h('td', '').child(\n    h('div', `${cssPrefix}-border-palette-cell`).child(\n      new Icon(`border-${iconName}`),\n    ).on('click', () => {\n      this.mode = iconName;\n      const { mode, style, color } = this;\n      this.change({ mode, style, color });\n    }),\n  );\n}\n\nexport default class BorderPalette {\n  constructor() {\n    this.color = '#000';\n    this.style = 'thin';\n    this.mode = 'all';\n    this.change = () => {};\n    this.ddColor = new DropdownColor('line-color', this.color);\n    this.ddColor.change = (color) => {\n      this.color = color;\n    };\n    this.ddType = new DropdownLineType(this.style);\n    this.ddType.change = ([s]) => {\n      this.style = s;\n    };\n    this.el = h('div', `${cssPrefix}-border-palette`);\n    const table = buildTable(\n      h('tr', '').children(\n        h('td', `${cssPrefix}-border-palette-left`).child(\n          buildTable(\n            h('tr', '').children(\n              ...['all', 'inside', 'horizontal', 'vertical', 'outside'].map(it => buildTd.call(this, it)),\n            ),\n            h('tr', '').children(\n              ...['left', 'top', 'right', 'bottom', 'none'].map(it => buildTd.call(this, it)),\n            ),\n          ),\n        ),\n        h('td', `${cssPrefix}-border-palette-right`).children(\n          h('div', `${cssPrefix}-toolbar-btn`).child(this.ddColor.el),\n          h('div', `${cssPrefix}-toolbar-btn`).child(this.ddType.el),\n        ),\n      ),\n    );\n    this.el.child(table);\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport BorderPalette from './border_palette';\n\nexport default class DropdownBorder extends Dropdown {\n  constructor() {\n    const icon = new Icon('border-all');\n    const borderPalette = new BorderPalette();\n    borderPalette.change = (v) => {\n      this.change(v);\n      this.hide();\n    };\n    super(icon, 'auto', false, 'bottom-left', borderPalette.el);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownBorder from '../dropdown_border';\n\nexport default class Border extends DropdownItem {\n  constructor() {\n    super('border');\n  }\n\n  dropdown() {\n    return new DropdownBorder();\n  }\n}\n","import Item from './item';\nimport Icon from '../icon';\n\nexport default class IconItem extends Item {\n  element() {\n    return super.element()\n      .child(new Icon(this.tag))\n      .on('click', () => this.change(this.tag));\n  }\n\n  setState(disabled) {\n    this.el.disabled(disabled);\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Clearformat extends IconItem {\n  constructor() {\n    super('clearformat');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Paintformat extends ToggleItem {\n  constructor() {\n    super('paintformat');\n  }\n\n  setState() {}\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownColor from '../dropdown_color';\n\nexport default class TextColor extends DropdownItem {\n  constructor(color) {\n    super('color', undefined, color);\n  }\n\n  dropdown() {\n    const { tag, value } = this;\n    return new DropdownColor(tag, value);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownColor from '../dropdown_color';\n\nexport default class FillColor extends DropdownItem {\n  constructor(color) {\n    super('bgcolor', undefined, color);\n  }\n\n  dropdown() {\n    const { tag, value } = this;\n    return new DropdownColor(tag, value);\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { fontSizes } from '../core/font';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFontSize extends Dropdown {\n  constructor() {\n    const nfontSizes = fontSizes.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.setTitle(`${it.pt}`);\n        this.change(it);\n      })\n      .child(`${it.pt}`));\n    super('10', '60px', true, 'bottom-left', ...nfontSizes);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFontsize from '../dropdown_fontsize';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('font-size');\n  }\n\n  getValue(it) {\n    return it.pt;\n  }\n\n  dropdown() {\n    return new DropdownFontsize();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { baseFonts } from '../core/font';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFont extends Dropdown {\n  constructor() {\n    const nfonts = baseFonts.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.setTitle(it.title);\n        this.change(it);\n      })\n      .child(it.title));\n    super(baseFonts[0].title, '160px', true, 'bottom-left', ...nfonts);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFont from '../dropdown_font';\n\nexport default class Font extends DropdownItem {\n  constructor() {\n    super('font-name');\n  }\n\n  getValue(it) {\n    return it.key;\n  }\n\n  dropdown() {\n    return new DropdownFont();\n  }\n}\n","import Dropdown from './dropdown';\nimport { h } from './element';\nimport { baseFormats } from '../core/format';\nimport { cssPrefix } from '../config';\n\nexport default class DropdownFormat extends Dropdown {\n  constructor() {\n    let nformats = baseFormats.slice(0);\n    nformats.splice(2, 0, { key: 'divider' });\n    nformats.splice(8, 0, { key: 'divider' });\n    nformats = nformats.map((it) => {\n      const item = h('div', `${cssPrefix}-item`);\n      if (it.key === 'divider') {\n        item.addClass('divider');\n      } else {\n        item.child(it.title())\n          .on('click', () => {\n            this.setTitle(it.title());\n            this.change(it);\n          });\n        if (it.label) item.child(h('div', 'label').html(it.label));\n      }\n      return item;\n    });\n    super('Normal', '220px', true, 'bottom-left', ...nformats);\n  }\n\n  setTitle(key) {\n    for (let i = 0; i < baseFormats.length; i += 1) {\n      if (baseFormats[i].key === key) {\n        this.title.html(baseFormats[i].title());\n      }\n    }\n    this.hide();\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFormat from '../dropdown_format';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('format');\n  }\n\n  getValue(it) {\n    return it.key;\n  }\n\n  dropdown() {\n    return new DropdownFormat();\n  }\n}\n","import Dropdown from './dropdown';\nimport Icon from './icon';\nimport { h } from './element';\nimport { cssPrefix } from '../config';\n\nimport { SUPPORTED_FORMULAS } from 'hot-formula-parser';\n\nexport default class DropdownFormula extends Dropdown {\n  constructor() {\n    const nformulas = SUPPORTED_FORMULAS.map(it => h('div', `${cssPrefix}-item`)\n      .on('click', () => {\n        this.hide();\n        this.change(it);\n      })\n      .child(it));\n    super(new Icon('formula'), '180px', true, 'bottom-left limit-height', ...nformulas);\n  }\n}\n","import DropdownItem from './dropdown_item';\nimport DropdownFormula from '../dropdown_formula';\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super('formula');\n  }\n\n  getValue(it) {\n    return it;\n  }\n\n  dropdown() {\n    return new DropdownFormula();\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Freeze extends ToggleItem {\n  constructor() {\n    super('freeze');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Merge extends ToggleItem {\n  constructor() {\n    super('merge');\n  }\n\n  setState(active, disabled) {\n    this.el.active(active).disabled(disabled);\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Redo extends IconItem {\n  constructor() {\n    super('redo', 'Ctrl+Y');\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Undo extends IconItem {\n  constructor() {\n    super('undo', 'Ctrl+Z');\n  }\n}\n","import IconItem from './icon_item';\n\nexport default class Print extends IconItem {\n  constructor() {\n    super('print', 'Ctrl+P');\n  }\n}\n","import ToggleItem from './toggle_item';\n\nexport default class Textwrap extends ToggleItem {\n  constructor() {\n    super('textwrap');\n  }\n}\n","import Dropdown from '../dropdown';\nimport DropdownItem from './dropdown_item';\n\nimport { cssPrefix } from '../../config';\nimport { h } from '../element';\nimport Icon from '../icon';\n\nclass DropdownMore extends Dropdown {\n  constructor() {\n    const icon = new Icon('ellipsis');\n    const moreBtns = h('div', `${cssPrefix}-toolbar-more`);\n    super(icon, 'auto', false, 'bottom-right', moreBtns);\n    this.moreBtns = moreBtns;\n    this.contentEl.css('max-width', '420px');\n  }\n}\n\nexport default class More extends DropdownItem {\n  constructor() {\n    super('more');\n    this.el.hide();\n  }\n\n  dropdown() {\n    return new DropdownMore();\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n}\n","/* global window */\n\nimport Align from './align';\nimport Valign from './valign';\nimport Autofilter from './autofilter';\nimport Bold from './bold';\nimport Italic from './italic';\nimport Strike from './strike';\nimport Underline from './underline';\nimport Border from './border';\nimport Clearformat from './clearformat';\nimport Paintformat from './paintformat';\nimport TextColor from './text_color';\nimport FillColor from './fill_color';\nimport FontSize from './font_size';\nimport Font from './font';\nimport Format from './format';\nimport Formula from './formula';\nimport Freeze from './freeze';\nimport Merge from './merge';\nimport Redo from './redo';\nimport Undo from './undo';\nimport Print from './print';\nimport Textwrap from './textwrap';\nimport More from './more';\nimport Item from './item';\n\nimport { h } from '../element';\nimport { cssPrefix } from '../../config';\nimport { bind } from '../event';\n\nfunction buildDivider() {\n  return h('div', `${cssPrefix}-toolbar-divider`);\n}\n\nfunction initBtns2() {\n  this.btns2 = [];\n  this.items.forEach((it) => {\n    if (Array.isArray(it)) {\n      it.forEach(({ el }) => {\n        const rect = el.box();\n        const { marginLeft, marginRight } = el.computedStyle();\n        this.btns2.push([el, rect.width + parseInt(marginLeft, 10) + parseInt(marginRight, 10)]);\n      });\n    } else {\n      const rect = it.box();\n      const { marginLeft, marginRight } = it.computedStyle();\n      this.btns2.push([it, rect.width + parseInt(marginLeft, 10) + parseInt(marginRight, 10)]);\n    }\n  });\n}\n\nfunction moreResize() {\n  const {\n    el, btns, moreEl, btns2,\n  } = this;\n  const { moreBtns, contentEl } = moreEl.dd;\n  el.css('width', `${this.widthFn()}px`);\n  const elBox = el.box();\n\n  let sumWidth = 160;\n  let sumWidth2 = 12;\n  const list1 = [];\n  const list2 = [];\n  btns2.forEach(([it, w], index) => {\n    sumWidth += w;\n    if (index === btns2.length - 1 || sumWidth < elBox.width) {\n      list1.push(it);\n    } else {\n      sumWidth2 += w;\n      list2.push(it);\n    }\n  });\n  btns.html('').children(...list1);\n  moreBtns.html('').children(...list2);\n  contentEl.css('width', `${sumWidth2}px`);\n  if (list2.length > 0) {\n    moreEl.show();\n  } else {\n    moreEl.hide();\n  }\n}\n\nfunction genBtn(it) {\n  const btn = new Item();\n  btn.el.on('click', () => {\n    if (it.onClick) it.onClick(this.data.getData(), this.data);\n  });\n  btn.tip = it.tip || '';\n\n  let { el } = it;\n\n  if (it.icon) {\n    el = h('img').attr('src', it.icon);\n  }\n\n  if (el) {\n    const icon = h('div', `${cssPrefix}-icon`);\n    icon.child(el);\n    btn.el.child(icon);\n  }\n\n  return btn;\n}\n\nexport default class Toolbar {\n  constructor(data, widthFn, isHide = false) {\n    this.data = data;\n    this.change = () => {};\n    this.widthFn = widthFn;\n    this.isHide = isHide;\n    const style = data.defaultStyle();\n    this.items = [\n      [\n        this.undoEl = new Undo(),\n        this.redoEl = new Redo(),\n        new Print(),\n        this.paintformatEl = new Paintformat(),\n        this.clearformatEl = new Clearformat(),\n      ],\n      buildDivider(),\n      [\n        this.formatEl = new Format(),\n      ],\n      buildDivider(),\n      [\n        this.fontEl = new Font(),\n        this.fontSizeEl = new FontSize(),\n      ],\n      buildDivider(),\n      [\n        this.boldEl = new Bold(),\n        this.italicEl = new Italic(),\n        this.underlineEl = new Underline(),\n        this.strikeEl = new Strike(),\n        this.textColorEl = new TextColor(style.color),\n      ],\n      buildDivider(),\n      [\n        this.fillColorEl = new FillColor(style.bgcolor),\n        this.borderEl = new Border(),\n        this.mergeEl = new Merge(),\n      ],\n      buildDivider(),\n      [\n        this.alignEl = new Align(style.align),\n        this.valignEl = new Valign(style.valign),\n        this.textwrapEl = new Textwrap(),\n      ],\n      buildDivider(),\n      [\n        this.freezeEl = new Freeze(),\n        this.autofilterEl = new Autofilter(),\n        this.formulaEl = new Formula(),\n      ],\n    ];\n\n    const { extendToolbar = {} } = data.settings;\n\n    if (extendToolbar.left && extendToolbar.left.length > 0) {\n      this.items.unshift(buildDivider());\n      const btns = extendToolbar.left.map(genBtn.bind(this));\n\n      this.items.unshift(btns);\n    }\n    if (extendToolbar.right && extendToolbar.right.length > 0) {\n      this.items.push(buildDivider());\n      const btns = extendToolbar.right.map(genBtn.bind(this));\n      this.items.push(btns);\n    }\n\n    this.items.push([this.moreEl = new More()]);\n\n    this.el = h('div', `${cssPrefix}-toolbar`);\n    this.btns = h('div', `${cssPrefix}-toolbar-btns`);\n\n    this.items.forEach((it) => {\n      if (Array.isArray(it)) {\n        it.forEach((i) => {\n          this.btns.child(i.el);\n          i.change = (...args) => {\n            this.change(...args);\n          };\n        });\n      } else {\n        this.btns.child(it.el);\n      }\n    });\n\n    this.el.child(this.btns);\n    if (isHide) {\n      this.el.hide();\n    } else {\n      this.reset();\n      setTimeout(() => {\n        initBtns2.call(this);\n        moreResize.call(this);\n      }, 0);\n      bind(window, 'resize', () => {\n        moreResize.call(this);\n      });\n    }\n  }\n\n  paintformatActive() {\n    return this.paintformatEl.active();\n  }\n\n  paintformatToggle() {\n    this.paintformatEl.toggle();\n  }\n\n  trigger(type) {\n    this[`${type}El`].click();\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.reset();\n  }\n\n  reset() {\n    if (this.isHide) return;\n    const { data } = this;\n    const style = data.getSelectedCellStyle();\n    // console.log('canUndo:', data.canUndo());\n    this.undoEl.setState(!data.canUndo());\n    this.redoEl.setState(!data.canRedo());\n    this.mergeEl.setState(data.canUnmerge(), !data.selector.multiple());\n    this.autofilterEl.setState(!data.canAutofilter());\n    // this.mergeEl.disabled();\n    // console.log('selectedCell:', style, cell);\n    const { font, format } = style;\n    this.formatEl.setState(format);\n    this.fontEl.setState(font.name);\n    this.fontSizeEl.setState(font.size);\n    this.boldEl.setState(font.bold);\n    this.italicEl.setState(font.italic);\n    this.underlineEl.setState(style.underline);\n    this.strikeEl.setState(style.strike);\n    this.textColorEl.setState(style.color);\n    this.fillColorEl.setState(style.bgcolor);\n    this.alignEl.setState(style.align);\n    this.valignEl.setState(style.valign);\n    this.textwrapEl.setState(style.textwrap);\n    // console.log('freeze is Active:', data.freezeIsActive());\n    this.freezeEl.setState(data.freezeIsActive());\n  }\n}\n","/* global document */\n/* global window */\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\nimport { bind, unbind } from './event';\n\nexport default class Modal {\n  constructor(title, content, width = '600px') {\n    this.title = title;\n    this.el = h('div', `${cssPrefix}-modal`).css('width', width).children(\n      h('div', `${cssPrefix}-modal-header`).children(\n        new Icon('close').on('click.stop', () => this.hide()),\n        this.title,\n      ),\n      h('div', `${cssPrefix}-modal-content`).children(...content),\n    ).hide();\n  }\n\n  show() {\n    // dimmer\n    this.dimmer = h('div', `${cssPrefix}-dimmer active`);\n    document.body.appendChild(this.dimmer.el);\n    const { width, height } = this.el.show().box();\n    const { clientHeight, clientWidth } = document.documentElement;\n    this.el.offset({\n      left: (clientWidth - width) / 2,\n      top: (clientHeight - height) / 3,\n    });\n    window.xkeydownEsc = (evt) => {\n      if (evt.keyCode === 27) {\n        this.hide();\n      }\n    };\n    bind(window, 'keydown', window.xkeydownEsc);\n  }\n\n  hide() {\n    this.el.hide();\n    document.body.removeChild(this.dimmer.el);\n    unbind(window, 'keydown', window.xkeydownEsc);\n    delete window.xkeydownEsc;\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\n\nexport default class FormInput {\n  constructor(width, hint) {\n    this.vchange = () => {};\n    this.el = h('div', `${cssPrefix}-form-input`);\n    this.input = h('input', '').css('width', width)\n      .on('input', evt => this.vchange(evt))\n      .attr('placeholder', hint);\n    this.el.child(this.input);\n  }\n\n  focus() {\n    setTimeout(() => {\n      this.input.el.focus();\n    }, 10);\n  }\n\n  hint(v) {\n    this.input.attr('placeholder', v);\n  }\n\n  val(v) {\n    return this.input.val(v);\n  }\n}\n","import { h } from './element';\nimport Suggest from './suggest';\nimport { cssPrefix } from '../config';\n\nexport default class FormSelect {\n  constructor(key, items, width, getTitle = it => it, change = () => {}) {\n    this.key = key;\n    this.getTitle = getTitle;\n    this.vchange = () => {};\n    this.el = h('div', `${cssPrefix}-form-select`);\n    this.suggest = new Suggest(items.map(it => ({ key: it, title: this.getTitle(it) })), (it) => {\n      this.itemClick(it.key);\n      change(it.key);\n      this.vchange(it.key);\n    }, width, this.el);\n    this.el.children(\n      this.itemEl = h('div', 'input-text').html(this.getTitle(key)),\n      this.suggest.el,\n    ).on('click', () => this.show());\n  }\n\n  show() {\n    this.suggest.search('');\n  }\n\n  itemClick(it) {\n    this.key = it;\n    this.itemEl.html(this.getTitle(it));\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.key = v;\n      this.itemEl.html(this.getTitle(v));\n      return this;\n    }\n    return this.key;\n  }\n}\n","import { h } from './element';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nconst patterns = {\n  number: /(^\\d+$)|(^\\d+(\\.\\d{0,4})?$)/,\n  date: /^\\d{4}-\\d{1,2}-\\d{1,2}$/,\n};\n\n// rule: { required: false, type, pattern: // }\nexport default class FormField {\n  constructor(input, rule, label, labelWidth) {\n    this.label = '';\n    this.rule = rule;\n    if (label) {\n      this.label = h('label', 'label').css('width', `${labelWidth}px`).html(label);\n    }\n    this.tip = h('div', 'tip').child('tip').hide();\n    this.input = input;\n    this.input.vchange = () => this.validate();\n    this.el = h('div', `${cssPrefix}-form-field`)\n      .children(this.label, input.el, this.tip);\n  }\n\n  isShow() {\n    return this.el.css('display') !== 'none';\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n    return this;\n  }\n\n  val(v) {\n    return this.input.val(v);\n  }\n\n  hint(hint) {\n    this.input.hint(hint);\n  }\n\n  validate() {\n    const {\n      input, rule, tip, el,\n    } = this;\n    const v = input.val();\n    if (rule.required) {\n      if (/^\\s*$/.test(v)) {\n        tip.html(t('validation.required'));\n        el.addClass('error');\n        return false;\n      }\n    }\n    if (rule.type || rule.pattern) {\n      const pattern = rule.pattern || patterns[rule.type];\n      if (!pattern.test(v)) {\n        tip.html(t('validation.notMatch'));\n        el.addClass('error');\n        return false;\n      }\n    }\n    el.removeClass('error');\n    return true;\n  }\n}\n","import Modal from './modal';\nimport FormInput from './form_input';\nimport FormSelect from './form_select';\nimport FormField from './form_field';\nimport Button from './button';\nimport { t } from '../locale/locale';\nimport { h } from './element';\nimport { cssPrefix } from '../config';\n\nconst fieldLabelWidth = 100;\n\nexport default class ModalValidation extends Modal {\n  constructor() {\n    const mf = new FormField(\n      new FormSelect('cell',\n        ['cell'], // cell|row|column\n        '100%',\n        it => t(`dataValidation.modeType.${it}`)),\n      { required: true },\n      `${t('dataValidation.range')}:`,\n      fieldLabelWidth,\n    );\n    const rf = new FormField(\n      new FormInput('120px', 'E3 or E3:F12'),\n      { required: true, pattern: /^([A-Z]{1,2}[1-9]\\d*)(:[A-Z]{1,2}[1-9]\\d*)?$/ },\n    );\n    const cf = new FormField(\n      new FormSelect('list',\n        ['list', 'number', 'date', 'phone', 'email'],\n        '100%',\n        it => t(`dataValidation.type.${it}`),\n        it => this.criteriaSelected(it)),\n      { required: true },\n      `${t('dataValidation.criteria')}:`,\n      fieldLabelWidth,\n    );\n\n    // operator\n    const of = new FormField(\n      new FormSelect('be',\n        ['be', 'nbe', 'eq', 'neq', 'lt', 'lte', 'gt', 'gte'],\n        '160px',\n        it => t(`dataValidation.operator.${it}`),\n        it => this.criteriaOperatorSelected(it)),\n      { required: true },\n    ).hide();\n    // min, max\n    const minvf = new FormField(\n      new FormInput('70px', '10'),\n      { required: true },\n    ).hide();\n    const maxvf = new FormField(\n      new FormInput('70px', '100'),\n      { required: true, type: 'number' },\n    ).hide();\n    // value\n    const svf = new FormField(\n      new FormInput('120px', 'a,b,c'),\n      { required: true },\n    );\n    const vf = new FormField(\n      new FormInput('70px', '10'),\n      { required: true, type: 'number' },\n    ).hide();\n\n    super(t('contextmenu.validation'), [\n      h('div', `${cssPrefix}-form-fields`).children(\n        mf.el,\n        rf.el,\n      ),\n      h('div', `${cssPrefix}-form-fields`).children(\n        cf.el,\n        of.el,\n        minvf.el,\n        maxvf.el,\n        vf.el,\n        svf.el,\n      ),\n      h('div', `${cssPrefix}-buttons`).children(\n        new Button('cancel').on('click', () => this.btnClick('cancel')),\n        new Button('remove').on('click', () => this.btnClick('remove')),\n        new Button('save', 'primary').on('click', () => this.btnClick('save')),\n      ),\n    ]);\n    this.mf = mf;\n    this.rf = rf;\n    this.cf = cf;\n    this.of = of;\n    this.minvf = minvf;\n    this.maxvf = maxvf;\n    this.vf = vf;\n    this.svf = svf;\n    this.change = () => {};\n  }\n\n  showVf(it) {\n    const hint = it === 'date' ? '2018-11-12' : '10';\n    const { vf } = this;\n    vf.input.hint(hint);\n    vf.show();\n  }\n\n  criteriaSelected(it) {\n    const {\n      of, minvf, maxvf, vf, svf,\n    } = this;\n    if (it === 'date' || it === 'number') {\n      of.show();\n      minvf.rule.type = it;\n      maxvf.rule.type = it;\n      if (it === 'date') {\n        minvf.hint('2018-11-12');\n        maxvf.hint('2019-11-12');\n      } else {\n        minvf.hint('10');\n        maxvf.hint('100');\n      }\n      minvf.show();\n      maxvf.show();\n      vf.hide();\n      svf.hide();\n    } else {\n      if (it === 'list') {\n        svf.show();\n      } else {\n        svf.hide();\n      }\n      vf.hide();\n      of.hide();\n      minvf.hide();\n      maxvf.hide();\n    }\n  }\n\n  criteriaOperatorSelected(it) {\n    if (!it) return;\n    const {\n      minvf, maxvf, vf,\n    } = this;\n    if (it === 'be' || it === 'nbe') {\n      minvf.show();\n      maxvf.show();\n      vf.hide();\n    } else {\n      const type = this.cf.val();\n      vf.rule.type = type;\n      if (type === 'date') {\n        vf.hint('2018-11-12');\n      } else {\n        vf.hint('10');\n      }\n      vf.show();\n      minvf.hide();\n      maxvf.hide();\n    }\n  }\n\n  btnClick(action) {\n    if (action === 'cancel') {\n      this.hide();\n    } else if (action === 'remove') {\n      this.change('remove');\n      this.hide();\n    } else if (action === 'save') {\n      // validate\n      const attrs = ['mf', 'rf', 'cf', 'of', 'svf', 'vf', 'minvf', 'maxvf'];\n      for (let i = 0; i < attrs.length; i += 1) {\n        const field = this[attrs[i]];\n        // console.log('field:', field);\n        if (field.isShow()) {\n          // console.log('it:', it);\n          if (!field.validate()) return;\n        }\n      }\n\n      const mode = this.mf.val();\n      const ref = this.rf.val();\n      const type = this.cf.val();\n      const operator = this.of.val();\n      let value = this.svf.val();\n      if (type === 'number' || type === 'date') {\n        if (operator === 'be' || operator === 'nbe') {\n          value = [this.minvf.val(), this.maxvf.val()];\n        } else {\n          value = this.vf.val();\n        }\n      }\n      // console.log(mode, ref, type, operator, value);\n      this.change('save',\n        mode,\n        ref,\n        {\n          type, operator, required: false, value,\n        });\n      this.hide();\n    }\n  }\n\n  // validation: { mode, ref, validator }\n  setValue(v) {\n    if (v) {\n      const {\n        mf, rf, cf, of, svf, vf, minvf, maxvf,\n      } = this;\n      const {\n        mode, ref, validator,\n      } = v;\n      const {\n        type, operator, value,\n      } = validator || { type: 'list' };\n      mf.val(mode || 'cell');\n      rf.val(ref);\n      cf.val(type);\n      of.val(operator);\n      if (Array.isArray(value)) {\n        minvf.val(value[0]);\n        maxvf.val(value[1]);\n      } else {\n        svf.val(value || '');\n        vf.val(value || '');\n      }\n      this.criteriaSelected(type);\n      this.criteriaOperatorSelected(operator);\n    }\n    this.show();\n  }\n}\n","import { h } from './element';\nimport Button from './button';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport { t } from '../locale/locale';\n\nfunction buildMenu(clsName) {\n  return h('div', `${cssPrefix}-item ${clsName}`);\n}\n\nfunction buildSortItem(it) {\n  return buildMenu('state').child(t(`sort.${it}`))\n    .on('click.stop', () => this.itemClick(it));\n}\n\nfunction buildFilterBody(items) {\n  const { filterbEl, filterValues } = this;\n  filterbEl.html('');\n  const itemKeys = Object.keys(items);\n  itemKeys.forEach((it, index) => {\n    const cnt = items[it];\n    const active = filterValues.includes(it) ? 'checked' : '';\n    filterbEl.child(h('div', `${cssPrefix}-item state ${active}`)\n      .on('click.stop', () => this.filterClick(index, it))\n      .children(it === '' ? t('filter.empty') : it, h('div', 'label').html(`(${cnt})`)));\n  });\n}\n\nfunction resetFilterHeader() {\n  const { filterhEl, filterValues, values } = this;\n  filterhEl.html(`${filterValues.length} / ${values.length}`);\n  filterhEl.checked(filterValues.length === values.length);\n}\n\nexport default class SortFilter {\n  constructor() {\n    this.filterbEl = h('div', `${cssPrefix}-body`);\n    this.filterhEl = h('div', `${cssPrefix}-header state`).on('click.stop', () => this.filterClick(0, 'all'));\n    this.el = h('div', `${cssPrefix}-sort-filter`).children(\n      this.sortAscEl = buildSortItem.call(this, 'asc'),\n      this.sortDescEl = buildSortItem.call(this, 'desc'),\n      buildMenu('divider'),\n      h('div', `${cssPrefix}-filter`).children(\n        this.filterhEl,\n        this.filterbEl,\n      ),\n      h('div', `${cssPrefix}-buttons`).children(\n        new Button('cancel').on('click', () => this.btnClick('cancel')),\n        new Button('ok', 'primary').on('click', () => this.btnClick('ok')),\n      ),\n    ).hide();\n    // this.setFilters(['test1', 'test2', 'text3']);\n    this.ci = null;\n    this.sortDesc = null;\n    this.values = null;\n    this.filterValues = [];\n  }\n\n  btnClick(it) {\n    if (it === 'ok') {\n      const { ci, sort, filterValues } = this;\n      if (this.ok) {\n        this.ok(ci, sort, 'in', filterValues);\n      }\n    }\n    this.hide();\n  }\n\n  itemClick(it) {\n    // console.log('it:', it);\n    this.sort = it;\n    const { sortAscEl, sortDescEl } = this;\n    sortAscEl.checked(it === 'asc');\n    sortDescEl.checked(it === 'desc');\n  }\n\n  filterClick(index, it) {\n    // console.log('index:', index, it);\n    const { filterbEl, filterValues, values } = this;\n    const children = filterbEl.children();\n    if (it === 'all') {\n      if (children.length === filterValues.length) {\n        this.filterValues = [];\n        children.forEach(i => h(i).checked(false));\n      } else {\n        this.filterValues = Array.from(values);\n        children.forEach(i => h(i).checked(true));\n      }\n    } else {\n      const checked = h(children[index]).toggle('checked');\n      if (checked) {\n        filterValues.push(it);\n      } else {\n        filterValues.splice(filterValues.findIndex(i => i === it), 1);\n      }\n    }\n    resetFilterHeader.call(this);\n  }\n\n  // v: autoFilter\n  // items: {value: cnt}\n  // sort { ci, order }\n  set(ci, items, filter, sort) {\n    this.ci = ci;\n    const { sortAscEl, sortDescEl } = this;\n    if (sort !== null) {\n      this.sort = sort.order;\n      sortAscEl.checked(sort.asc());\n      sortDescEl.checked(sort.desc());\n    } else {\n      this.sortDesc = null;\n      sortAscEl.checked(false);\n      sortDescEl.checked(false);\n    }\n    // this.setFilters(items, filter);\n    this.values = Object.keys(items);\n    this.filterValues = filter ? Array.from(filter.value) : Object.keys(items);\n    buildFilterBody.call(this, items, filter);\n    resetFilterHeader.call(this);\n  }\n\n  setOffset(v) {\n    this.el.offset(v).show();\n    let tindex = 1;\n    bindClickoutside(this.el, () => {\n      if (tindex <= 0) {\n        this.hide();\n      }\n      tindex -= 1;\n    });\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n    unbindClickoutside(this.el);\n  }\n}\n","/* global document */\nimport { h } from './element';\nimport Icon from './icon';\nimport { cssPrefix } from '../config';\n\nexport function xtoast(title, content) {\n  const el = h('div', `${cssPrefix}-toast`);\n  const dimmer = h('div', `${cssPrefix}-dimmer active`);\n  const remove = () => {\n    document.body.removeChild(el.el);\n    document.body.removeChild(dimmer.el);\n  };\n\n  el.children(\n    h('div', `${cssPrefix}-toast-header`).children(\n      new Icon('close').on('click.stop', () => remove()),\n      title,\n    ),\n    h('div', `${cssPrefix}-toast-content`).html(content),\n  );\n  document.body.appendChild(el.el);\n  document.body.appendChild(dimmer.el);\n  // set offset\n  const { width, height } = el.box();\n  const { clientHeight, clientWidth } = document.documentElement;\n  el.offset({\n    left: (clientWidth - width) / 2,\n    top: (clientHeight - height) / 3,\n  });\n}\n\nexport default {};\n","/* global window */\nimport { h } from './element';\nimport {\n  bind,\n  mouseMoveUp,\n  bindTouch,\n  createEventEmitter,\n} from './event';\nimport { t } from '../locale/locale';\nimport Resizer from './resizer';\nimport Scrollbar from './scrollbar';\nimport Selector from './selector';\nimport Editor from './editor';\nimport Print from './print';\nimport ContextMenu from './contextmenu';\nimport Table from './table';\nimport Toolbar from './toolbar/index';\nimport ModalValidation from './modal_validation';\nimport SortFilter from './sort_filter';\nimport { xtoast } from './message';\nimport { cssPrefix } from '../config';\n\nimport { SUPPORTED_FORMULAS } from 'hot-formula-parser';\n\n/**\n * @desc throttle fn\n * @param func function\n * @param wait Delay in milliseconds\n */\nfunction throttle(func, wait) {\n  let timeout;\n  return (...arg) => {\n    const that = this;\n    const args = arg;\n    if (!timeout) {\n      timeout = setTimeout(() => {\n        timeout = null;\n        func.apply(that, args);\n      }, wait);\n    }\n  };\n}\n\nfunction scrollbarMove() {\n  const {\n    data, verticalScrollbar, horizontalScrollbar,\n  } = this;\n  const {\n    l, t, left, top, width, height,\n  } = data.getSelectedRect();\n  const tableOffset = this.getTableOffset();\n  // console.log(',l:', l, ', left:', left, ', tOffset.left:', tableOffset.width);\n  if (Math.abs(left) + width > tableOffset.width) {\n    horizontalScrollbar.move({ left: l + width - tableOffset.width });\n  } else {\n    const fsw = data.freezeTotalWidth();\n    if (left < fsw) {\n      horizontalScrollbar.move({ left: l - 1 - fsw });\n    }\n  }\n  // console.log('top:', top, ', height:', height, ', tof.height:', tableOffset.height);\n  if (Math.abs(top) + height > tableOffset.height) {\n    verticalScrollbar.move({ top: t + height - tableOffset.height - 1 });\n  } else {\n    const fsh = data.freezeTotalHeight();\n    if (top < fsh) {\n      verticalScrollbar.move({ top: t - 1 - fsh });\n    }\n  }\n}\n\nfunction selectorSet(multiple, ri, ci, indexesUpdated = true, moving = false) {\n  if (ri === -1 && ci === -1) return;\n  const {\n    table, selector, toolbar, data,\n    contextMenu,\n  } = this;\n  const cell = data.getCell(ri, ci);\n  if (multiple) {\n    selector.setEnd(ri, ci, moving);\n    this.trigger('cells-selected', cell, selector.range);\n  } else {\n    // trigger click event\n    selector.set(ri, ci, indexesUpdated);\n    this.trigger('cell-selected', cell, ri, ci);\n  }\n  contextMenu.setMode((ri === -1 || ci === -1) ? 'row-col' : 'range');\n  toolbar.reset();\n  table.render();\n}\n\n// multiple: boolean\n// direction: left | right | up | down | row-first | row-last | col-first | col-last\nfunction selectorMove(multiple, direction) {\n  const {\n    selector, data\n  } = this;\n  const { rows, cols } = data;\n  let [ri, ci] = selector.indexes;\n  const { eri, eci } = selector.range;\n  if (multiple) {\n    [ri, ci] = selector.moveIndexes;\n  }\n  // console.log('selector.move:', ri, ci);\n  if (direction === 'left') {\n    if (ci > 0) ci -= 1;\n  } else if (direction === 'right') {\n    if (eci !== ci) ci = eci;\n    if (ci < cols.len - 1) ci += 1;\n  } else if (direction === 'up') {\n    if (ri > 0) ri -= 1;\n  } else if (direction === 'down') {\n    if (eri !== ri) ri = eri;\n    if (ri < rows.len - 1) ri += 1;\n  } else if (direction === 'row-first') {\n    ci = 0;\n  } else if (direction === 'row-last') {\n    ci = cols.len - 1;\n  } else if (direction === 'col-first') {\n    ri = 0;\n  } else if (direction === 'col-last') {\n    ri = rows.len - 1;\n  }\n  if (multiple) {\n    selector.moveIndexes = [ri, ci];\n  }\n  selectorSet.call(this, multiple, ri, ci);\n  scrollbarMove.call(this);\n}\n\n// private methods\nfunction overlayerMousemove(evt) {\n  // console.log('x:', evt.offsetX, ', y:', evt.offsetY);\n  if (evt.buttons !== 0) return;\n  if (evt.target.className === `${cssPrefix}-resizer-hover`) return;\n  const { offsetX, offsetY } = evt;\n  const {\n    rowResizer, colResizer, tableEl, data,\n  } = this;\n  const { rows, cols } = data;\n  if (offsetX > cols.indexWidth && offsetY > rows.height) {\n    rowResizer.hide();\n    colResizer.hide();\n    return;\n  }\n  const tRect = tableEl.box();\n  const cRect = data.getCellRectByXY(evt.offsetX, evt.offsetY);\n  if (cRect.ri >= 0 && cRect.ci === -1) {\n    cRect.width = cols.indexWidth;\n    rowResizer.show(cRect, {\n      width: tRect.width,\n    });\n    if (rows.isHide(cRect.ri - 1)) {\n      rowResizer.showUnhide(cRect.ri);\n    } else {\n      rowResizer.hideUnhide();\n    }\n  } else {\n    rowResizer.hide();\n  }\n  if (cRect.ri === -1 && cRect.ci >= 0) {\n    cRect.height = rows.height;\n    colResizer.show(cRect, {\n      height: tRect.height,\n    });\n    if (cols.isHide(cRect.ci - 1)) {\n      colResizer.showUnhide(cRect.ci);\n    } else {\n      colResizer.hideUnhide();\n    }\n  } else {\n    colResizer.hide();\n  }\n}\n\n// let scrollThreshold = 15;\nfunction overlayerMousescroll(evt) {\n  // scrollThreshold -= 1;\n  // if (scrollThreshold > 0) return;\n  // scrollThreshold = 15;\n\n  const { verticalScrollbar, horizontalScrollbar, data } = this;\n  const { top } = verticalScrollbar.scroll();\n  const { left } = horizontalScrollbar.scroll();\n  // console.log('evt:::', evt.wheelDelta, evt.detail * 40);\n\n  const { rows, cols } = data;\n\n  // deltaY for vertical delta\n  const { deltaY, deltaX } = evt;\n  const loopValue = (ii, vFunc) => {\n    let i = ii;\n    let v = 0;\n    do {\n      v = vFunc(i);\n      i += 1;\n    } while (v <= 0);\n    return v;\n  };\n  // console.log('deltaX', deltaX, 'evt.detail', evt.detail);\n  // if (evt.detail) deltaY = evt.detail * 40;\n  const moveY = (vertical) => {\n    if (vertical > 0) {\n      // up\n      const ri = data.scroll.ri + 1;\n      if (ri < rows.len) {\n        const rh = loopValue(ri, i => rows.getHeight(i));\n        verticalScrollbar.move({ top: top + rh - 1 });\n      }\n    } else {\n      // down\n      const ri = data.scroll.ri - 1;\n      if (ri >= 0) {\n        const rh = loopValue(ri, i => rows.getHeight(i));\n        verticalScrollbar.move({ top: ri === 0 ? 0 : top - rh });\n      }\n    }\n  };\n\n  // deltaX for Mac horizontal scroll\n  const moveX = (horizontal) => {\n    if (horizontal > 0) {\n      // left\n      const ci = data.scroll.ci + 1;\n      if (ci < cols.len) {\n        const cw = loopValue(ci, i => cols.getWidth(i));\n        horizontalScrollbar.move({ left: left + cw - 1 });\n      }\n    } else {\n      // right\n      const ci = data.scroll.ci - 1;\n      if (ci >= 0) {\n        const cw = loopValue(ci, i => cols.getWidth(i));\n        horizontalScrollbar.move({ left: ci === 0 ? 0 : left - cw });\n      }\n    }\n  };\n  const tempY = Math.abs(deltaY);\n  const tempX = Math.abs(deltaX);\n  const temp = Math.max(tempY, tempX);\n  // console.log('event:', evt);\n  // detail for windows/mac firefox vertical scroll\n  if (/Firefox/i.test(window.navigator.userAgent)) throttle(moveY(evt.detail), 50);\n  if (temp === tempX) throttle(moveX(deltaX), 50);\n  if (temp === tempY) throttle(moveY(deltaY), 50);\n}\n\nfunction overlayerTouch(direction, distance) {\n  const { verticalScrollbar, horizontalScrollbar } = this;\n  const { top } = verticalScrollbar.scroll();\n  const { left } = horizontalScrollbar.scroll();\n\n  if (direction === 'left' || direction === 'right') {\n    horizontalScrollbar.move({ left: left - distance });\n  } else if (direction === 'up' || direction === 'down') {\n    verticalScrollbar.move({ top: top - distance });\n  }\n}\n\nfunction verticalScrollbarSet() {\n  const { data, verticalScrollbar } = this;\n  const { height } = this.getTableOffset();\n  const erth = data.exceptRowTotalHeight(0, -1);\n  // console.log('erth:', erth);\n  verticalScrollbar.set(height, data.rows.totalHeight() - erth);\n}\n\nfunction horizontalScrollbarSet() {\n  const { data, horizontalScrollbar } = this;\n  const { width } = this.getTableOffset();\n  if (data) {\n    horizontalScrollbar.set(width, data.cols.totalWidth());\n  }\n}\n\nfunction sheetFreeze() {\n  const {\n    selector, data, editor,\n  } = this;\n  const [ri, ci] = data.freeze;\n  if (ri > 0 || ci > 0) {\n    const fwidth = data.freezeTotalWidth();\n    const fheight = data.freezeTotalHeight();\n    editor.setFreezeLengths(fwidth, fheight);\n  }\n  selector.resetAreaOffset();\n}\n\nfunction sheetReset() {\n  const {\n    tableEl,\n    overlayerEl,\n    overlayerCEl,\n    table,\n    toolbar,\n    selector,\n    el,\n  } = this;\n  const tOffset = this.getTableOffset();\n  const vRect = this.getRect();\n  tableEl.attr(vRect);\n  overlayerEl.offset(vRect);\n  overlayerCEl.offset(tOffset);\n  el.css('width', `${vRect.width}px`);\n  verticalScrollbarSet.call(this);\n  horizontalScrollbarSet.call(this);\n  sheetFreeze.call(this);\n  table.render();\n  toolbar.reset();\n  selector.reset();\n}\n\nfunction clearClipboard() {\n  const { data, selector } = this;\n  data.clearClipboard();\n  selector.hideClipboard();\n}\n\nfunction copy(evt) {\n  const { data, selector } = this;\n  if (data.settings.mode === 'read') return;\n  data.copy();\n  data.copyToSystemClipboard(evt);\n  selector.showClipboard();\n}\n\nfunction cut() {\n  const { data, selector } = this;\n  if (data.settings.mode === 'read') return;\n  data.cut();\n  selector.showClipboard();\n}\n\nfunction paste(what, evt) {\n  const { data } = this;\n  if (data.settings.mode === 'read') return;\n  if (data.clipboard.isClear()) {\n    const resetSheet = () => sheetReset.call(this);\n    const eventTrigger = (rows) => {\n      this.trigger('pasted-clipboard', rows);\n    };\n    // pastFromSystemClipboard is async operation, need to tell it how to reset sheet and trigger event after it finishes\n    // pasting content from system clipboard\n    data.pasteFromSystemClipboard(resetSheet, eventTrigger);\n  } else if (data.paste(what, msg => xtoast('Tip', msg))) {\n    sheetReset.call(this);\n  } else if (evt) {\n    const cdata = evt.clipboardData.getData('text/plain');\n    this.data.pasteFromText(cdata);\n    sheetReset.call(this);\n  }\n}\n\nfunction hideRowsOrCols() {\n  this.data.hideRowsOrCols();\n  sheetReset.call(this);\n}\n\nfunction unhideRowsOrCols(type, index) {\n  this.data.unhideRowsOrCols(type, index);\n  sheetReset.call(this);\n}\n\nfunction autofilter() {\n  const { data } = this;\n  data.autofilter();\n  sheetReset.call(this);\n}\n\nfunction toolbarChangePaintformatPaste() {\n  const { toolbar } = this;\n  if (toolbar.paintformatActive()) {\n    paste.call(this, 'format');\n    clearClipboard.call(this);\n    toolbar.paintformatToggle();\n  }\n}\n\nfunction overlayerMousedown(evt) {\n  // console.log(':::::overlayer.mousedown:', evt.detail, evt.button, evt.buttons, evt.shiftKey);\n  // console.log('evt.target.className:', evt.target.className);\n  const {\n    selector, data, table, sortFilter,\n  } = this;\n  const { offsetX, offsetY } = evt;\n  const isAutofillEl = evt.target.className === `${cssPrefix}-selector-corner`;\n  const cellRect = data.getCellRectByXY(offsetX, offsetY);\n  const {\n    left, top, width, height,\n  } = cellRect;\n  let { ri, ci } = cellRect;\n  // sort or filter\n  const { autoFilter } = data;\n  if (autoFilter.includes(ri, ci)) {\n    if (left + width - 20 < offsetX && top + height - 20 < offsetY) {\n      const items = autoFilter.items(ci, (r, c) => data.rows.getCell(r, c));\n      sortFilter.hide();\n      sortFilter.set(ci, items, autoFilter.getFilter(ci), autoFilter.getSort(ci));\n      sortFilter.setOffset({ left, top: top + height + 2 });\n      return;\n    }\n  }\n\n  // console.log('ri:', ri, ', ci:', ci);\n  if (!evt.shiftKey) {\n    // console.log('selectorSetStart:::');\n    if (isAutofillEl) {\n      selector.showAutofill(ri, ci);\n    } else {\n      selectorSet.call(this, false, ri, ci);\n    }\n\n    // mouse move up\n    mouseMoveUp(window, (e) => {\n      // console.log('mouseMoveUp::::');\n      ({ ri, ci } = data.getCellRectByXY(e.offsetX, e.offsetY));\n      if (isAutofillEl) {\n        selector.showAutofill(ri, ci);\n      } else if (e.buttons === 1 && !e.shiftKey) {\n        selectorSet.call(this, true, ri, ci, true, true);\n      }\n    }, () => {\n      if (isAutofillEl && selector.arange && data.settings.mode !== 'read') {\n        if (data.autofill(selector.arange, 'all', msg => xtoast('Tip', msg))) {\n          table.render();\n        }\n      }\n      selector.hideAutofill();\n      toolbarChangePaintformatPaste.call(this);\n    });\n  }\n\n  if (!isAutofillEl && evt.buttons === 1) {\n    if (evt.shiftKey) {\n      // console.log('shiftKey::::');\n      selectorSet.call(this, true, ri, ci);\n    }\n  }\n}\n\nfunction editorSetOffset() {\n  const { editor, data } = this;\n  const sOffset = data.getSelectedRect();\n  const tOffset = this.getTableOffset();\n  let sPosition = 'top';\n  // console.log('sOffset:', sOffset, ':', tOffset);\n  if (sOffset.top > tOffset.height / 2) {\n    sPosition = 'bottom';\n  }\n  editor.setOffset(sOffset, sPosition);\n}\n\nfunction editorSet() {\n  const { editor, data } = this;\n  if (data.settings.mode === 'read') return;\n  editorSetOffset.call(this);\n  editor.setCell(data.getSelectedCell(), data.getSelectedValidator());\n  clearClipboard.call(this);\n}\n\nfunction verticalScrollbarMove(distance) {\n  const { data, table, selector } = this;\n  data.scrolly(distance, () => {\n    selector.resetBRLAreaOffset();\n    editorSetOffset.call(this);\n    table.render();\n  });\n}\n\nfunction horizontalScrollbarMove(distance) {\n  const { data, table, selector } = this;\n  data.scrollx(distance, () => {\n    selector.resetBRTAreaOffset();\n    editorSetOffset.call(this);\n    table.render();\n  });\n}\n\nfunction rowResizerFinished(cRect, distance) {\n  const { ri } = cRect;\n  const { table, selector, data } = this;\n  data.rows.setHeight(ri, distance);\n  table.render();\n  selector.resetAreaOffset();\n  verticalScrollbarSet.call(this);\n  editorSetOffset.call(this);\n}\n\nfunction colResizerFinished(cRect, distance) {\n  const { ci } = cRect;\n  const { table, selector, data } = this;\n  data.cols.setWidth(ci, distance);\n  // console.log('data:', data);\n  table.render();\n  selector.resetAreaOffset();\n  horizontalScrollbarSet.call(this);\n  editorSetOffset.call(this);\n}\n\nfunction dataSetCellText(text, state = 'finished') {\n  const { data, table } = this;\n  // const [ri, ci] = selector.indexes;\n  if (data.settings.mode === 'read') return;\n  data.setSelectedCellText(text, state);\n  const { ri, ci } = data.selector;\n  if (state === 'finished') {\n    table.render();\n  } else {\n    this.trigger('cell-edited', text, ri, ci);\n  }\n}\n\nfunction insertDeleteRowColumn(type) {\n  const { data } = this;\n  if (data.settings.mode === 'read') return;\n  if (type === 'insert-row') {\n    data.insert('row');\n  } else if (type === 'delete-row') {\n    data.delete('row');\n  } else if (type === 'insert-column') {\n    data.insert('column');\n  } else if (type === 'delete-column') {\n    data.delete('column');\n  } else if (type === 'delete-cell') {\n    data.deleteCell();\n  } else if (type === 'delete-cell-format') {\n    data.deleteCell('format');\n  } else if (type === 'delete-cell-text') {\n    data.deleteCell('text');\n  } else if (type === 'cell-printable') {\n    data.setSelectedCellAttr('printable', true);\n  } else if (type === 'cell-non-printable') {\n    data.setSelectedCellAttr('printable', false);\n  } else if (type === 'cell-editable') {\n    data.setSelectedCellAttr('editable', true);\n  } else if (type === 'cell-non-editable') {\n    data.setSelectedCellAttr('editable', false);\n  }\n  clearClipboard.call(this);\n  sheetReset.call(this);\n}\n\nfunction toolbarChange(type, value) {\n  const { data } = this;\n  if (type === 'undo') {\n    this.undo();\n  } else if (type === 'redo') {\n    this.redo();\n  } else if (type === 'print') {\n    this.print.preview();\n  } else if (type === 'paintformat') {\n    if (value === true) copy.call(this);\n    else clearClipboard.call(this);\n  } else if (type === 'clearformat') {\n    insertDeleteRowColumn.call(this, 'delete-cell-format');\n  } else if (type === 'link') {\n    // link\n  } else if (type === 'chart') {\n    // chart\n  } else if (type === 'autofilter') {\n    // filter\n    autofilter.call(this);\n  } else if (type === 'freeze') {\n    if (value) {\n      const { ri, ci } = data.selector;\n      this.freeze(ri, ci);\n    } else {\n      this.freeze(0, 0);\n    }\n  } else {\n    data.setSelectedCellAttr(type, value);\n    if (type === 'formula' && !data.selector.multiple()) {\n      editorSet.call(this);\n    }\n    sheetReset.call(this);\n  }\n}\n\nfunction sortFilterChange(ci, order, operator, value) {\n  // console.log('sort:', sortDesc, operator, value);\n  this.data.setAutoFilter(ci, order, operator, value);\n  sheetReset.call(this);\n}\n\nfunction sheetInitEvents() {\n  const {\n    selector,\n    overlayerEl,\n    rowResizer,\n    colResizer,\n    verticalScrollbar,\n    horizontalScrollbar,\n    editor,\n    contextMenu,\n    toolbar,\n    modalValidation,\n    sortFilter,\n  } = this;\n  // overlayer\n  overlayerEl\n    .on('mousemove', (evt) => {\n      overlayerMousemove.call(this, evt);\n    })\n    .on('mousedown', (evt) => {\n      // If a formula cell is being edited and a left click is made,\n      // set that formula cell to start at the selected sheet cell and set a\n      // temporary mousemove event handler that updates said formula cell to\n      // end at the sheet cell currently being hovered over.\n      if (evt.buttons === 1 && evt.detail <= 1 && editor.formulaCellSelecting()) {\n        const { offsetX, offsetY } = evt;\n        const { ri, ci } = this.data.getCellRectByXY(offsetX, offsetY);\n        editor.formulaSelectCell(ri, ci);\n\n        const that = this;\n\n        let lastCellRect = { ri: null, ci: null };\n        mouseMoveUp(window, (e) => {\n          const cellRect = that.data.getCellRectByXY(e.offsetX, e.offsetY);\n\n          const hasRangeChanged = (cellRect.ri != lastCellRect.ri) || (cellRect.ci != lastCellRect.ci);\n          const isRangeValid = (cellRect.ri >= 0) && (cellRect.ci >= 0);\n\n          if (hasRangeChanged && isRangeValid) {\n            editor.formulaSelectCellRange(cellRect.ri, cellRect.ci);\n\n            lastCellRect.ri = cellRect.ri;\n            lastCellRect.ci = cellRect.ci;\n          }\n        }, () => {});\n\n        return;\n      }\n\n      editor.clear();\n      contextMenu.hide();\n      // the left mouse button: mousedown → mouseup → click\n      // the right mouse button: mousedown → contenxtmenu → mouseup\n      if (evt.buttons === 2) {\n        if (this.data.xyInSelectedRect(evt.offsetX, evt.offsetY)) {\n          contextMenu.setPosition(evt.offsetX, evt.offsetY);\n        } else {\n          overlayerMousedown.call(this, evt);\n          contextMenu.setPosition(evt.offsetX, evt.offsetY);\n        }\n        evt.stopPropagation();\n      } else if (evt.detail === 2) {\n        editorSet.call(this);\n      } else {\n        overlayerMousedown.call(this, evt);\n      }\n    })\n    .on('mousewheel.stop', (evt) => {\n      overlayerMousescroll.call(this, evt);\n    })\n    .on('mouseout', (evt) => {\n      const { offsetX, offsetY } = evt;\n      if (offsetY <= 0) colResizer.hide();\n      if (offsetX <= 0) rowResizer.hide();\n    });\n\n  selector.inputChange = (v) => {\n    dataSetCellText.call(this, v, 'input');\n    editorSet.call(this);\n  };\n\n  // slide on mobile\n  bindTouch(overlayerEl.el, {\n    move: (direction, d) => {\n      overlayerTouch.call(this, direction, d);\n    },\n  });\n\n  // toolbar change\n  toolbar.change = (type, value) => toolbarChange.call(this, type, value);\n\n  // sort filter ok\n  sortFilter.ok = (ci, order, o, v) => sortFilterChange.call(this, ci, order, o, v);\n\n  // resizer finished callback\n  rowResizer.finishedFn = (cRect, distance) => {\n    rowResizerFinished.call(this, cRect, distance);\n  };\n  colResizer.finishedFn = (cRect, distance) => {\n    colResizerFinished.call(this, cRect, distance);\n  };\n  // resizer unhide callback\n  rowResizer.unhideFn = (index) => {\n    unhideRowsOrCols.call(this, 'row', index);\n  };\n  colResizer.unhideFn = (index) => {\n    unhideRowsOrCols.call(this, 'col', index);\n  };\n  // scrollbar move callback\n  verticalScrollbar.moveFn = (distance, evt) => {\n    verticalScrollbarMove.call(this, distance, evt);\n  };\n  horizontalScrollbar.moveFn = (distance, evt) => {\n    horizontalScrollbarMove.call(this, distance, evt);\n  };\n  // editor\n  editor.change = (state, itext) => {\n    dataSetCellText.call(this, itext, state);\n  };\n  // modal validation\n  modalValidation.change = (action, ...args) => {\n    if (action === 'save') {\n      this.data.addValidation(...args);\n    } else {\n      this.data.removeValidation();\n    }\n  };\n  // contextmenu\n  contextMenu.itemClick = (type) => {\n    // console.log('type:', type);\n    if (type === 'validation') {\n      modalValidation.setValue(this.data.getSelectedValidation());\n    } else if (type === 'copy') {\n      copy.call(this);\n    } else if (type === 'cut') {\n      cut.call(this);\n    } else if (type === 'paste') {\n      paste.call(this, 'all');\n    } else if (type === 'paste-value') {\n      paste.call(this, 'text');\n    } else if (type === 'paste-format') {\n      paste.call(this, 'format');\n    } else if (type === 'hide') {\n      hideRowsOrCols.call(this);\n    } else {\n      insertDeleteRowColumn.call(this, type);\n    }\n  };\n\n  bind(window, 'resize', () => {\n    this.reload();\n  });\n\n  bind(window, 'click', (evt) => {\n    this.focusing = overlayerEl.contains(evt.target);\n  });\n\n  bind(window, 'paste', (evt) => {\n    if (!this.focusing) return;\n    paste.call(this, 'all', evt);\n    evt.preventDefault();\n  });\n\n  bind(window, 'copy', (evt) => {\n    if (!this.focusing) return;\n    copy.call(this, evt);\n    evt.preventDefault();\n  });\n\n  // for selector\n  bind(window, 'keydown', (evt) => {\n    if (!this.focusing) return;\n    const keyCode = evt.keyCode || evt.which;\n    const {\n      key, ctrlKey, shiftKey, metaKey,\n    } = evt;\n    // console.log('keydown.evt: ', keyCode);\n    if (ctrlKey || metaKey) {\n      // const { sIndexes, eIndexes } = selector;\n      // let what = 'all';\n      // if (shiftKey) what = 'text';\n      // if (altKey) what = 'format';\n      switch (keyCode) {\n        case 90:\n          // undo: ctrl + z\n          this.undo();\n          evt.preventDefault();\n          break;\n        case 89:\n          // redo: ctrl + y\n          this.redo();\n          evt.preventDefault();\n          break;\n        case 67:\n          // ctrl + c\n          // => copy\n          // copy.call(this);\n          // evt.preventDefault();\n          break;\n        case 88:\n          // ctrl + x\n          cut.call(this);\n          evt.preventDefault();\n          break;\n        case 85:\n          // ctrl + u\n          toolbar.trigger('underline');\n          evt.preventDefault();\n          break;\n        case 86:\n          // ctrl + v\n          // => paste\n          // evt.preventDefault();\n          break;\n        case 37:\n          // ctrl + left\n          selectorMove.call(this, shiftKey, 'row-first');\n          evt.preventDefault();\n          break;\n        case 38:\n          // ctrl + up\n          selectorMove.call(this, shiftKey, 'col-first');\n          evt.preventDefault();\n          break;\n        case 39:\n          // ctrl + right\n          selectorMove.call(this, shiftKey, 'row-last');\n          evt.preventDefault();\n          break;\n        case 40:\n          // ctrl + down\n          selectorMove.call(this, shiftKey, 'col-last');\n          evt.preventDefault();\n          break;\n        case 32:\n          // ctrl + space, all cells in col\n          selectorSet.call(this, false, -1, this.data.selector.ci, false);\n          evt.preventDefault();\n          break;\n        case 66:\n          // ctrl + B\n          toolbar.trigger('bold');\n          break;\n        case 73:\n          // ctrl + I\n          toolbar.trigger('italic');\n          break;\n        default:\n          break;\n      }\n    } else {\n      // console.log('evt.keyCode:', evt.keyCode);\n      switch (keyCode) {\n        case 32:\n          if (shiftKey) {\n            // shift + space, all cells in row\n            selectorSet.call(this, false, this.data.selector.ri, -1, false);\n          }\n          break;\n        case 27: // esc\n          contextMenu.hide();\n          clearClipboard.call(this);\n          break;\n        case 37: // left\n          selectorMove.call(this, shiftKey, 'left');\n          evt.preventDefault();\n          break;\n        case 38: // up\n          selectorMove.call(this, shiftKey, 'up');\n          evt.preventDefault();\n          break;\n        case 39: // right\n          selectorMove.call(this, shiftKey, 'right');\n          evt.preventDefault();\n          break;\n        case 40: // down\n          selectorMove.call(this, shiftKey, 'down');\n          evt.preventDefault();\n          break;\n        case 9: // tab\n          editor.clear();\n          // shift + tab => move left\n          // tab => move right\n          selectorMove.call(this, false, shiftKey ? 'left' : 'right');\n          evt.preventDefault();\n          break;\n        case 13: // enter\n          editor.clear();\n          // shift + enter => move up\n          // enter => move down\n          selectorMove.call(this, false, shiftKey ? 'up' : 'down');\n          evt.preventDefault();\n          break;\n        case 8: // backspace\n          insertDeleteRowColumn.call(this, 'delete-cell-text');\n          evt.preventDefault();\n          break;\n        default:\n          break;\n      }\n\n      if (key === 'Delete') {\n        insertDeleteRowColumn.call(this, 'delete-cell-text');\n        evt.preventDefault();\n      } else if ((keyCode >= 65 && keyCode <= 90)\n        || (keyCode >= 48 && keyCode <= 57)\n        || (keyCode >= 96 && keyCode <= 105)\n        || evt.key === '='\n      ) {\n        dataSetCellText.call(this, evt.key, 'input');\n        editorSet.call(this);\n      } else if (keyCode === 113) {\n        // F2\n        editorSet.call(this);\n      }\n    }\n  });\n}\n\nexport default class Sheet {\n  constructor(targetEl, data) {\n    this.eventMap = createEventEmitter();\n    const { view, showToolbar, showContextmenu } = data.settings;\n    this.el = h('div', `${cssPrefix}-sheet`);\n    this.toolbar = new Toolbar(data, view.width, !showToolbar);\n    this.print = new Print(data);\n    targetEl.children(this.toolbar.el, this.el, this.print.el);\n    this.data = data;\n    // table\n    this.tableEl = h('canvas', `${cssPrefix}-table`);\n    // resizer\n    this.rowResizer = new Resizer(false, data.rows.height);\n    this.colResizer = new Resizer(true, data.cols.minWidth);\n    // scrollbar\n    this.verticalScrollbar = new Scrollbar(true);\n    this.horizontalScrollbar = new Scrollbar(false);\n    // editor\n    const formulaSuggestions = SUPPORTED_FORMULAS.map((formulaName) => {\n      const escapedFormulaName = formulaName.replace('.', '\\\\.');\n      return {\n        key: escapedFormulaName,\n        // Function that returns translation of the formula name if one exists,\n        // otherwise the formula name\n        title: () => t(`formula.${escapedFormulaName}`) || formulaName\n      };\n    });\n    this.editor = new Editor(\n      formulaSuggestions,\n      () => this.getTableOffset(),\n      data,\n    );\n    // data validation\n    this.modalValidation = new ModalValidation();\n    // contextMenu\n    this.contextMenu = new ContextMenu(() => this.getRect(), !showContextmenu);\n    // selector\n    this.selector = new Selector(data);\n    this.overlayerCEl = h('div', `${cssPrefix}-overlayer-content`)\n      .children(\n        this.editor.el,\n        this.selector.el,\n        this.editor.cellEl,\n      );\n    this.overlayerEl = h('div', `${cssPrefix}-overlayer`)\n      .child(this.overlayerCEl);\n    // sortFilter\n    this.sortFilter = new SortFilter();\n    // root element\n    this.el.children(\n      this.tableEl,\n      this.overlayerEl.el,\n      this.rowResizer.el,\n      this.colResizer.el,\n      this.verticalScrollbar.el,\n      this.horizontalScrollbar.el,\n      this.contextMenu.el,\n      this.modalValidation.el,\n      this.sortFilter.el,\n    );\n    // table\n    this.table = new Table(this.tableEl.el, data);\n    sheetInitEvents.call(this);\n    sheetReset.call(this);\n    // init selector [0, 0]\n    selectorSet.call(this, false, 0, 0);\n  }\n\n  on(eventName, func) {\n    this.eventMap.on(eventName, func);\n    return this;\n  }\n\n  trigger(eventName, ...args) {\n    const { eventMap } = this;\n    eventMap.fire(eventName, args);\n  }\n\n  resetData(data) {\n    // before\n    this.editor.clear();\n    // after\n    this.data = data;\n    verticalScrollbarSet.call(this);\n    horizontalScrollbarSet.call(this);\n    this.editor.resetData(data);\n    this.toolbar.resetData(data);\n    this.print.resetData(data);\n    this.selector.resetData(data);\n    this.table.resetData(data);\n  }\n\n  loadData(data) {\n    this.data.setData(data);\n    sheetReset.call(this);\n    return this;\n  }\n\n  // freeze rows or cols\n  freeze(ri, ci) {\n    const { data } = this;\n    data.setFreeze(ri, ci);\n    sheetReset.call(this);\n    return this;\n  }\n\n  undo() {\n    this.data.undo();\n    sheetReset.call(this);\n  }\n\n  redo() {\n    this.data.redo();\n    sheetReset.call(this);\n  }\n\n  reload() {\n    sheetReset.call(this);\n    return this;\n  }\n\n  getRect() {\n    const { data } = this;\n    return { width: data.viewWidth(), height: data.viewHeight() };\n  }\n\n  getTableOffset() {\n    const { rows, cols } = this.data;\n    const { width, height } = this.getRect();\n    return {\n      width: width - cols.indexWidth,\n      height: height - rows.height,\n      left: cols.indexWidth,\n      top: rows.height,\n    };\n  }\n}\n","import { h } from './element';\nimport { bindClickoutside, unbindClickoutside } from './event';\nimport { cssPrefix } from '../config';\nimport Icon from './icon';\nimport FormInput from './form_input';\nimport Dropdown from './dropdown';\n// Record: temp not used\n// import { xtoast } from './message';\nimport { tf } from '../locale/locale';\n\nclass DropdownMore extends Dropdown {\n  constructor(click) {\n    const icon = new Icon('ellipsis');\n    super(icon, 'auto', false, 'top-left');\n    this.contentClick = click;\n  }\n\n  reset(items) {\n    const eles = items.map((it, i) => h('div', `${cssPrefix}-item`)\n      .css('width', '150px')\n      .css('font-weight', 'normal')\n      .on('click', () => {\n        this.contentClick(i);\n        this.hide();\n      })\n      .child(it));\n    this.setContentChildren(...eles);\n  }\n\n  setTitle() {}\n}\n\nconst menuItems = [\n  { key: 'delete', title: tf('contextmenu.deleteSheet') },\n];\n\nfunction buildMenuItem(item) {\n  return h('div', `${cssPrefix}-item`)\n    .child(item.title())\n    .on('click', () => {\n      this.itemClick(item.key);\n      this.hide();\n    });\n}\n\nfunction buildMenu() {\n  return menuItems.map(it => buildMenuItem.call(this, it));\n}\n\nclass ContextMenu {\n  constructor() {\n    this.el = h('div', `${cssPrefix}-contextmenu`)\n      .css('width', '160px')\n      .children(...buildMenu.call(this))\n      .hide();\n    this.itemClick = () => {};\n  }\n\n  hide() {\n    const { el } = this;\n    el.hide();\n    unbindClickoutside(el);\n  }\n\n  setOffset(offset) {\n    const { el } = this;\n    el.offset(offset);\n    el.show();\n    bindClickoutside(el);\n  }\n}\n\nexport default class Bottombar {\n  constructor(addFunc = () => {},\n    swapFunc = () => {},\n    deleteFunc = () => {},\n    updateFunc = () => {}) {\n    this.swapFunc = swapFunc;\n    this.updateFunc = updateFunc;\n    this.dataNames = [];\n    this.activeEl = null;\n    this.deleteEl = null;\n    this.items = [];\n    this.moreEl = new DropdownMore((i) => {\n      this.clickSwap2(this.items[i]);\n    });\n    this.contextMenu = new ContextMenu();\n    this.contextMenu.itemClick = deleteFunc;\n    this.el = h('div', `${cssPrefix}-bottombar`).children(\n      this.contextMenu.el,\n      this.menuEl = h('ul', `${cssPrefix}-menu`).child(\n        h('li', '').children(\n          new Icon('add').on('click', () => {\n            addFunc();\n          }),\n          h('span', '').child(this.moreEl),\n        ),\n      ),\n    );\n  }\n\n  addItem(name, active, options) {\n    this.dataNames.push(name);\n    const item = h('li', active ? 'active' : '').child(name);\n    item.on('click', () => {\n      this.clickSwap2(item);\n    }).on('contextmenu', (evt) => {\n      if (options.mode === 'read') return;\n      const { offsetLeft, offsetHeight } = evt.target;\n      this.contextMenu.setOffset({ left: offsetLeft, bottom: offsetHeight + 1 });\n      this.deleteEl = item;\n    }).on('dblclick', () => {\n      if (options.mode === 'read') return;\n      const v = item.html();\n      const input = new FormInput('auto', '');\n      input.val(v);\n      input.input.on('blur', ({ target }) => {\n        const { value } = target;\n        const nindex = this.dataNames.findIndex(it => it === v);\n        this.renameItem(nindex, value);\n        /*\n        this.dataNames.splice(nindex, 1, value);\n        this.moreEl.reset(this.dataNames);\n        item.html('').child(value);\n        this.updateFunc(nindex, value);\n        */\n      });\n      item.html('').child(input.el);\n      input.focus();\n    });\n    if (active) {\n      this.clickSwap(item);\n    }\n    this.items.push(item);\n    this.menuEl.child(item);\n    this.moreEl.reset(this.dataNames);\n  }\n\n  renameItem(index, value) {\n    this.dataNames.splice(index, 1, value);\n    this.moreEl.reset(this.dataNames);\n    this.items[index].html('').child(value);\n    this.updateFunc(index, value);\n  }\n\n  clear() {\n    this.items.forEach((it) => {\n      this.menuEl.removeChild(it.el);\n    });\n    this.items = [];\n    this.dataNames = [];\n    this.moreEl.reset(this.dataNames);\n  }\n\n  deleteItem() {\n    const { activeEl, deleteEl } = this;\n    if (this.items.length > 1) {\n      const index = this.items.findIndex(it => it === deleteEl);\n      this.items.splice(index, 1);\n      this.dataNames.splice(index, 1);\n      this.menuEl.removeChild(deleteEl.el);\n      this.moreEl.reset(this.dataNames);\n      if (activeEl === deleteEl) {\n        const [f] = this.items;\n        this.activeEl = f;\n        this.activeEl.toggle();\n        return [index, 0];\n      }\n      return [index, -1];\n    }\n    return [-1];\n  }\n\n  clickSwap2(item) {\n    const index = this.items.findIndex(it => it === item);\n    this.clickSwap(item);\n    this.activeEl.toggle();\n    this.swapFunc(index);\n  }\n\n  clickSwap(item) {\n    if (this.activeEl !== null) {\n      this.activeEl.toggle();\n    }\n    this.activeEl = item;\n  }\n}\n","/* global window, document */\nimport { h } from './component/element';\nimport DataProxy from './core/data_proxy';\nimport Sheet from './component/sheet';\nimport Bottombar from './component/bottombar';\nimport { cssPrefix } from './config';\nimport { locale } from './locale/locale';\nimport './index.less';\n\n\nclass Spreadsheet {\n  constructor(selectors, options = {}) {\n    let targetEl = selectors;\n    this.options = { showBottomBar: true, ...options };\n    this.sheetIndex = 1;\n    this.datas = [];\n    if (typeof selectors === 'string') {\n      targetEl = document.querySelector(selectors);\n    }\n    this.bottombar = this.options.showBottomBar ? new Bottombar(() => {\n      if (this.options.mode === 'read') return;\n      const d = this.addSheet();\n      this.sheet.resetData(d);\n    }, (index) => {\n      const d = this.datas[index];\n      this.sheet.resetData(d);\n    }, () => {\n      this.deleteSheet();\n    }, (index, value) => {\n      this.datas[index].name = value;\n      this.sheet.trigger('change');\n    }) : null;\n    this.data = this.addSheet();\n    const rootEl = h('div', `${cssPrefix}`)\n      .on('contextmenu', evt => evt.preventDefault());\n    // create canvas element\n    targetEl.appendChild(rootEl.el);\n    this.sheet = new Sheet(rootEl, this.data);\n    if (this.bottombar !== null) {\n      rootEl.child(this.bottombar.el);\n    }\n  }\n\n  addSheet(name, active = true) {\n    const n = name || `sheet${this.sheetIndex}`;\n    const d = new DataProxy(n, this.options);\n    d.change = (...args) => {\n      this.sheet.trigger('change', ...args);\n    };\n    this.datas.push(d);\n    // console.log('d:', n, d, this.datas);\n    if (this.bottombar !== null) {\n      this.bottombar.addItem(n, active, this.options);\n    }\n    this.sheetIndex += 1;\n    return d;\n  }\n\n  deleteSheet() {\n    if (this.bottombar === null) return;\n\n    const [oldIndex, nindex] = this.bottombar.deleteItem();\n    if (oldIndex >= 0) {\n      this.datas.splice(oldIndex, 1);\n      if (nindex >= 0) this.sheet.resetData(this.datas[nindex]);\n      this.sheet.trigger('change');\n    }\n  }\n\n  loadData(data) {\n    const ds = Array.isArray(data) ? data : [data];\n    if (this.bottombar !== null) {\n      this.bottombar.clear();\n    }\n    this.datas = [];\n    if (ds.length > 0) {\n      for (let i = 0; i < ds.length; i += 1) {\n        const it = ds[i];\n        const nd = this.addSheet(it.name, i === 0);\n        nd.setData(it);\n        if (i === 0) {\n          this.sheet.resetData(nd);\n        }\n      }\n    }\n    return this;\n  }\n\n  getData() {\n    return this.datas.map(it => it.getData());\n  }\n\n  cellText(ri, ci, text, sheetIndex = 0) {\n    this.datas[sheetIndex].setCellText(ri, ci, text, 'finished');\n    return this;\n  }\n\n  cell(ri, ci, sheetIndex = 0) {\n    return this.datas[sheetIndex].getCell(ri, ci);\n  }\n\n  cellStyle(ri, ci, sheetIndex = 0) {\n    return this.datas[sheetIndex].getCellStyle(ri, ci);\n  }\n\n  reRender() {\n    this.sheet.table.render();\n    return this;\n  }\n\n  on(eventName, func) {\n    this.sheet.on(eventName, func);\n    return this;\n  }\n\n  validate() {\n    const { validations } = this.data;\n    return validations.errors.size <= 0;\n  }\n\n  change(cb) {\n    this.sheet.on('change', cb);\n    return this;\n  }\n\n  static locale(lang, message) {\n    locale(lang, message);\n  }\n}\n\nconst spreadsheet = (el, options = {}) => new Spreadsheet(el, options);\n\nif (window) {\n  window.x_spreadsheet = spreadsheet;\n  window.x_spreadsheet.locale = (lang, message) => locale(lang, message);\n}\n\nexport default Spreadsheet;\nexport {\n  spreadsheet,\n};\n"],"sourceRoot":""}
